ModuloPersonaV2 As screen:

    Button25_5 As button:
        Fill: |-
            =If(
                _VarEquipo="MiEquipo",
                RGBA(22, 196, 247,1),
                RGBA(56, 96, 178, 1)
            )
        OnSelect: |-
            =Set(_VarEquipo,"MiEquipo");
            Navigate(ModuloEquipoV1,ScreenTransition.Fade)
        Text: ="Mi Equipo funcional"
        Visible: |-
            =If(
                LookUp(Col_BD_Persona, Usuario = _VarUsuarioJefe,GerenciaOrigen) = "GERENCIA INGENIERIA DE SOFTWARE",
                false,
                true
            )
        Width: =225
        X: =1377
        Y: =955
        ZIndex: =1

    Gp_CabeceraPersona_8 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =1

        Rct_FondoCabecera_Persona_15 As rectangle:
            Fill: =_VarColoresApp.AzulparaCabeceras
            Height: =60
            Width: =1920
            ZIndex: =4

        Img_UsuarioPantallaPersona_13 As image:
            Height: =50
            Image: =_UserFoto
            RadiusBottomLeft: =50
            RadiusBottomRight: =50
            RadiusTopLeft: |
                =50
            RadiusTopRight: =50
            Width: =54
            X: =1774
            Y: =5
            ZIndex: =5

    Button25_6 As button:
        DisplayMode: |-
            =If(
                  _VarUsuarioJefe in Col_UserPermiso.User || _VarRolUsuario = "ENGINEERING MANAGER III",
                  DisplayMode.Edit,
                  DisplayMode.Disabled
            )
        Fill: |-
            =If(
                _VarEquipo="EquiposVirtuales",
                RGBA(22, 196, 247,1),
                RGBA(56, 96, 178, 1)
            )
        OnSelect: |-
            =Set(_VarEquipo,"EquiposVirtuales");
            Navigate(ModuloEquipoV1,ScreenTransition.Fade)
        Text: ="Equipos virtuales"
        Width: =225
        X: =1620
        Y: =955
        ZIndex: =2

    Image4_3 As image:
        Height: =74
        Image: ='OddPreciousIndri-max-1mb'
        Width: =132
        X: =320
        Y: =102
        ZIndex: =3

    Button2_8 As button:
        Fill: =_VarColoresApp.VerdeParaBotones
        Height: =60
        HoverFill: =_VarColoresApp.AzulFondo
        OnSelect: |-
            =If(IsBlank(Back()),
            Navigate(Portada),
            Back()
            )
            /*
            If(
                !_VarMostrarBarraBloqueo;
                Reset(Rd_InternoExterno);;
                Reset(Cmb_BuscarMiEquipo);;
                UpdateContext({_VarMostrarEdicionEquipo:false});;
                Clear(Col_UsuariosporEquipo);;
                ResetForm(Frm_EditarEquipo);;
                Reset(Rd_PersonasEquipos);;
                Navigate(Portada;ScreenTransition.Fade);
                Notify("No puedes regresar a la pantalla anterior mientras se esta editando a un usuario";NotificationType.Warning;5000)
            )
            */
        PaddingTop: =2.5
        PressedFill: =_VarColoresApp.VerdeParaBotones
        RadiusBottomLeft: =0
        RadiusBottomRight: =0
        RadiusTopLeft: =0
        RadiusTopRight: =0
        Size: =35
        Text: ="⬅"
        Tooltip: ="Regresar"
        Width: =83
        X: =1837
        ZIndex: =6

    Label13_23 As label:
        Align: =Align.Center
        Color: =RGBA(255, 255, 255, 1)
        FontWeight: =FontWeight.Semibold
        Height: =55
        Size: =25
        Text: ="Gestión de Personas"
        Visible: |-
            =If(
                _VarVerPopUpPortafolio,
                false,
                true
            )
        Width: =611
        X: =598
        Y: =2
        ZIndex: =7

    Label19_4 As label:
        Align: =Align.Center
        Font: =Font.Lato
        FontWeight: =FontWeight.Semibold
        Height: =60
        Size: =18
        Text: ="En tu equipo hay " & CountRows(Filter(Col_MiEquipoWalmart,'Interno/Externo' = "Interno")) & " colaboradores internos y " & CountRows(Filter(Col_MiEquipoWalmart,'Interno/Externo' = "Externo")) & " colaboradores externos, que son de tu responsabilidad."
        Width: =1408
        X: =263
        Y: =106
        ZIndex: =8

    Image14_4 As image:
        Height: =40
        Image: |
            =If(Rd_PersonasEquipos.Selected.Value="Mis Equipos",NuevoImg_Equipo,AgregarPersona)
        OnSelect: =Collect(Col_MiEquipoWalmart,Defaults(Lst_Persona))
        Width: =45
        X: =1531
        Y: =223
        ZIndex: =9

    Btn_AgregarExternos_2 As button:
        Fill: =RGBA(232, 46, 179, 1)
        HoverFill: =RGBA(255, 255, 255, 0.63)
        OnSelect: |
            =UpdateContext({_VarMostrarBarraBloqueo:true});
            Set(_VarNuevoIDPErsona,"Usu-" & GUID());
            Patch(Col_MiEquipoWalmart,Defaults(Col_MiEquipoWalmart),
            {
                'Interno/Externo':"Externo",
                ID_Proveedor:Cmb_BuscarPersona_5.Selected.ID,
                Jefe_Directo:_VarUsuarioJefe,
                Nombre_Persona:" "
            }
            )
        PaddingTop: =2.5
        PressedFill: =RGBA(255, 255, 255, 0.68)
        RadiusBottomLeft: =20
        RadiusBottomRight: =20
        RadiusTopLeft: =20
        RadiusTopRight: =20
        Size: =14
        Text: ="Agregar persona externa"
        Tooltip: |
            =If(
                Rd_PersonasEquipos.Selected.Value = "Mis Equipos",
                "Agregar Nuevo Equipo",
                "Agregar Nueva Persona"
            )
        Width: =290
        X: =1582
        Y: =223
        ZIndex: =10

    Label19_5 As label:
        Align: =Align.Center
        BorderColor: =RGBA(139, 154, 159, 1)
        BorderStyle: =BorderStyle.None
        BorderThickness: =1
        Fill: =RGBA(180, 214, 250, 0.15)
        Font: =Font.'Lato Hairline'
        FontWeight: =FontWeight.Semibold
        Height: =60
        Size: =18
        Text: ="Recuerda que los colaboradores internos se encuentran automatizados, mientras que los externos dependen de tu gestión"
        Width: =1275
        X: =62
        Y: =955
        ZIndex: =11

    Solicitar_Cambio_Jefatura_2 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(202, 202, 202, 0.78)
        Height: =885
        Visible: =_Var_sol_cambioJefe
        Width: =1811
        X: =62
        Y: =70
        ZIndex: =17

        Label25_2 As label:
            BorderColor: =RGBA(219, 219, 219, 1)
            BorderThickness: =1
            Fill: =RGBA(255, 255, 255, 1)
            Height: =287
            PaddingLeft: =25
            PaddingRight: =20
            Size: =14
            Text: |-
                ="
                
                
                Estas a punto de asignar a " &Cmb_BuscarPersona.Selected.DisplayName& " bajo tu cargo.
                
                Se enviará un correo a " &Cmb_BuscarJefe.Selected.DisplayName & " y al equipo de Agile Portfolio informando este ajuste."
            VerticalAlign: =VerticalAlign.Top
            Width: =715
            X: =585
            Y: =275
            ZIndex: =1

        Btn_Cambiar_Jefatura_6 As button:
            DisplayMode: |-
                =If(
                    !IsBlank(_VarNuevoIDPErsona),
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            Fill: =_VarColoresApp.AzulFondo
            Height: =52
            OnSelect: =Set(_Var_sol_cambioJefe,false)
            Text: ="Cancelar"
            Width: =179
            X: =726
            Y: =488
            ZIndex: =3

        Btn_Cambiar_Jefatura_7 As button:
            DisplayMode: |-
                =If(
                    !IsBlank(_VarNuevoIDPErsona),
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            Fill: =_VarColoresApp.AzulFondo
            Height: =52
            OnSelect: |
                =Office365Outlook.SendEmailV2(
                    "AgilePortfolio@wal-mart.com;" &LookUp(Col_BD_Persona, Usuario = Txt_JefeDirecto.Text, 'Correo Electrónico'),
                    "Cambio de Jefatura en un recurso de BIND",
                  "<p>Hola!<br>
                <br>He asignado a mi cargo a una persona que estaba a tu nombre en el módulo de personas de BIND.<br>"
                &"<br><br><strong>Usuario ajustado: </strong>" & Cmb_BuscarPersona.Selected.DisplayName&" ("& Txt_Usuario.Text &")"
                &"<br><strong>Jefe Anterior: </strong>"& Cmb_BuscarJefe.Selected.DisplayName &" ("& Txt_JefeDirecto.Text &")"
                &"<br><strong>Nuevo Jefe: </strong>" & User().FullName&" ("& _VarUsuarioJefe &")"
                &"<br><br>
                </p>"
                );
                Patch(Lst_Persona,LookUp(Lst_Persona, Usuario = Upper(Txt_Usuario.Text)),{
                    GerenciaOrigen_0: LookUp(Lst_Persona, Usuario = _VarUsuarioJefe, GerenciaOrigen_0),
                    GerenciaOrigen_1: LookUp(Lst_Persona, Usuario = _VarUsuarioJefe, GerenciaOrigen_1),
                    GerenciaOrigen: LookUp(Col_BD_Persona, Usuario = _VarUsuarioJefe, GerenciaOrigen),
                    Jefe_Directo:_VarUsuarioJefe
                }) ;
                
                ClearCollect(Col_BD_Persona, Filter(Lst_Persona, Estado = "Activo"));
                ClearCollect(Col_MiEquipoWalmart,Filter(Lst_Persona, Jefe_Directo = _VarUsuarioJefe && Estado = "Activo"));
                Notify("Se ha asignado " &Cmb_BuscarPersona.Selected.DisplayName &" a tu Jefatura!",NotificationType.Success);
                UpdateContext({_VarMostrarBarraBloqueo:false});
                Clear(Col_EquiposPersonas);
                Set(_VarNuevoIDPErsona,Blank());
                Reset(Cmb_BuscarMiEquipo);
                Set(_VarUsuarioSelect,Blank());
                ResetForm(Frm_EditarPersona);
                Set(_Var_sol_cambioJefe,false)
            Text: ="Asignar a mi"
            Width: =179
            X: =983
            Y: =488
            ZIndex: =4

        Label26_2 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            Fill: =_VarColoresApp.AzulparaCabeceras
            FontWeight: =FontWeight.Semibold
            Height: =46
            Size: =15
            Text: ="Cambio de Jefatura"
            Width: =715
            X: =585
            Y: =275
            ZIndex: =5

    Gallery2_2 As gallery.galleryVertical:
        DelayItemLoading: =true
        Height: =644
        Items: |-
            =Search(
                    SortByColumns(
                            Filter(
                            Col_MiEquipoWalmart,
                            ID_Proveedor=Text(Cmb_BuscarPersona_5.Selected.ID)||IsBlank(Cmb_BuscarPersona_5.Selected.ID)
                            ),
                        "Nombre_Persona",
                        SortOrder.Ascending
                        ),
                        Txt_BuscadorPersona_2.Text,
                        Nombre_Persona,
                        Rol,
                        'Interno/Externo'
            )
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        TemplateSize: =74
        Width: =1811
        X: =62
        Y: =296
        ZIndex: =36

        TextInput14_1 As text:
            BorderColor: =RGBA(15, 108, 189, 1)
            Default: =""
            DisabledBorderColor: =RGBA(15, 108, 189, 1)
            DisabledFill: =If(ThisItem.'Interno/Externo'="Externo",RGBA(255, 255, 255, 1),RGBA(214, 221, 224, 1))
            DisplayMode: =DisplayMode.Disabled
            Fill: =If(ThisItem.'Interno/Externo'="Externo",RGBA(255, 255, 255, 1),RGBA(214, 221, 224, 1))
            Height: =67
            OnSelect: =Select(Parent)
            RadiusBottomLeft: =20
            RadiusBottomRight: =20
            RadiusTopLeft: =20
            RadiusTopRight: =20
            Width: =1785
            Y: =7
            ZIndex: =1

        Button12 As button:
            DisplayMode: =DisplayMode.Disabled
            Fill: =RGBA(214, 221, 224, 1)
            Height: =67
            OnSelect: =Select(Parent)
            RadiusBottomLeft: =0
            RadiusBottomRight: =20
            RadiusTopLeft: =0
            RadiusTopRight: =20
            Text: =
            Width: =185
            X: =1600
            Y: =7
            ZIndex: =2

        Image1_2 As image:
            Fill: =RGBA(219, 219, 219, 1)
            Height: =60
            Image: |-
                =If(
                    IsBlank(Cmb_BuscarPersona_4.Selected.Email),
                    'no-fotos-1',
                    If(
                        IsBlank(UsuariosdeOffice365.UserPhotoV2(Cmb_BuscarPersona_4.Selected.Email)),
                        'no-fotos-1',
                        UsuariosdeOffice365.UserPhotoV2(Cmb_BuscarPersona_4.Selected.Email)
                    )
                )
                /*
                If(
                    CountRows(Col_MiEquipoWalmart) > 0;
                    If(
                        Rd_PersonasEquipos.Selected.Value = "Mis Personas";
                        If(
                            IfError(IsBlank(UsuariosdeOffice365.UserPhotoV2(ThisItem.'Correo Electrónico'));false;IsBlank(UsuariosdeOffice365.UserPhotoV2(ThisItem.'Correo Electrónico')));
                            'no-fotos-1';
                           IfError(UsuariosdeOffice365.UserPhotoV2(ThisItem.'Correo Electrónico');'no-fotos-1';UsuariosdeOffice365.UserPhotoV2(ThisItem.'Correo Electrónico'))
                        )
                    )
                )
                */
            ImagePosition: =ImagePosition.Fill
            OnSelect: =Select(Parent)
            RadiusBottomLeft: =60
            RadiusBottomRight: =60
            RadiusTopLeft: =60
            RadiusTopRight: =60
            Width: =60
            X: =7
            Y: =10
            ZIndex: =3

        Cmb_BuscarPersona_4 As combobox:
            BorderColor: =
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
            ChevronDisabledFill: =RGBA(116, 116, 116, 1)
            ChevronFill: =RGBA(0, 121, 187, 1)
            ChevronHoverBackground: =RGBA(0, 121, 187, 1)
            DefaultSelectedItems: |-
                =Table({DisplayName: ThisItem.Nombre_Persona, Email:ThisItem.'Correo Electrónico'})
            DisabledColor: =RGBA(53, 61, 63, 1)
            DisabledFill: =If(ThisItem.'Interno/Externo'="Interno", RGBA(214, 221, 224, 1),RGBA(255, 255, 255, 1))
            DisplayFields: =["DisplayName","Email","Picture"]
            DisplayMode: =If(IsBlank(ThisItem.ID),DisplayMode.Edit,DisplayMode.Disabled)
            Height: |
                =40
            HoverBorderColor: =RGBA(0, 121, 187, 1)
            Items: =Choices([@Lst_Persona].BuscarNombrePersona)
            OnChange: |
                =
                If(
                    IsBlank(_VarUsuarioSelect) && IsBlank(Cmb_BuscarMiEquipo.Selected.Usuario),
                    Clear(Col_EquiposPersonas);
                    //UpdateContext({_VarTempJefeDirecto:LookUp(Lst_Persona; Usuario = Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona.Selected.Claims;"@"); {Result: ThisRecord.Value})).Result;"|"); {Result: ThisRecord.Value})).Result;Jefe_Directo)});;
                    Collect(Col_EquiposPersonas,Filter(Col_BD_AsignacionEquipos, Usuario = Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_4.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result, Estado = "Activo"))
                );
            PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
            PressedFill: =RGBA(0, 121, 187, 1)
            SearchFields: =["DisplayName"]
            SearchItems: =Choices(Lst_Persona.BuscarNombrePersona,Cmb_BuscarPersona_4.SearchText)
            SelectionFill: =RGBA(0, 121, 187, 1)
            SelectMultiple: =false
            Template: =ListItemTemplate.Person
            Tooltip: =
            Width: |+
                =300
                
            X: =77
            Y: =20
            ZIndex: =4

        Dpd_Empresa_4 As dropdown:
            BorderColor: =
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
            ChevronDisabledFill: =RGBA(128, 128, 128, 1)
            ChevronFill: =RGBA(0, 121, 187, 1)
            ChevronHoverBackground: =RGBA(0, 121, 187, 1)
            Default: |-
                =If(ThisItem.'Interno/Externo'="Interno","WALMART CHILE S.A.",
                If(
                    !IsBlank(ThisItem.ID),
                    LookUp(Lst_Proveedores,ID=Value(ThisItem.ID_Proveedor)).Razon_Social_Proveedor,
                    LookUp(Lst_Proveedores,ID=Value(LookUp(Col_BD_Persona, Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_4.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result),ID_Proveedor))).Razon_Social_Proveedor
                ))
            DisabledColor: =RGBA(53, 61, 63, 1)
            DisabledFill: =RGBA(214, 221, 224, 1)
            DisplayMode: =If(ThisItem.'Interno/Externo'="Externo",DisplayMode.Edit,DisplayMode.Disabled)
            HoverBorderColor: =RGBA(0, 121, 187, 1)
            Items: |-
                =SortByColumns(Lst_Proveedores,"Razon_Social",SortOrder.Ascending)
                //Sort(ForAll(Distinct(Filter(Empresa,Dpd_InternoExterno_1.SelectedText.Value='Interno/Externo'),Empresa), {Result: ThisRecord.Value}),Result,SortOrder.Ascending)
            PressedFill: =RGBA(0, 121, 187, 1)
            Tooltip: =
            Visible: =Label12.Text="Externo"
            Width: =350
            X: =404
            Y: =20
            ZIndex: =5

        Txt_Rut_3 As text:
            Align: =Align.Center
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderThickness: =0
            Default: |-
                =If(
                    !IsBlank(ThisItem.ID),
                    ThisItem.RUT,
                    LookUp(Col_BD_Persona, Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_4.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result),RUT)
                )
            DelayOutput: =true
            DisabledColor: =RGBA(53, 61, 63, 1)
            DisabledFill: =RGBA(214, 221, 224, 1)
            DisplayMode: =If(ThisItem.'Interno/Externo'="Externo",DisplayMode.Edit,DisplayMode.Disabled)
            PaddingLeft: =10
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Tooltip: =
            Width: =125
            X: =768
            Y: =20
            ZIndex: =6

        Dtp_FechaIngreso_3 As datepicker:
            BorderColor: =
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            DefaultDate: |-
                =If(
                    !IsBlank(ThisItem.ID),
                    ThisItem.'Fecha de Ingreso',
                    LookUp(Col_BD_Persona, Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_4.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result),'Fecha de Ingreso')
                )
            DisabledColor: =RGBA(53, 61, 63, 1)
            DisabledFill: =RGBA(214, 221, 224, 1)
            DisplayMode: =If(ThisItem.'Interno/Externo'="Externo",DisplayMode.Edit,DisplayMode.Disabled)
            EndYear: =Year(Today())+100
            IconBackground: =RGBA(244, 244, 244, 1)
            IconFill: =RGBA(0, 121, 187, 1)
            IsEditable: =true
            PaddingBottom: =0
            PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
            Size: =13
            StartYear: =1899
            Tooltip: =
            Width: =140
            X: =904
            Y: =20
            ZIndex: =7

        Separator As rectangle:
            Height: =50
            OnSelect: =Select(Parent)
            Width: =1
            X: =390
            Y: =15
            ZIndex: =8

        Separator_1 As rectangle:
            Height: =50
            OnSelect: =Select(Parent)
            Width: =1
            X: =763
            Y: |
                =5+10
            ZIndex: =9

        Separator_2 As rectangle:
            Height: =50
            OnSelect: =Select(Parent)
            Width: =1
            X: =897
            Y: |
                =5+10
            ZIndex: =10

        Separator_3 As rectangle:
            Height: =50
            OnSelect: =Select(Parent)
            Width: =1
            X: =1057
            Y: =10+5
            ZIndex: =11

        Dpd_Genero_3 As combobox:
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderStyle: =BorderStyle.None
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
            ChevronDisabledFill: =RGBA(128, 128, 128, 1)
            ChevronFill: =RGBA(0, 121, 187, 1)
            ChevronHoverBackground: =RGBA(0, 121, 187, 1)
            Default: |-
                ={Value:ThisItem.Genero}
            DefaultSelectedItems: |-
                =If(
                    !IsBlank(ThisItem.ID),
                    Table({Value:ThisItem.Genero}),
                    Table({Value:LookUp(Col_BD_Persona, Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_4.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result),Genero)})
                )
            DisabledColor: =RGBA(53, 61, 63, 1)
            DisabledFill: =RGBA(214, 221, 224, 1)
            DisplayFields: =["Value"]
            DisplayMode: =If(ThisItem.'Interno/Externo'="Externo",DisplayMode.Edit,DisplayMode.Disabled)
            HoverBorderColor: =RGBA(0, 121, 187, 1)
            IsSearchable: =false
            Items: =["M","F"]
            PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
            PressedFill: =RGBA(0, 121, 187, 1)
            SearchFields: =["Value"]
            SearchItems: =[]
            SelectionColor: =RGBA(0, 0, 0, 1)
            SelectionFill: =RGBA(255, 255, 255, 1)
            SelectMultiple: =false
            Tooltip: =
            Width: =70
            X: =1073
            Y: =20
            ZIndex: =12

        Separator_4 As rectangle:
            Height: =50
            OnSelect: =Select(Parent)
            Width: =1
            X: =1149
            Y: =15
            ZIndex: =13

        Separator_5 As rectangle:
            Height: =50
            OnSelect: =Select(Parent)
            Width: =1
            X: =1290
            Y: =15
            ZIndex: =14

        Cmb_Rol_3 As dropdown:
            BorderColor: =
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
            ChevronDisabledFill: =RGBA(149, 149, 149, 1)
            ChevronFill: =RGBA(0, 121, 187, 1)
            ChevronHoverBackground: =RGBA(0, 121, 187, 1)
            Default: |-
                =If(
                    !IsBlank(ThisItem.ID),
                    ThisItem.Rol,
                    LookUp(Col_BD_Persona, Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_4.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result),Rol)
                )
            DisabledColor: =RGBA(53, 61, 63, 1)
            DisabledFill: =RGBA(214, 221, 224, 1)
            DisplayMode: =If(ThisItem.'Interno/Externo'="Externo",DisplayMode.Edit,DisplayMode.Disabled)
            Height: =47
            HoverBorderColor: =RGBA(0, 121, 187, 1)
            Items: =Sort(Rol,Roles,SortOrder.Ascending)
            PressedFill: =RGBA(0, 121, 187, 1)
            Size: =12
            Tooltip: =
            Width: =283
            X: =1301
            Y: =18
            ZIndex: =15

        Label12 As label:
            Align: =Align.Center
            OnSelect: =Select(Parent)
            Text: |
                =If(IsBlank( 
                    If(
                    !IsBlank(ThisItem.ID),
                    ThisItem.'Interno/Externo',
                    LookUp(Col_BD_Persona, Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_4.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result),'Interno/Externo')
                    )),
                    "Externo",
                    If(
                    !IsBlank(ThisItem.ID),
                    ThisItem.'Interno/Externo',
                    LookUp(Col_BD_Persona, Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_4.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result),'Interno/Externo')
                    )
                )
            Width: =130
            X: =1155
            Y: =20
            ZIndex: =16

        Icn_Pry_Cancelar_12 As icon.CancelBadge:
            Color: |-
                =If(
                    Txt_Rut_3.Text<>ThisItem.RUT,
                    RGBA(54, 176, 75, 1),
                    RGBA(255, 0, 0, 1)
                )
            Height: =35
            Icon: |-
                =Switch(
                    Label14.Text,
                    "Modificar",Icon.CheckBadge,
                    "Agregar Usuario",Icon.CheckBadge,
                    "Dar de baja",Icon.CancelBadge,
                    "Cambiar Jefatura",Icon.Sync,
                    Icon.Information
                )
            OnSelect: |-
                =/*
                Reset(Txt_Pry_NombreProyectoProducto);;
                Reset(Cmb_Pry_BBB);;
                Reset(Dpd_Pry_Dominio);;
                Reset(Rd_Pry_LeverageWM);;
                Reset(Rd_Pry_RegistradoenAPM);;
                Reset(Rd_Pry_ProvieneOA);;
                Reset(Rd_Pry_RequiereFinanciamiento);;
                Reset(Cmb_Gl_JefeProyecto);;
                //Reset(Txt_CodigoJira);;
                Reset(Cmb_Gl_Equipo);;
                Reset(Txt_Pry_NombreAPM);;
                Reset(Txt_Pry_CodigoAPM);;
                Reset(Dpd_Pry_NombreNecesidad);;
                Reset(Dpd_Pry_DetalleMotivo);;
                */
                Set(ResetearControlPry,true);
                
                Clear(ProyectoSeleccionado);
                If(Valor1="Proyecto",
                Navigate(ListadoProductoProyecto,ScreenTransition.Fade,{Valor:"Proyecto"}),
                Navigate(ListadoIniciativas,ScreenTransition.Fade,{Valor:"Iniciativa"})
                );
            Tooltip: ="Limpiar Controles"
            Visible: =Label12.Text="Externo"
            Width: =35
            X: =1739
            Y: =23
            ZIndex: =17

        Label14 As label:
            Align: =Align.Center
            Height: =50
            OnSelect: =Select(Parent)
            Size: =12
            Text: |-
                =If(IsBlank(ThisItem.ID),
                   
                //Validar si ya esta asignado a otro jefe
                If(IsBlank(LookUp(Col_BD_Persona, Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_4.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result),Jefe_Directo)),
                 "Agregar Usuario",
                
                If(LookUp(Col_BD_Persona, Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_4.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result),Jefe_Directo)=_VarUsuarioJefe,
                "Ya asignado",
                "Cambiar Jefatura")
                ),
                        If(
                            Txt_Rut_3.Text<>ThisItem.RUT||
                            Dpd_Genero_3.Selected.Value<>ThisItem.Genero||
                            Dtp_FechaIngreso_3.SelectedDate<>ThisItem.'Fecha de Ingreso'||
                            Cmb_Rol_3.Selected.Roles<>ThisItem.Rol||
                            Text(Dpd_Empresa_4.Selected.ID)<>ThisItem.ID_Proveedor,
                            "Modificar",
                            "Dar de baja"
                        )
                )
            Visible: =Label12.Text="Externo"
            Width: =126
            X: =1600
            Y: =15
            ZIndex: =18

        Label12_3 As label:
            Height: =49
            OnSelect: =Select(Parent)
            Text: ="WALMART CHILE S.A."
            Visible: =Label12.Text="Interno"
            Width: =350
            X: =404
            Y: =21
            ZIndex: =19

    Txt_BuscadorPersona_3 As text:
        BorderColor: =RGBA(53, 61, 63, 1)
        Default: =""
        Height: =46
        HintText: ="Buscar Persona, Rol o Tipo"
        RadiusBottomLeft: =20
        RadiusBottomRight: =20
        RadiusTopLeft: =20
        RadiusTopRight: =20
        Width: =1
        X: =529
        Y: =219
        ZIndex: =43

    Gp_Buscador_1 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =43

        Txt_BuscadorPersona_2 As text:
            BorderColor: =RGBA(53, 61, 63, 1)
            Default: =""
            Height: =46
            HintText: ="Buscar Persona, Rol o Tipo"
            RadiusBottomLeft: =20
            RadiusBottomRight: =20
            RadiusTopLeft: =20
            RadiusTopRight: =20
            Width: =1
            X: =95
            Y: =219
            ZIndex: =12

        Icon1_4 As icon.Search:
            BorderStyle: =BorderStyle.None
            Color: =RGBA(53, 61, 63, 1)
            Height: =40
            Icon: =Icon.Search
            OnSelect: =Set(_VarMostrarBuscar, !_VarMostrarBuscar)
            Tooltip: ="Buscar Persona"
            X: =106
            Y: =220
            ZIndex: =13

        Label27_2 As label:
            Color: =RGBA(79, 90, 94, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Lighter
            Height: =46
            OnSelect: =Set(_VarMostrarBuscar, !_VarMostrarBuscar)
            Size: =15
            Text: ="Buscar Persona, Rol o Tipo"
            Width: =300
            X: =163
            Y: =217
            ZIndex: =14

    Cmb_BuscarPersona_5 As combobox:
        AccessibleLabel: ="."
        BorderColor: =
        BorderStyle: =BorderStyle.None
        BorderThickness: =0
        ChevronBackground: =RGBA(255, 255, 255, 1)
        ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
        ChevronDisabledFill: =RGBA(116, 116, 116, 1)
        ChevronFill: =RGBA(0, 121, 187, 1)
        ChevronHoverBackground: =RGBA(0, 121, 187, 1)
        DefaultSelectedItems: |-
            =/*Param DeepLink personas f30*/
            
            If(
                //Si viene de Bind valida a que ventana se dirige
                !IsBlank(Param("ID_Request")),
            
                    If(IsBlank(LookUp(Lst_ConfirmacionManagersF30,ID=Value(Param("ID_Request"))).Fechaconfirmacion),
                    Filter(Lst_Proveedores,ID=Value(LookUp(Lst_ConfirmacionManagersF30,ID=Value(Param("ID_Request"))).ID_Proveedor)),
                    Blank()
                    )
            
            )
        DisabledColor: =RGBA(53, 61, 63, 1)
        DisplayFields: =["Razon_Social"]
        Height: |
            =40
        HoverBorderColor: =RGBA(0, 121, 187, 1)
        InputTextPlaceholder: ="Seleccionar proveedor"
        Items: =SortByColumns(Lst_Proveedores,"Razon_Social",SortOrder.Ascending)
        OnChange: =
        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
        PressedFill: =RGBA(0, 121, 187, 1)
        SearchFields: =["Razon_Social"]
        SearchItems: =Search(SortByColumns(Lst_Proveedores,"Razon_Social",SortOrder.Ascending),Cmb_BuscarPersona_5.SearchText,Razon_Social)
        SelectionFill: =RGBA(0, 121, 187, 1)
        SelectMultiple: =false
        Size: =15
        Tooltip: =
        Width: =450
        X: =540
        Y: =219
        ZIndex: =45

    Toggle1 As Toggle:
        DisplayMode: =DisplayMode.Edit
        FontSize: =18
        Height: =48
        Label: ="Ver solo Externos"
        LabelPosition: ='Toggle.LabelPosition'.Before
        OnCheck: =false
        OnUncheck: =false
        Width: =229
        X: =1062
        Y: =217
        ZIndex: =46

    Txt_BuscadorPersona_4 As text:
        BorderColor: =RGBA(53, 61, 63, 1)
        Default: =""
        Height: =46
        HintText: ="Buscar Persona, Rol o Tipo"
        RadiusBottomLeft: =20
        RadiusBottomRight: =20
        RadiusTopLeft: =20
        RadiusTopRight: =20
        Width: =1
        X: =1062
        Y: =219
        ZIndex: =47

