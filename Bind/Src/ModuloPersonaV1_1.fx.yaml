ModuloPersonaV1_1 As screen:

    Button25_5 As button:
        Fill: |-
            =If(
                _VarEquipo="MiEquipo",
                RGBA(22, 196, 247,1),
                RGBA(56, 96, 178, 1)
            )
        OnSelect: |-
            =Set(_VarEquipo,"MiEquipo");
            Navigate(ModuloEquipoV1,ScreenTransition.Fade)
        Text: ="Mi Equipo funcional"
        Visible: |-
            =If(
                LookUp(Col_BD_Persona, Usuario = _VarUsuarioJefe,GerenciaOrigen) = "GERENCIA INGENIERIA DE SOFTWARE",
                false,
                true
            )
        Width: =225
        X: =1377
        Y: =955
        ZIndex: =1

    Gp_CabeceraPersona_8 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =1

        Rct_FondoCabecera_Persona_15 As rectangle:
            Fill: =_VarColoresApp.AzulparaCabeceras
            Height: =60
            Width: =1920
            ZIndex: =4

        Img_UsuarioPantallaPersona_13 As image:
            Height: =50
            Image: =_UserFoto
            RadiusBottomLeft: =50
            RadiusBottomRight: =50
            RadiusTopLeft: |
                =50
            RadiusTopRight: =50
            Width: =54
            X: =1774
            Y: =5
            ZIndex: =5

    Button25_6 As button:
        DisplayMode: |-
            =If(
                  _VarUsuarioJefe in Col_UserPermiso.User || _VarRolUsuario = "ENGINEERING MANAGER III",
                  DisplayMode.Edit,
                  DisplayMode.Disabled
            )
        Fill: |-
            =If(
                _VarEquipo="EquiposVirtuales",
                RGBA(22, 196, 247,1),
                RGBA(56, 96, 178, 1)
            )
        OnSelect: |-
            =Set(_VarEquipo,"EquiposVirtuales");
            Navigate(ModuloEquipoV1,ScreenTransition.Fade)
        Text: ="Equipos virtuales"
        Width: =225
        X: =1620
        Y: =955
        ZIndex: =2

    Image4_3 As image:
        Height: =74
        Image: ='OddPreciousIndri-max-1mb'
        Width: =132
        X: =320
        Y: =102
        ZIndex: =3

    Button2_8 As button:
        Fill: =_VarColoresApp.VerdeParaBotones
        Height: =60
        HoverFill: =_VarColoresApp.AzulFondo
        OnSelect: |-
            =Back()
            /*
            If(
                !_VarMostrarBarraBloqueo;
                Reset(Rd_InternoExterno);;
                Reset(Cmb_BuscarMiEquipo);;
                UpdateContext({_VarMostrarEdicionEquipo:false});;
                Clear(Col_UsuariosporEquipo);;
                ResetForm(Frm_EditarEquipo);;
                Reset(Rd_PersonasEquipos);;
                Navigate(Portada;ScreenTransition.Fade);
                Notify("No puedes regresar a la pantalla anterior mientras se esta editando a un usuario";NotificationType.Warning;5000)
            )
            */
        PaddingTop: =2.5
        PressedFill: =_VarColoresApp.VerdeParaBotones
        RadiusBottomLeft: =0
        RadiusBottomRight: =0
        RadiusTopLeft: =0
        RadiusTopRight: =0
        Size: =35
        Text: ="⬅"
        Tooltip: ="Regresar"
        Width: =83
        X: =1837
        ZIndex: =6

    Label13_23 As label:
        Align: =Align.Center
        Color: =RGBA(255, 255, 255, 1)
        FontWeight: =FontWeight.Semibold
        Height: =55
        Size: =25
        Text: ="Gestión de Personas"
        Visible: |-
            =If(
                _VarVerPopUpPortafolio,
                false,
                true
            )
        Width: =611
        X: =598
        Y: =2
        ZIndex: =7

    Label19_4 As label:
        Align: =Align.Center
        Font: =Font.Lato
        FontWeight: =FontWeight.Semibold
        Height: =60
        Size: =18
        Text: ="En tu equipo hay " & CountRows(Filter(Col_MiEquipoWalmart,'Interno/Externo' = "Interno")) & " colaboradores internos y " & CountRows(Filter(Col_MiEquipoWalmart,'Interno/Externo' = "Externo")) & " colaboradores externos, que son de tu responsabilidad."
        Width: =1408
        X: =263
        Y: =106
        ZIndex: =8

    Image14_4 As image:
        Height: =40
        Image: |
            =If(Rd_PersonasEquipos.Selected.Value="Mis Equipos",NuevoImg_Equipo,AgregarPersona)
        OnSelect: =Collect(Col_MiEquipoWalmart,Defaults(Lst_Persona))
        Width: =45
        X: =1531
        Y: =223
        ZIndex: =9

    Btn_AgregarExternos_2 As button:
        Fill: =RGBA(232, 46, 179, 1)
        HoverFill: =RGBA(255, 255, 255, 0.63)
        OnSelect: |-
            =UpdateContext({_VarMostrarBarraBloqueo:true});
            Set(_VarNuevoIDPErsona,"Usu-" & GUID());
            /*
            If(
                Rd_PersonasEquipos.Selected.Value = "Mis Personas";
                UpdateContext({_VarMostrarBarraBloqueo:true});;
                Set(_VarNuevoIDPErsona;"Usu-" & GUID());;
                Clear(Col_EquiposPersonas);;
                NewForm(Frm_EditarPersona);
                Set(_VarIDEquipo;"Equi-"&GUID());;
                NewForm(Frm_CrearNuevoEquipo);;
                UpdateContext({_VarPopUpVerCrearEquipo:true})
            )
            */
        PaddingTop: =2.5
        PressedFill: =RGBA(255, 255, 255, 0.68)
        RadiusBottomLeft: =20
        RadiusBottomRight: =20
        RadiusTopLeft: =20
        RadiusTopRight: =20
        Size: =14
        Text: ="Agregar persona externa"
        Tooltip: |
            =If(
                Rd_PersonasEquipos.Selected.Value = "Mis Equipos",
                "Agregar Nuevo Equipo",
                "Agregar Nueva Persona"
            )
        Width: =290
        X: =1582
        Y: =223
        ZIndex: =10

    Label19_5 As label:
        Align: =Align.Center
        BorderColor: =RGBA(139, 154, 159, 1)
        BorderStyle: =BorderStyle.None
        BorderThickness: =1
        Fill: =RGBA(180, 214, 250, 0.15)
        Font: =Font.'Lato Hairline'
        FontWeight: =FontWeight.Semibold
        Height: =60
        Size: =18
        Text: ="Recuerda que los colaboradores internos se encuentran automatizados, mientras que los externos dependen de tu gestión"
        Width: =1275
        X: =62
        Y: =955
        ZIndex: =11

    Btn_EliminarRegistros_3 As button:
        BorderColor: =RGBA(128, 128, 128, 1)
        BorderThickness: =1
        DisabledColor: =RGBA(128, 128, 128, 1)
        DisabledFill: =RGBA(204, 204, 204, 0.33)
        Fill: =Color.Red
        OnSelect: |
            =Set(PopUpBorrar_CasoEspecial,true)
        PressedColor: =
        PressedFill: =Self.Fill
        Text: ="Eliminar Persona"
        Visible: |-
            =_VarMostrarBarraBloqueo && Dpd_InternoExterno_2.Selected.Value = "Externo"
            /*
            If(
                Dpd_InternoExterno.Selected.Value = "Interno";
                false;
                If(
                    !IsBlank(_VarNuevoIDPErsona);
                    false;
                    If(
                        IsBlank(Cmb_BuscarMiEquipo.Selected.Nombre_Persona) && IsBlank(_VarUsuarioSelect);
                        false;
                        If(
                            Rd_PersonasEquipos.Selected.Value = "Mis Equipos";
                            false;
                            true
                        )
                    )
                )
            )
            */
        Width: =225
        X: =106
        Y: =133
        ZIndex: =15

    Btn_Cambiar_Jefatura_8 As button:
        DisplayMode: |-
            =If(
                !IsBlank(_VarNuevoIDPErsona),
                DisplayMode.Edit,
                DisplayMode.Disabled
            )
        Fill: =_VarColoresApp.AzulFondo
        Height: =54
        OnSelect: =Set(_Var_sol_cambioJefe,true)
        Text: ="Cambiar Jefatura"
        Visible: |-
            = !IsBlank(LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario_2.Text))) && 
                         !IsBlank(_VarNuevoIDPErsona) && 
                         Txt_JefeDirecto_2.Text <> _VarUsuarioJefe && Dpd_InternoExterno_2.Selected.Value="Externo"
               
        Width: =179
        X: =1198
        Y: =874
        ZIndex: =16

    Solicitar_Cambio_Jefatura_2 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(202, 202, 202, 0.78)
        Height: =885
        Visible: =_Var_sol_cambioJefe
        Width: =1811
        X: =62
        Y: =70
        ZIndex: =17

        Label25_2 As label:
            BorderColor: =RGBA(219, 219, 219, 1)
            BorderThickness: =1
            Fill: =RGBA(255, 255, 255, 1)
            Height: =287
            PaddingLeft: =25
            PaddingRight: =20
            Size: =14
            Text: |-
                ="
                
                
                Estas a punto de asignar a " &Cmb_BuscarPersona.Selected.DisplayName& " bajo tu cargo.
                
                Se enviará un correo a " &Cmb_BuscarJefe.Selected.DisplayName & " y al equipo de Agile Portfolio informando este ajuste."
            VerticalAlign: =VerticalAlign.Top
            Width: =715
            X: =585
            Y: =275
            ZIndex: =1

        Btn_Cambiar_Jefatura_6 As button:
            DisplayMode: |-
                =If(
                    !IsBlank(_VarNuevoIDPErsona),
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            Fill: =_VarColoresApp.AzulFondo
            Height: =52
            OnSelect: =Set(_Var_sol_cambioJefe,false)
            Text: ="Cancelar"
            Width: =179
            X: =726
            Y: =488
            ZIndex: =3

        Btn_Cambiar_Jefatura_7 As button:
            DisplayMode: |-
                =If(
                    !IsBlank(_VarNuevoIDPErsona),
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            Fill: =_VarColoresApp.AzulFondo
            Height: =52
            OnSelect: |
                =Office365Outlook.SendEmailV2(
                    "AgilePortfolio@wal-mart.com;" &LookUp(Col_BD_Persona, Usuario = Txt_JefeDirecto.Text, 'Correo Electrónico'),
                    "Cambio de Jefatura en un recurso de BIND",
                  "<p>Hola!<br>
                <br>He asignado a mi cargo a una persona que estaba a tu nombre en el módulo de personas de BIND.<br>"
                &"<br><br><strong>Usuario ajustado: </strong>" & Cmb_BuscarPersona.Selected.DisplayName&" ("& Txt_Usuario.Text &")"
                &"<br><strong>Jefe Anterior: </strong>"& Cmb_BuscarJefe.Selected.DisplayName &" ("& Txt_JefeDirecto.Text &")"
                &"<br><strong>Nuevo Jefe: </strong>" & User().FullName&" ("& _VarUsuarioJefe &")"
                &"<br><br>
                </p>"
                );
                Patch(Lst_Persona,LookUp(Lst_Persona, Usuario = Upper(Txt_Usuario.Text)),{
                    GerenciaOrigen_0: LookUp(Lst_Persona, Usuario = _VarUsuarioJefe, GerenciaOrigen_0),
                    GerenciaOrigen_1: LookUp(Lst_Persona, Usuario = _VarUsuarioJefe, GerenciaOrigen_1),
                    GerenciaOrigen: LookUp(Col_BD_Persona, Usuario = _VarUsuarioJefe, GerenciaOrigen),
                    Jefe_Directo:_VarUsuarioJefe
                }) ;
                
                ClearCollect(Col_BD_Persona, Filter(Lst_Persona, Estado = "Activo"));
                ClearCollect(Col_MiEquipoWalmart,Filter(Lst_Persona, Jefe_Directo = _VarUsuarioJefe && Estado = "Activo"));
                Notify("Se ha asignado " &Cmb_BuscarPersona.Selected.DisplayName &" a tu Jefatura!",NotificationType.Success);
                UpdateContext({_VarMostrarBarraBloqueo:false});
                Clear(Col_EquiposPersonas);
                Set(_VarNuevoIDPErsona,Blank());
                Reset(Cmb_BuscarMiEquipo);
                Set(_VarUsuarioSelect,Blank());
                ResetForm(Frm_EditarPersona);
                Set(_Var_sol_cambioJefe,false)
            Text: ="Asignar a mi"
            Width: =179
            X: =983
            Y: =488
            ZIndex: =4

        Label26_2 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            Fill: =_VarColoresApp.AzulparaCabeceras
            FontWeight: =FontWeight.Semibold
            Height: =46
            Size: =15
            Text: ="Cambio de Jefatura"
            Width: =715
            X: =585
            Y: =275
            ZIndex: =5

    Group2_2 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =21

        Rct_FondoBloqueo_2 As rectangle:
            Fill: =RGBA(122, 138, 143, 0.55)
            Height: =1050
            Visible: =_VarMostrarBarraBloqueo
            Width: =1920
            ZIndex: =37

        Btn_Actualizar_2 As button:
            DisplayMode: |-
                =If(
                    !IsBlank(_VarNuevoIDPErsona) && !IsBlank(LookUp(Lst_Persona, Usuario = Upper(Txt_Usuario_2.Text) && 'Interno/Externo' = "Interno")),
                    DisplayMode.Disabled,
                    If(
                        !IsBlank(_VarNuevoIDPErsona) && IsBlank(LookUp(Lst_Persona, Usuario =  Upper(Txt_Usuario_2.Text) && Estado = "Activo")),// Validando campos para una persona nueva
                        If(
                            IsBlank(Cmb_BuscarPersona_3.Selected.DisplayName) Or
                            IsBlank(DataCardValue162_1.Selected.Value) Or
                            IsBlank(Dpd_InternoExterno_2.Selected.Value) Or
                            IsBlank(Dpd_Empresa_3.SelectedText.Value) Or
                            IsBlank(Dtp_FechaIngreso_2.SelectedDate) Or
                            IsBlank(Dpd_UbicacionLaboral_2.Selected.Value) Or
                            IsBlank(Txt_Usuario_2.Text) Or
                            IsBlank(Txt_CorreoElectronico_2.Text) Or
                            IsBlank(Cmb_Rol_2.Selected.Roles) Or
                            IsBlank(Cmb_BuscarJefe_2.SelectedItems.DisplayName) Or 
                            IsBlank(Dpd_Genero_2.Selected.Value),
                            DisplayMode.Disabled,
                            DisplayMode.Edit
                        ),
                        If(
                            IsBlank(_VarNuevoIDPErsona) && !IsBlank(LookUp(Lst_Persona, Usuario = Txt_Usuario_2.Text)) && CountRows(Col_EquiposPersonas)=0,
                            If(
                                IsBlank(Cmb_BuscarPersona_3.Selected.DisplayName) Or
                                IsBlank(DataCardValue162_1.Selected.Value) Or
                                IsBlank(Dpd_InternoExterno_2.Selected.Value) Or
                                IsBlank(Dpd_Empresa_3.SelectedText.Value) Or
                                IsBlank(Dtp_FechaIngreso_2.SelectedDate) Or
                                IsBlank(Dpd_UbicacionLaboral_2.Selected.Value) Or
                                IsBlank(Txt_Usuario_2.Text) Or
                                IsBlank(Txt_CorreoElectronico_2.Text) Or
                                IsBlank(Cmb_Rol_2.Selected.Roles) Or
                                IsBlank(Cmb_BuscarJefe_2.SelectedItems.DisplayName) Or 
                                IsBlank(Dpd_Genero_2.Selected.Value),
                                DisplayMode.Disabled,
                                DisplayMode.Edit
                            ),
                            If(
                                IsBlank(Cmb_BuscarPersona_3.Selected.DisplayName) Or
                                IsBlank(DataCardValue162_1.Selected.Value) Or
                                IsBlank(Dpd_InternoExterno_2.Selected.Value) Or
                                IsBlank(Dpd_Empresa_3.SelectedText.Value) Or
                                IsBlank(Dtp_FechaIngreso_2.SelectedDate) Or
                                IsBlank(Dpd_UbicacionLaboral_2.Selected.Value) Or
                                IsBlank(Txt_Usuario_2.Text) Or
                                IsBlank(Txt_CorreoElectronico_2.Text) Or
                                IsBlank(Cmb_Rol_2.Selected.Roles) Or
                                IsBlank(Cmb_BuscarJefe_2.SelectedItems.DisplayName) Or 
                                IsBlank(Dpd_Genero_2.Selected.Value) Or
                                IsBlank(Cmb_IC_Equipo.Selected.'Equipo/Squad') Or
                                CountIf(Col_EquiposPersonas,EquipoPrincipal = true)=0 Or
                                CountIf(Col_EquiposPersonas,EquipoPrincipal = true)>1,
                                DisplayMode.Disabled,
                                DisplayMode.Edit
                            )
                        )
                    )
                )
            Fill: =_VarColoresApp.AzulFondo
            Height: =54
            OnSelect: |-
                =/*Mostrar Spinner Cargando*/
                Set(_VarMostrarCargando,true);
                    Patch(
                        Lst_Persona,
                            If( 
                                IsBlank(LookUp(Lst_Persona, Usuario = Upper(Txt_Usuario_2.Text))),
                                    Defaults(Lst_Persona),
                                    LookUp(Lst_Persona, Usuario = Upper(Txt_Usuario_2.Text))
                            ),
                            {
                                GerenciaOrigen_0: LookUp(Lst_Persona, Usuario = Txt_JefeDirecto_2.Text, GerenciaOrigen_0),
                                GerenciaOrigen_1: LookUp(Lst_Persona, Usuario = Txt_JefeDirecto_2.Text, GerenciaOrigen_1),
                                GerenciaOrigen: Cmb_GerenciaOrigen_2.Selected.NombreGerencia, 
                                Nombre_Persona: Txt_NombrePersona_2.Text,
                                RUT: Txt_Rut_2.Text,
                                'Interno/Externo': Dpd_InternoExterno_2.Selected.Value,
                                Jefe_Directo: _VarUsuarioJefe,
                                'Considera Head Count': DataCardValue174_1.Selected,
                                //Dominio: GaleriaDatos.Dominio;
                                //Empresa: Dpd_Empresa_2.Selected.Result,
                                ID_Proveedor: Dpd_Empresa_3.Selected.ID,
                                Usuario: Upper(Txt_Usuario_2.Text),
                                Rol: Cmb_Rol_2.Selected.Roles,
                                'Correo Electrónico': Txt_CorreoElectronico_2.Text,
                                'Ubicación Laboral': Dpd_UbicacionLaboral_2.Selected,
                                'Fecha de Ingreso': Dtp_FechaIngreso_2.SelectedDate,
                                Genero: Dpd_Genero_2.Selected.Value,
                                Categoria: DataCardValue162_1.Selected.Value,
                                Estado: "Activo"
                            }
                    );
                /*
                    ForAll(
                        Col_EquiposPersonas As GaleriaEquipos;
                        Patch(
                            Ingresos_Ceses_Personas;
                            If(
                                IsBlank(GaleriaEquipos.ID);
                                Defaults(Ingresos_Ceses_Personas);
                                LookUp(Ingresos_Ceses_Personas; ID = GaleriaEquipos.ID)
                            );
                            {
                            IDEquipo: GaleriaEquipos.IDEquipo;
                            Usuario: GaleriaEquipos.Usuario;
                            AsignadoPor: _Perfil.displayName;
                            FechaAsignacion: Today();
                            EquipoPrincipal: GaleriaEquipos.EquipoPrincipal;
                            Estado: "Activo"
                            }
                        )
                        
                    );;
                */
                
                    Refresh(Lst_Persona);
                    Refresh(Ingresos_Ceses_Personas);
                    ClearCollect(Col_BD_Persona, Filter(Lst_Persona, Estado = "Activo"));
                    ClearCollect(Col_BD_AsignacionEquipos, Filter(Ingresos_Ceses_Personas,Estado = "Activo"));
                    Clear(Col_EquiposPersonas);
                    Collect(Col_EquiposPersonas,Filter(Col_BD_AsignacionEquipos,Usuario = Upper(Txt_Usuario.Text), Estado = "Activo"));
                
                    /*
                    If(
                        !IsBlank(_VarUsuarioSelect);
                        //UpdateContext({_VarMostrarBarraBloqueo:false});;
                        Collect(Col_EquiposPersonas;Filter(Col_BD_AsignacionEquipos;Usuario = _VarUsuarioSelect; Estado = "Activo"));
                        If(
                            !IsBlank(Cmb_BuscarMiEquipo.Selected.Usuario);
                            //UpdateContext({_VarMostrarBarraBloqueo:false});;
                            Collect(Col_EquiposPersonas;Filter(Col_BD_AsignacionEquipos;Usuario = Cmb_BuscarMiEquipo.Selected.Usuario; Estado = "Activo"));
                            Collect(Col_EquiposPersonas;Filter(Col_BD_AsignacionEquipos;Usuario = Upper(Txt_Usuario.Text); Estado = "Activo"))
                        )
                    );;
                    */
                    
                    //ResetForm(Frm_EditarPersona);;
                
                
                    Set(_VarUsuarioSelect,Upper(Txt_Usuario.Text));
                    EditForm(Frm_EditarPersona);
                    Set(_VarNuevoIDPErsona,"");
                    Reset(Cmb_BuscarMiEquipo);
                    Set(_VarUsuarioSelect,Blank());
                    ResetForm(Frm_EditarPersona);
                    //Set(_verPopUpNuevoUsuario;false);;
                    UpdateContext({_VarMostrarBarraBloqueo:false});
                
                ClearCollect(Col_MiEquipoWalmart,Filter(Lst_Persona, Jefe_Directo = _VarUsuarioJefe && Estado = "Activo"));
                
                Clear(Col_IDEquiposAsignados);
                Clear(Col_MiEquiposJefe);
                Clear(Col_DatosparaGrafico);
                
                // Recuperando los ID de los Equipos asignados
                ForAll(Col_MiEquipoWalmart As CME,Collect(Col_IDEquiposAsignados, Filter(Col_BD_AsignacionEquipos, Trim(Usuario) = Trim(CME.Usuario)).IDEquipo));
                ForAll(Col_MiEquipoWalmart As CME,Collect(Col_DatosparaGrafico, Filter(Col_BD_AsignacionEquipos, Trim(Usuario) = Trim(CME.Usuario))));
                // Recuperando los equipos asignados en los dominios
                //ForAll(ForAll(Distinct(Col_IDEquiposAsignados;Value); {Result: ThisRecord.Value}) As CIEA;Collect(Col_MiEquiposJefe;Filter(Col_BD_Equipos; IDEquipo= CIEA.Result)));;
                ForAll(ForAll(Distinct(Col_IDEquiposAsignados,IDEquipo), {Result: ThisRecord.Value}) As CIEA,Collect(Col_MiEquiposJefe,Filter(Col_BD_Equipos, IDEquipo = CIEA.Result)));
                ClearCollect(Col_TempMisEquipos,Col_MiEquiposJefe);
                
                Notify("Se actulizaron los registros del usuario",NotificationType.Success,5000);
                
                /*Ocultar Spinner Cargando*/
                Set(_VarMostrarCargando,false);
                
                
                    /*
                    Patch(
                        Lst_Bajas_Personas;
                        Defaults(Lst_Bajas_Personas);
                        {
                            Nombre2: Cmb_Nombre.SelectedItems;
                            RUT: form_rut.Text;
                            'Interno/Externo': IntExt.Selected.Result;
                            'Jefe Directo': Jefe_form.Selected.DisplayName;
                            'Considera Head Count': HC_form.Selected;
                            Dominio: Dominioform.Text;
                            Empresa: Empres.SelectedText.Value;
                            Usuario: User_form.Text;
                            Rol: Rol_form.Selected.Result;
                            'Correo Electrónico': mail_form.Text;
                            'Responsable Actualización': Responsable_form.Selected.DisplayName;
                            UbicacionLaboral: UbicacionLaboral1.Selected.Value;
                            'Fecha de Ingreso': Ingreso.SelectedDate;
                            Estado: DataCardValue13.Selected.Result;
                            'Etapas del vacante': Blank()
                        }
                    );;
                    */
            Text: |-
                =If(
                    IsBlank(_VarNuevoIDPErsona),
                    "Actualizar",
                    "Agregar"
                )
            Tooltip: |-
                =/*
                If(IsBlank(Cmb_Nombre_1.SelectedItems.DisplayName) Or
                   IsBlank(form_rut_1.Text) Or
                   IsBlank(IntExt_1.SelectedText.Value) Or
                   IsBlank(Empres_1.SelectedText.Value) Or
                   IsBlank(Ingreso_1.SelectedDate) Or
                   IsBlank(UbicacionLaboral1_1.SelectedItems.Value) Or
                   IsBlank(User_form_1.Text) Or
                   IsBlank(mail_form_1.Text) Or
                   IsBlank(Rol_form_2.SelectedText.Value) Or
                   IsBlank(Responsable_form_1.SelectedItems.DisplayName) Or
                   IsBlank(Jefe_form_1.SelectedItems.DisplayName)
                 ;"Debes completar todala información para poder agregar")
                 */
            Visible: =_VarMostrarBarraBloqueo
            Width: =167
            X: =598
            Y: =874
            ZIndex: =38

        Btn_Cancelar_2 As button:
            Fill: =_VarColoresApp.AzulFondo
            Height: =54
            OnSelect: |-
                =UpdateContext({_VarMostrarBarraBloqueo:false});
                //Clear(Col_EquiposPersonas);;
                Set(_VarNuevoIDPErsona,Blank());
                //Reset(Cmb_BuscarMiEquipo);;
                Set(_VarUsuarioSelect,Blank());
                ResetForm(Frm_EditarPersona_2);
                //Set(_verPopUpNuevoUsuario;false)
            Text: ="Cancelar"
            Visible: =_VarMostrarBarraBloqueo
            Width: =167
            X: =798
            Y: =874
            ZIndex: =39

        Html_CabeceraInfoPersonal_2 As htmlViewer:
            Height: =83
            HtmlText: |-
                =If(
                    IsBlank(_VarNuevoIDPErsona),
                "
                <div style='background: linear-gradient(90deg, #7EC9F5, #0079BB); color: white; width: "& Self.Width -20 &"px; height: 65px; display: flex; align-items: center; justify-content: center; border-radius: 20px;'>
                  <h1 style='text-indent: 1300px; text-align: center;'> Información Personal</h1>
                </div>
                ",
                "
                <div style='background: linear-gradient(90deg, #7EC9F5, #0079BB); color: white; width: "& Self.Width -20 &"px; height: 65px; display: flex; align-items: center; justify-content: center; border-radius: 20px;'>
                  <h1 style='text-indent: 1300px; text-align: center;'> Agregar Persona Nueva</h1>
                </div>
                "
                )
                
                /*
                "<div style = 'background: linear-gradient( 90deg, #7EC9F5, #0079BB)'>
                 <p style='text-align: center;' data-mce-style='text-align: center;'>
                 <span style='color: rgb(236, 240, 241); font-size: 20pt' data-mce-style='color: #ecf0f1;; font-size: 20pt'>
                 <strong>Información Personal</strong></span></p>
                 </div>
                "
                */
            Visible: =_VarMostrarBarraBloqueo
            Width: =1767
            X: =76
            Y: =117
            ZIndex: =40

        Btn_Limpiar_2 As button:
            DisplayMode: |-
                =If(
                    !IsBlank(_VarNuevoIDPErsona),
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            Fill: =_VarColoresApp.AzulFondo
            Height: =54
            OnSelect: |
                =Clear(Col_EquiposPersonas);
                Reset(Cmb_BuscarMiEquipo);
                ResetForm(Frm_EditarPersona_2);
            Text: ="Limpiar"
            Visible: =_VarMostrarBarraBloqueo
            Width: =167
            X: =998
            Y: =874
            ZIndex: =41

    Gallery2_2 As gallery.galleryVertical:
        DelayItemLoading: =true
        Height: =644
        Items: |-
            =Search(
                    SortByColumns(
                            Col_MiEquipoWalmart,
                        "Nombre_Persona",
                        SortOrder.Ascending
                        ),
                        Txt_BuscadorPersona_2.Text,
                        Nombre_Persona,
                        Rol,
                        'Interno/Externo'
            )
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        TemplateSize: =74
        Width: =1811
        X: =62
        Y: =296
        ZIndex: =36

        TextInput14_1 As text:
            BorderColor: =RGBA(15, 108, 189, 1)
            Default: =""
            DisabledBorderColor: =RGBA(15, 108, 189, 1)
            DisabledFill: =If(!IsBlank(ThisItem.ID),RGBA(244, 244, 244, 1),RGBA(255, 255, 255, 1))
            DisplayMode: =DisplayMode.Disabled
            Fill: =If(!(ThisItem.ID),RGBA(214, 221, 224, 1),RGBA(255, 255, 255, 1))
            Height: =67
            OnSelect: =Select(Parent)
            RadiusBottomLeft: =20
            RadiusBottomRight: =20
            RadiusTopLeft: =20
            RadiusTopRight: =20
            Width: =1785
            Y: =7
            ZIndex: =1

        Image1_2 As image:
            Fill: =RGBA(219, 219, 219, 1)
            Height: =60
            Image: |-
                =If(
                    IsBlank(ThisItem.'Correo Electrónico'),
                    'no-fotos-1',
                    If(
                        IsBlank(UsuariosdeOffice365.UserPhotoV2(ThisItem.'Correo Electrónico')),
                        'no-fotos-1',
                        UsuariosdeOffice365.UserPhotoV2(ThisItem.'Correo Electrónico')
                    )
                )
                /*
                If(
                    CountRows(Col_MiEquipoWalmart) > 0;
                    If(
                        Rd_PersonasEquipos.Selected.Value = "Mis Personas";
                        If(
                            IfError(IsBlank(UsuariosdeOffice365.UserPhotoV2(ThisItem.'Correo Electrónico'));false;IsBlank(UsuariosdeOffice365.UserPhotoV2(ThisItem.'Correo Electrónico')));
                            'no-fotos-1';
                           IfError(UsuariosdeOffice365.UserPhotoV2(ThisItem.'Correo Electrónico');'no-fotos-1';UsuariosdeOffice365.UserPhotoV2(ThisItem.'Correo Electrónico'))
                        )
                    )
                )
                */
            ImagePosition: =ImagePosition.Fill
            OnSelect: =Select(Parent)
            RadiusBottomLeft: =60
            RadiusBottomRight: =60
            RadiusTopLeft: =60
            RadiusTopRight: =60
            Width: =60
            X: =7
            Y: =10
            ZIndex: =2

        Image18_6 As image:
            Height: =40
            Image: =sp16
            OnSelect: |
                =//Clear(Col_EquiposPersonas);;
                Set(_VarUsuarioSelect,Gallery2.Selected.Usuario);
                UpdateContext({_VarMostrarBarraBloqueo:true});
                EditForm(Frm_EditarPersona_1);
                /*
                If(
                    !IsBlank(_VarUsuarioSelect);
                    Collect(Col_EquiposPersonas;Filter(Col_BD_AsignacionEquipos; Usuario = _VarUsuarioSelect; Estado = "Activo"));
                    Clear(Col_EquiposPersonas)
                );;
                */
            Tooltip: ="Ver los detalles de la persona"
            Width: =40
            X: =1738
            Y: =20
            ZIndex: =5

        Cmb_BuscarPersona_4 As combobox:
            BorderColor: =
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
            ChevronDisabledFill: =RGBA(116, 116, 116, 1)
            ChevronFill: =RGBA(0, 121, 187, 1)
            ChevronHoverBackground: =RGBA(0, 121, 187, 1)
            DefaultSelectedItems: |-
                =Table({DisplayName: LookUp(Lst_Persona, Usuario = ThisItem.Usuario, Nombre_Persona)})
            DisabledColor: =RGBA(53, 61, 63, 1)
            DisplayFields: =["DisplayName","Email","Picture"]
            DisplayMode: =If(IsBlank(ThisItem.ID),DisplayMode.Edit,DisplayMode.Disabled)
            Height: |
                =40
            HoverBorderColor: =RGBA(0, 121, 187, 1)
            Items: =Choices([@Lst_Persona].BuscarNombrePersona)
            OnChange: |
                =
                If(
                    IsBlank(_VarUsuarioSelect) && IsBlank(Cmb_BuscarMiEquipo.Selected.Usuario),
                    Clear(Col_EquiposPersonas);
                    //UpdateContext({_VarTempJefeDirecto:LookUp(Lst_Persona; Usuario = Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona.Selected.Claims;"@"); {Result: ThisRecord.Value})).Result;"|"); {Result: ThisRecord.Value})).Result;Jefe_Directo)});;
                    Collect(Col_EquiposPersonas,Filter(Col_BD_AsignacionEquipos, Usuario = Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_4.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result, Estado = "Activo"))
                );
            PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
            PressedFill: =RGBA(0, 121, 187, 1)
            SearchFields: =["DisplayName"]
            SearchItems: =Choices(Lst_Persona.BuscarNombrePersona,Cmb_BuscarPersona_4.SearchText)
            SelectionFill: =RGBA(0, 121, 187, 1)
            SelectMultiple: =false
            Template: =ListItemTemplate.Person
            Tooltip: =
            Width: |+
                =300
                
            X: =77
            Y: =20
            ZIndex: =7

        Dpd_Empresa_4 As dropdown:
            BorderColor: =
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
            ChevronDisabledFill: =RGBA(128, 128, 128, 1)
            ChevronFill: =RGBA(0, 121, 187, 1)
            ChevronHoverBackground: =RGBA(0, 121, 187, 1)
            Default: |-
                =LookUp(Lst_Proveedores,ID=Value(LookUp(Col_BD_Persona, Usuario = _VarUsuarioSelect).ID_Proveedor),Razon_Social_Proveedor)
                
                /*If(
                    IsBlank(_VarNuevoIDPErsona),
                    Parent.Default,
                    LookUp(Col_BD_Persona, Usuario = Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_2.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result,Empresa)
                )*/
            DisabledColor: =RGBA(53, 61, 63, 1)
            DisplayMode: =If(IsBlank(ThisItem.ID),DisplayMode.Edit,DisplayMode.Disabled)
            HoverBorderColor: =RGBA(0, 121, 187, 1)
            Items: |-
                =SortByColumns(Lst_Proveedores,"Razon_Social",SortOrder.Ascending)
                //Sort(ForAll(Distinct(Filter(Empresa,Dpd_InternoExterno_1.SelectedText.Value='Interno/Externo'),Empresa), {Result: ThisRecord.Value}),Result,SortOrder.Ascending)
            PressedFill: =RGBA(0, 121, 187, 1)
            Tooltip: =
            Width: =321
            X: =432
            Y: =20
            ZIndex: =8

        Txt_Rut_3 As text:
            Align: =Align.Center
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderThickness: =0
            Default: =ThisItem.RUT
            DelayOutput: =true
            DisabledColor: =RGBA(53, 61, 63, 1)
            DisplayMode: =If(IsBlank(ThisItem.ID),DisplayMode.Edit,DisplayMode.Disabled)
            Height: =50
            PaddingLeft: =10
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Tooltip: =
            Width: =115
            X: =770
            Y: =15
            ZIndex: =9

        Dtp_FechaIngreso_3 As datepicker:
            BorderColor: =
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            DefaultDate: |-
                =If(
                    !IsBlank(ThisItem.ID),
                    ThisItem.'Fecha de Ingreso',
                    LookUp(Col_BD_Persona, Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_4.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result),'Fecha de Ingreso')
                )
            DisabledColor: =RGBA(53, 61, 63, 1)
            DisplayMode: =If(IsBlank(ThisItem.ID),DisplayMode.Edit,DisplayMode.Disabled)
            EndYear: =Year(Today())+100
            IconBackground: =RGBA(244, 244, 244, 1)
            IconFill: =RGBA(0, 121, 187, 1)
            IsEditable: =true
            PaddingBottom: =0
            PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
            StartYear: =1899
            Tooltip: =
            Width: =140
            X: =904
            Y: =20
            ZIndex: =10

        Separator As rectangle:
            Height: =50
            OnSelect: =Select(Parent)
            Width: =1
            X: =425
            Y: =15
            ZIndex: =11

        Separator_1 As rectangle:
            Height: =50
            OnSelect: =Select(Parent)
            Width: =1
            X: =763
            Y: |
                =5+10
            ZIndex: =12

        Separator_2 As rectangle:
            Height: =50
            OnSelect: =Select(Parent)
            Width: =1
            X: =890
            Y: |
                =5+10
            ZIndex: =13

        Separator_3 As rectangle:
            Height: =50
            OnSelect: =Select(Parent)
            Width: =1
            X: =1057
            Y: =10+5
            ZIndex: =14

        Dpd_Genero_3 As combobox:
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderStyle: =BorderStyle.None
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
            ChevronDisabledFill: =RGBA(128, 128, 128, 1)
            ChevronFill: =RGBA(0, 121, 187, 1)
            ChevronHoverBackground: =RGBA(0, 121, 187, 1)
            Default: |-
                ={Value:ThisItem.Genero}
            DefaultSelectedItems: |-
                =Table({Value:ThisItem.Genero})
            DisabledColor: =RGBA(53, 61, 63, 1)
            DisplayFields: =["Value"]
            DisplayMode: =If(IsBlank(ThisItem.ID),DisplayMode.Edit,DisplayMode.Disabled)
            Height: =Txt_FondoForm1_206.Height -10
            HoverBorderColor: =RGBA(0, 121, 187, 1)
            IsSearchable: =false
            Items: =["M","F"]
            PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
            PressedFill: =RGBA(0, 121, 187, 1)
            SearchFields: =["Value"]
            SearchItems: =[]
            SelectMultiple: =false
            Tooltip: =
            Width: =58
            X: =1073
            Y: =20
            ZIndex: =15

        Separator_4 As rectangle:
            Height: =50
            OnSelect: =Select(Parent)
            Width: =1
            X: =1137
            Y: =15
            ZIndex: =16

        Dpd_UbicacionLaboral_3 As combobox:
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderStyle: =BorderStyle.None
            BorderThickness: =1
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
            ChevronDisabledFill: =RGBA(128, 128, 128, 1)
            ChevronFill: =RGBA(0, 121, 187, 1)
            ChevronHoverBackground: =RGBA(0, 121, 187, 1)
            DefaultSelectedItems: |-
                =If(
                    !IsBlank(ThisItem.ID),
                    ThisItem.'Ubicación Laboral',
                    LookUp(Lst_Persona, Usuario = Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_3.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result,'Ubicación Laboral')
                )
            DisabledColor: =RGBA(53, 61, 63, 1)
            DisplayFields: =["Value"]
            DisplayMode: =If(IsBlank(ThisItem.ID),DisplayMode.Edit,DisplayMode.Disabled)
            Height: =Txt_FondoForm1_93.Height -10
            HoverBorderColor: =RGBA(0, 121, 187, 1)
            Items: =Choices([@Lst_Persona].'Ubicación Laboral')
            PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
            PressedFill: =RGBA(0, 121, 187, 1)
            SearchFields: =["Value"]
            SearchItems: =Choices(Lst_Persona.'Ubicación Laboral',Dpd_UbicacionLaboral_3.SearchText)
            SelectMultiple: =false
            Tooltip: =
            Width: =140
            X: =1148
            Y: =20
            ZIndex: =17

        DataCardValue162_2 As combobox:
            BorderColor: =
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
            ChevronDisabledFill: =RGBA(128, 128, 128, 1)
            ChevronFill: =RGBA(0, 121, 187, 1)
            ChevronHoverBackground: =RGBA(0, 121, 187, 1)
            Default: |-
                =
                
                /*
                If(
                    Dpd_InternoExterno_1.Selected.Value = "Interno";
                    Blank();
                    {Value:Parent.Default}
                )
                */
            DefaultSelectedItems: |-
                =
                
                /*
                If(
                    Dpd_InternoExterno_1.Selected.Value = "Interno";
                    Blank();
                    Table({Value:Parent.Default})
                )
                */
                
                /*
                If(
                    IsBlank(_VarNuevoIDPErsona);
                    Table({Value:Parent.Default});
                    Table({Value:LookUp(Col_BD_Persona; Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_2.Selected.Claims;"@"); {Result: ThisRecord.Value})).Result;"|"); {Result: ThisRecord.Value})).Result);Categoria)})
                )
                */
            DisabledColor: =RGBA(53, 61, 63, 1)
            DisplayFields: =["Value"]
            DisplayMode: =If(IsBlank(ThisItem.ID),DisplayMode.Edit,DisplayMode.Disabled)
            HoverBorderColor: =RGBA(0, 121, 187, 1)
            IsSearchable: =false
            Items: =["Headcount","Subcontratación Headcount","Subcontratación Servicios"]
            PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
            PressedFill: =RGBA(0, 121, 187, 1)
            SearchFields: =["Value"]
            SearchItems: =[]
            SelectMultiple: =false
            Tooltip: =
            Width: =280
            X: =1298
            Y: =20
            ZIndex: =18

        Separator_5 As rectangle:
            Height: =50
            OnSelect: =Select(Parent)
            Width: =1
            X: =1290
            Y: =15
            ZIndex: =19

        Cmb_Rol_3 As dropdown:
            BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
            ChevronDisabledFill: =RGBA(149, 149, 149, 1)
            ChevronFill: =RGBA(0, 121, 187, 1)
            ChevronHoverBackground: =RGBA(0, 121, 187, 1)
            Default: |-
                =If(
                    IsBlank(_VarNuevoIDPErsona),
                    Parent.Default,
                    LookUp(Col_BD_Persona, Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_3.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result),Rol)
                )
            DisabledColor: =RGBA(53, 61, 63, 1)
            DisplayMode: =Parent.DisplayMode
            Height: =45
            HoverBorderColor: =RGBA(0, 121, 187, 1)
            Items: =Sort(Rol,Roles,SortOrder.Ascending)
            PressedFill: =RGBA(0, 121, 187, 1)
            Tooltip: =Parent.DisplayName
            Width: =160
            X: =1578
            Y: =15
            ZIndex: =20

    Container24_1 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(255, 255, 255, 1)
        Height: =647
        RadiusBottomLeft: =20
        RadiusBottomRight: =20
        RadiusTopLeft: =20
        RadiusTopRight: =20
        Visible: |-
            =_VarMostrarBarraBloqueo
            /*If(
                !IsBlank(_VarNuevoIDPErsona);
                true;
                If(
                    IsBlank(Cmb_BuscarMiEquipo.Selected.Nombre_Persona) && IsBlank(_VarUsuarioSelect);
                    false;
                    If(
                        Rd_PersonasEquipos.Selected.Value = "Mis Equipos";
                        false;
                        true
                    )
                )
            )
            */
        Width: =1767
        X: =76
        Y: =199
        ZIndex: =42

        Frm_EditarPersona_2 As form:
            AcceptsFocus: =true
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            DataSource: =Lst_Persona
            DefaultMode: =FormMode.New
            Height: =566
            Item: |
                =LookUp(Col_BD_Persona, Usuario = _VarUsuarioSelect)
            OnFailure: =Notify("PAso algo", NotificationType.Error,5000)
            OnSuccess: |-
                =ResetForm(Frm_EditarPersona_2);
                Notify("Se guardo Correctamente el registro", NotificationType.Success,5000)
            Width: =1746
            X: =9
            Y: =12
            ZIndex: =1

            "'Interno/Externo_DataCard2_2' As typedDataCard.allowedValuesStringEditCard":
                AllowedValues: =DataSourceInfo([@Lst_Persona], DataSourceInfo.AllowedValues, 'Interno/Externo')
                BorderStyle: =BorderStyle.Solid
                DataField: ="Interno_x002f_Externo"
                Default: =ThisItem.'Interno/Externo'
                DisplayMode: |+
                    =If(
                        !IsBlank(_VarNuevoIDPErsona),
                        DisplayMode.Edit,
                        DisplayMode.Disabled
                    )
                    
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,'Interno/Externo')
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                Required: =false
                Update: =Dpd_InternoExterno_2.Selected.Value
                Width: =582
                X: =0
                Y: =0
                ZIndex: =1

                Txt_FondoForm1_50 As text:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =3
                    Default: =""
                    DisabledFill: |
                        =RGBA(244, 244, 244, 1)
                        /*
                        If(
                            !IsBlank(_VarNuevoIDPErsona);
                            RGBA(255; 255; 255; 1);
                            RGBA(244; 244; 244; 1)
                        )
                        
                        
                        If(
                            Dpd_InternoExterno.Selected.Value = "Externo";
                            RGBA(255; 255; 255; 1);
                            If(
                                !IsBlank(_VarUsuarioSelect) && LookUp(Lst_Persona; Usuario = _VarUsuarioSelect;'Interno/Externo') = "Interno";
                                RGBA(244; 244; 244; 1);
                                If(
                                    !IsBlank(Cmb_BuscarMiEquipo.Selected.Usuario) && LookUp(Lst_Persona; Usuario = Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarMiEquipo.Selected.Usuario;"@"); {Result: ThisRecord.Value})).Result;"|"); {Result: ThisRecord.Value})).Result;'Interno/Externo') = "Interno";
                                    RGBA(244; 244; 244; 1);
                                    If(
                                        LookUp(Lst_Persona; Usuario = Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona.Selected.Claims;"@"); {Result: ThisRecord.Value})).Result;"|"); {Result: ThisRecord.Value})).Result;'Interno/Externo') = "Interno";
                                        RGBA(244; 244; 244; 1);
                                        RGBA(255; 255; 255; 1)
                                    )
                                )
                            )
                        )
                        */
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    Width: =527
                    X: =13
                    Y: =46
                    ZIndex: =1

                DataCardKey14_2 As label:
                    AutoHeight: =true
                    DisabledColor: =RGBA(102, 102, 102, 1)
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =2

                Dpd_InternoExterno_2 As dropdown:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    BorderStyle: =BorderStyle.None
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
                    ChevronDisabledFill: =RGBA(128, 128, 128, 1)
                    ChevronFill: =RGBA(0, 121, 187, 1)
                    ChevronHoverBackground: =RGBA(0, 121, 187, 1)
                    Default: |-
                        =If(
                            IsBlank(_VarNuevoIDPErsona) && IsBlank(LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario_2.Text))),
                            Parent.Default,
                            LookUp(Lst_Persona, Usuario = Upper(Txt_Usuario_2.Text),'Interno/Externo')
                        )
                        /*
                        If(
                            IsBlank(_VarNuevoIDPErsona) && IsBlank(LookUp(Col_BD_Persona; Usuario = Upper(Txt_Usuario.Text)));
                            Parent.Default;
                            LookUp(Lst_Persona; Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona.Selected.Claims;"@"); {Result: ThisRecord.Value})).Result;"|"); {Result: ThisRecord.Value})).Result);'Interno/Externo')
                        )
                        */
                    DisabledColor: =RGBA(53, 61, 63, 1)
                    DisplayMode: |-
                        =DisplayMode.Disabled
                        /*
                        If(
                            !IsBlank(_VarUsuarioSelect) && LookUp(Lst_Persona; Usuario = _VarUsuarioSelect;'Interno/Externo') = "Interno";
                            DisplayMode.Disabled;
                            If(
                                !IsBlank(Cmb_BuscarMiEquipo.Selected.Usuario) && LookUp(Lst_Persona; Usuario = Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarMiEquipo.Selected.Usuario;"@"); {Result: ThisRecord.Value})).Result;"|"); {Result: ThisRecord.Value})).Result;'Interno/Externo') = "Interno";
                                DisplayMode.Disabled;
                                If(
                                    LookUp(Lst_Persona; Usuario = Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona.Selected.Claims;"@"); {Result: ThisRecord.Value})).Result;"|"); {Result: ThisRecord.Value})).Result;'Interno/Externo') = "Interno";
                                    DisplayMode.Disabled;
                                    DisplayMode.Edit
                                )
                            )
                        )
                        */
                    Height: =Txt_FondoForm1_50.Height -10
                    HoverBorderColor: =RGBA(0, 121, 187, 1)
                    Items: |-
                        =  If(
                            IsBlank(_VarNuevoIDPErsona) || !IsBlank(LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario_2.Text))),
                            ["Interno","Externo"],
                            ["Externo"]
                        )
                         
                    PressedFill: =RGBA(0, 121, 187, 1)
                    Tooltip: =Parent.DisplayName
                    Width: =Txt_FondoForm1_50.Width -27
                    X: =30
                    Y: =51
                    ZIndex: =3

                ErrorMessage14_2 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =Dpd_InternoExterno_2.Y + Dpd_InternoExterno_2.Height
                    ZIndex: =4

                StarVisible14_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey14_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey14_2.Y
                    ZIndex: =5

            BuscarNombrePersona_DataCard1_2 As typedDataCard.comboBoxEditCard:
                BorderStyle: =BorderStyle.Solid
                DataField: ="BuscarNombrePersona"
                Default: =ThisItem.BuscarNombrePersona
                DisplayMode: |-
                    =If(
                        !IsBlank(ThisItem.Nombre_Persona),
                        DisplayMode.Disabled,
                        DisplayMode.Edit
                    )
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,BuscarNombrePersona)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =99
                Required: =false
                Update: =Cmb_BuscarPersona_3.Selected
                Width: =582
                X: =1
                Y: =0
                ZIndex: =1

                Txt_FondoForm1_84 As text:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =3
                    Default: =""
                    DisabledFill: |-
                        =If(
                            IsBlank(ThisItem.Nombre_Persona),
                            RGBA(255, 255, 255, 1),
                            RGBA(244, 244, 244, 1)
                        )
                        /*
                        If(
                            Dpd_InternoExterno.Selected.Value = "Externo";
                            RGBA(255; 255; 255; 1);
                            RGBA(244; 244; 244; 1)
                        )
                        */
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    Width: =527
                    X: =13
                    Y: =46
                    ZIndex: =1

                DataCardKey15_2 As label:
                    AutoHeight: =true
                    DisabledColor: =RGBA(102, 102, 102, 1)
                    Height: =34
                    Text: ="Nombre Persona"
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =2

                Cmb_BuscarPersona_3 As combobox:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =0
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
                    ChevronDisabledFill: =RGBA(116, 116, 116, 1)
                    ChevronFill: =RGBA(0, 121, 187, 1)
                    ChevronHoverBackground: =RGBA(0, 121, 187, 1)
                    DefaultSelectedItems: |-
                        =Table({DisplayName: LookUp(Lst_Persona, Usuario = ThisItem.Usuario, Nombre_Persona)})
                    DisabledColor: =RGBA(53, 61, 63, 1)
                    DisplayFields: =["DisplayName","Email","Picture"]
                    DisplayMode: =Parent.DisplayMode
                    Height: =Txt_FondoForm1_84.Height -10
                    HoverBorderColor: =RGBA(0, 121, 187, 1)
                    Items: =Choices([@Lst_Persona].BuscarNombrePersona)
                    OnChange: |
                        =
                        If(
                            IsBlank(_VarUsuarioSelect) && IsBlank(Cmb_BuscarMiEquipo.Selected.Usuario),
                            Clear(Col_EquiposPersonas);
                            //UpdateContext({_VarTempJefeDirecto:LookUp(Lst_Persona; Usuario = Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona.Selected.Claims;"@"); {Result: ThisRecord.Value})).Result;"|"); {Result: ThisRecord.Value})).Result;Jefe_Directo)});;
                            Collect(Col_EquiposPersonas,Filter(Col_BD_AsignacionEquipos, Usuario = Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_3.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result, Estado = "Activo"))
                        );
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                    PressedFill: =RGBA(0, 121, 187, 1)
                    SearchFields: =["DisplayName"]
                    SearchItems: =Choices(Lst_Persona.BuscarNombrePersona,Cmb_BuscarPersona_3.SearchText)
                    SelectionFill: =RGBA(0, 121, 187, 1)
                    SelectMultiple: =false
                    Template: =ListItemTemplate.Person
                    Tooltip: =Parent.DisplayName
                    Width: |
                        =Txt_FondoForm1_84.Width - 27
                    X: =30
                    Y: =51
                    ZIndex: =3

                ErrorMessage15_2 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =Cmb_BuscarPersona_3.Y + Cmb_BuscarPersona_3.Height
                    ZIndex: =4

                StarVisible15_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey15_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey15_2.Y
                    ZIndex: =5

            GerenciaOrigen_DataCard1_2 As typedDataCard.textualEditCard:
                BorderStyle: =BorderStyle.Solid
                DataField: ="GerenciaOrigen"
                Default: =ThisItem.GerenciaOrigen
                DisplayMode: |-
                    =DisplayMode.Disabled
                    
                    /*
                    If(
                        Dpd_InternoExterno.Selected.Value = "Interno";
                        DisplayMode.Disabled;
                        DisplayMode.Edit
                    )
                    */
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,GerenciaOrigen)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                MaxLength: =DataSourceInfo([@Lst_Persona], DataSourceInfo.MaxLength, GerenciaOrigen)
                Required: =false
                Update: =Cmb_GerenciaOrigen_2.Selected.NombreGerencia
                Width: =582
                X: =2
                Y: =0
                ZIndex: =1

                DataCardKey4_2 As label:
                    AutoHeight: =true
                    DisabledColor: =RGBA(0, 18, 107, 1)
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                ErrorMessage4_2 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =Txt_FondoForm1_92.Y + Txt_FondoForm1_92.Height
                    ZIndex: =3

                StarVisible4_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey4_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey4_2.Y
                    ZIndex: =4

                Txt_FondoForm1_92 As text:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =3
                    Default: =""
                    DisabledFill: |-
                        =RGBA(244, 244, 244, 1)
                        /*
                        If(
                            Dpd_InternoExterno.Selected.Value = "Externo";
                            RGBA(255; 255; 255; 1);
                            RGBA(244; 244; 244; 1)
                        )
                        */
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    Width: =527
                    X: =13
                    Y: =44
                    ZIndex: =5

                Cmb_GerenciaOrigen_2 As combobox:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =0
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
                    ChevronDisabledFill: =RGBA(128, 128, 128, 1)
                    ChevronFill: =RGBA(0, 121, 187, 1)
                    ChevronHoverBackground: =RGBA(0, 121, 187, 1)
                    Default: |-
                        =If(
                            !IsBlank(LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario_2.Text))),
                            {NombreGerencia: LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario_2.Text), GerenciaOrigen)},
                            {NombreGerencia: LookUp(Col_BD_Persona, Usuario = _VarUsuarioJefe, GerenciaOrigen)}
                        )
                    DefaultSelectedItems: |-
                        =If(
                            !IsBlank(LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario_2.Text))),
                            Table({NombreGerencia: LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario_2.Text), GerenciaOrigen)}),
                            Table({NombreGerencia: LookUp(Col_BD_Persona, Usuario = _VarUsuarioJefe, GerenciaOrigen)})
                        )
                        
                        //Col_BD_Gerencia
                         //IsBlank(LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario.Text))
                        //Table({NombreGerencia: ThisItem.GerenciaOrigen})
                        //!IsBlank(_VarNuevoIDPErsona
                        //Filter(Col_BD_Gerencia,NombreGerencia= LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario.Text), GerenciaOrigen))
                    DisabledColor: =RGBA(53, 61, 63, 1)
                    DisplayFields: =["NombreGerencia"]
                    DisplayMode: =Parent.DisplayMode
                    Height: =Txt_FondoForm1_92.Height -10
                    HoverBorderColor: =RGBA(0, 121, 187, 1)
                    IsSearchable: =false
                    Items: =Filter(Col_BD_Gerencia, Nivel = "2")
                    OnChange: =
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                    PressedFill: =RGBA(0, 121, 187, 1)
                    SearchFields: =["NombreGerencia"]
                    SearchItems: =[]
                    SelectionFill: =RGBA(0, 121, 187, 1)
                    SelectMultiple: =false
                    Tooltip: =Parent.DisplayName
                    Width: |
                        =Txt_FondoForm1_92.Width - 27
                    X: =30
                    Y: =49
                    ZIndex: =6

            "'Ubicación Laboral_DataCard1_2' As typedDataCard.comboBoxEditCard":
                BorderStyle: =BorderStyle.Solid
                DataField: ="Ubicaci_x00f3_n"
                Default: =ThisItem.'Ubicación Laboral'
                DisplayMode: |-
                    =If(
                        Dpd_InternoExterno_2.Selected.Value = "Interno",
                        DisplayMode.Disabled,
                        DisplayMode.Edit
                    )
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,'Ubicación Laboral')
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                Required: =false
                Update: =Dpd_UbicacionLaboral_2.Selected
                Width: =582
                X: =0
                Y: =1
                ZIndex: =1

                Txt_FondoForm1_93 As text:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =3
                    Default: =""
                    DisabledFill: |-
                        =If(
                            Dpd_InternoExterno_2.Selected.Value = "Externo",
                            RGBA(255, 255, 255, 1),
                            RGBA(244, 244, 244, 1)
                        )
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    Width: =527
                    X: =13
                    Y: =46
                    ZIndex: =1

                DataCardKey2_2 As label:
                    AutoHeight: =true
                    DisabledColor: =RGBA(102, 102, 102, 1)
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =2

                Dpd_UbicacionLaboral_2 As combobox:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =1
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
                    ChevronDisabledFill: =RGBA(128, 128, 128, 1)
                    ChevronFill: =RGBA(0, 121, 187, 1)
                    ChevronHoverBackground: =RGBA(0, 121, 187, 1)
                    DefaultSelectedItems: |-
                        =If(
                            IsBlank(_VarNuevoIDPErsona),
                            Parent.Default,
                            LookUp(Lst_Persona, Usuario = Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_3.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result,'Ubicación Laboral')
                        )
                    DisabledColor: =RGBA(53, 61, 63, 1)
                    DisplayFields: =["Value"]
                    DisplayMode: =Parent.DisplayMode
                    Height: =Txt_FondoForm1_93.Height -10
                    HoverBorderColor: =RGBA(0, 121, 187, 1)
                    Items: =Choices([@Lst_Persona].'Ubicación Laboral')
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                    PressedFill: =RGBA(0, 121, 187, 1)
                    SearchFields: =["Value"]
                    SearchItems: =Choices(Lst_Persona.'Ubicación Laboral',Dpd_UbicacionLaboral_2.SearchText)
                    SelectMultiple: =false
                    Tooltip: =Parent.DisplayName
                    Width: =Txt_FondoForm1_93.Width -27
                    X: =30
                    Y: =51
                    ZIndex: =3

                ErrorMessage2_2 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =Dpd_UbicacionLaboral_2.Y + Dpd_UbicacionLaboral_2.Height
                    ZIndex: =4

                StarVisible2_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey2_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey2_2.Y
                    ZIndex: =5

            RUT_DataCard1_2 As typedDataCard.textualEditCard:
                BorderStyle: =BorderStyle.Solid
                DataField: ="RUT"
                Default: =ThisItem.RUT
                DisplayMode: |-
                    =If(
                        Dpd_InternoExterno_2.Selected.Value = "Interno",
                        DisplayMode.Disabled,
                        DisplayMode.Edit
                    )
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,RUT)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                MaxLength: =DataSourceInfo([@Lst_Persona], DataSourceInfo.MaxLength, RUT)
                Required: =false
                Update: =Txt_Rut_2.Text
                Width: =582
                X: =1
                Y: =1
                ZIndex: =1

                DataCardKey3_2 As label:
                    AutoHeight: =true
                    DisabledColor: =RGBA(102, 102, 102, 1)
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                Txt_Rut_2 As text:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =3
                    Default: |-
                        =If(
                            IsBlank(_VarNuevoIDPErsona),
                            Parent.Default,
                        LookUp(Col_BD_Persona, Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_3.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result),RUT)
                        )
                    DelayOutput: =true
                    DisabledColor: =RGBA(53, 61, 63, 1)
                    DisplayMode: =Parent.DisplayMode
                    Height: =50
                    MaxLength: =Parent.MaxLength
                    PaddingLeft: =10
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    Tooltip: =Parent.DisplayName
                    Width: =527
                    X: =13
                    Y: =46
                    ZIndex: =2

                ErrorMessage3_2 As label:
                    AutoHeight: =true
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =11
                    Text: |-
                        =Parent.Error
                        /*
                        If(
                            Dpd_UbicacionLaboral.Selected.Value = "Chile";
                            If(
                                Len(Txt_Rut.Text) =9 && 
                                IsMatch(Txt_Rut.Text;Match.Digit & Match.Digit & Match.Digit & Match.Digit & Match.Digit & Match.Digit & Match.Digit & Match.Hyphen & Match.Digit);
                                Parent.Error;
                                If(
                                    Len(Txt_Rut.Text) =10 &&
                                    IsMatch(Txt_Rut.Text;Match.Digit & Match.Digit & Match.Digit & Match.Digit & Match.Digit & Match.Digit & Match.Digit & Match.Digit & Match.Hyphen & Match.Digit);
                                    Parent.Error;
                                    "Debe completar el Rut de manera correcta."
                                )
                            );
                            If(
                                IsBlank(Txt_Rut.Text) && Dpd_UbicacionLaboral.Selected.Value = "Extranjero";
                                "Ingresar el registro unico de su país.";
                                Parent.Error
                                
                            )
                        )
                        */
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 20
                    X: =13
                    Y: =Txt_Rut_2.Y + Txt_Rut_2.Height + 5
                    ZIndex: =3

                StarVisible3_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey3_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey3_2.Y
                    ZIndex: =4

            Empresa_DataCard2_2 As typedDataCard.allowedValuesStringEditCard:
                AllowedValues: =DataSourceInfo([@Lst_Persona], DataSourceInfo.AllowedValues, Empresa)
                BorderStyle: =BorderStyle.Solid
                DataField: ="Empresa"
                Default: =ThisItem.Empresa
                DisplayMode: |-
                    =If(
                        Dpd_InternoExterno_2.Selected.Value = "Interno",
                        DisplayMode.Disabled,
                        DisplayMode.Edit
                    )
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,Empresa)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                Required: =false
                Update: =Dpd_Empresa_3.Selected.ID
                Width: =582
                X: =2
                Y: =1
                ZIndex: =1

                Txt_FondoForm1_94 As text:
                    AccessibleLabel: =" "
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =3
                    Default: =""
                    DisabledFill: |-
                        =If(
                            Dpd_InternoExterno_2.Selected.Value = "Externo",
                            RGBA(255, 255, 255, 1),
                            RGBA(244, 244, 244, 1)
                        )
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    Width: =527
                    X: =13
                    Y: =46
                    ZIndex: =1

                DataCardKey13_2 As label:
                    AutoHeight: =true
                    DisabledColor: =RGBA(102, 102, 102, 1)
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =2

                Dpd_Empresa_3 As dropdown:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =0
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
                    ChevronDisabledFill: =RGBA(128, 128, 128, 1)
                    ChevronFill: =RGBA(0, 121, 187, 1)
                    ChevronHoverBackground: =RGBA(0, 121, 187, 1)
                    Default: |-
                        =LookUp(Lst_Proveedores,ID=Value(LookUp(Col_BD_Persona, Usuario = _VarUsuarioSelect).ID_Proveedor),Razon_Social_Proveedor)
                        
                        /*If(
                            IsBlank(_VarNuevoIDPErsona),
                            Parent.Default,
                            LookUp(Col_BD_Persona, Usuario = Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_2.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result,Empresa)
                        )*/
                    DisabledColor: =RGBA(53, 61, 63, 1)
                    DisplayMode: =Parent.DisplayMode
                    Height: =Txt_FondoForm1_94.Height -10
                    HoverBorderColor: =RGBA(0, 121, 187, 1)
                    Items: |-
                        =SortByColumns(Lst_Proveedores,"Razon_Social",SortOrder.Ascending)
                        //Sort(ForAll(Distinct(Filter(Empresa,Dpd_InternoExterno_1.SelectedText.Value='Interno/Externo'),Empresa), {Result: ThisRecord.Value}),Result,SortOrder.Ascending)
                    PressedFill: =RGBA(0, 121, 187, 1)
                    Tooltip: =Parent.DisplayName
                    Width: =Txt_FondoForm1_94.Width - 27
                    X: =30
                    Y: =51
                    ZIndex: =3

                ErrorMessage13_2 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =Dpd_Empresa_3.Y + Dpd_Empresa_3.Height
                    ZIndex: =4

                StarVisible13_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey13_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey13_2.Y
                    ZIndex: =5

            "'Fecha de Ingreso_DataCard1_2' As typedDataCard.dateEditCard":
                BorderStyle: =BorderStyle.Solid
                DataField: ="Fecha_x0020_de_x0020_Ingreso"
                Default: =ThisItem.'Fecha de Ingreso'
                DisplayMode: |-
                    =If(
                        Dpd_InternoExterno_2.Selected.Value = "Interno",
                        DisplayMode.Disabled,
                        DisplayMode.Edit
                    )
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,'Fecha de Ingreso')
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                Required: =false
                Update: =Dtp_FechaIngreso_2.SelectedDate
                Width: =582
                X: =0
                Y: =2
                ZIndex: =1

                Txt_FondoForm1_95 As text:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =3
                    Default: =""
                    DisabledFill: |-
                        =If(
                            Dpd_InternoExterno_2.Selected.Value = "Externo",
                            RGBA(255, 255, 255, 1),
                            RGBA(244, 244, 244, 1)
                        )
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    Width: =527
                    X: =13
                    Y: =46
                    ZIndex: =1

                DataCardKey6_2 As label:
                    AutoHeight: =true
                    DisabledColor: =RGBA(102, 102, 102, 1)
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =2

                Dtp_FechaIngreso_2 As datepicker:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =0
                    DefaultDate: |-
                        =If(
                            IsBlank(_VarNuevoIDPErsona),
                            Parent.Default,
                            LookUp(Col_BD_Persona, Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_3.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result),'Fecha de Ingreso')
                        )
                    DisabledColor: =RGBA(53, 61, 63, 1)
                    DisplayMode: =Parent.DisplayMode
                    EndYear: =Year(Today())+100
                    Height: =Txt_FondoForm1_95.Height - 10
                    IconBackground: =RGBA(244, 244, 244, 1)
                    IconFill: =RGBA(0, 121, 187, 1)
                    IsEditable: =true
                    PaddingBottom: =0
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                    StartYear: =1899
                    Tooltip: =Parent.DisplayName
                    Width: =Txt_FondoForm1_95.Width - 27
                    X: =30
                    Y: =51
                    ZIndex: =3

                ErrorMessage6_2 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =Dtp_FechaIngreso_2.Y + Dtp_FechaIngreso_2.Height
                    ZIndex: =4

                StarVisible6_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey6_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey6_2.Y
                    ZIndex: =5

            Usuario_DataCard1_2 As typedDataCard.textualEditCard:
                BorderStyle: =BorderStyle.Solid
                DataField: ="Usuario"
                Default: =ThisItem.Usuario
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,Usuario)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                MaxLength: =DataSourceInfo([@Lst_Persona], DataSourceInfo.MaxLength, Usuario)
                Required: =false
                Update: =Txt_Usuario_2.Text
                Width: =582
                X: =1
                Y: =2
                ZIndex: =1

                DataCardKey7_2 As label:
                    AutoHeight: =true
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                Txt_Usuario_2 As text:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =3
                    Default: |-
                        =Upper(If(
                            IsBlank(_VarNuevoIDPErsona),
                            Parent.Default,
                            Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_3.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result
                        ))
                    DelayOutput: =true
                    DisabledColor: =RGBA(53, 61, 63, 1)
                    DisplayMode: =DisplayMode.Disabled
                    Height: =50
                    MaxLength: =Parent.MaxLength
                    PaddingLeft: =15
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    Tooltip: =Parent.DisplayName
                    Width: =527
                    X: =13
                    Y: =46
                    ZIndex: =2

                ErrorMessage7_2 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =Txt_Usuario_2.Y + Txt_Usuario_2.Height
                    ZIndex: =3

                StarVisible7_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey7_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey7_2.Y
                    ZIndex: =4

            "'Correo Electrónico_DataCard1_2' As typedDataCard.textualEditCard":
                BorderStyle: =BorderStyle.Solid
                DataField: ="Nuevo_x0020_Correo"
                Default: =ThisItem.'Correo Electrónico'
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,'Correo Electrónico')
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                MaxLength: =DataSourceInfo([@Lst_Persona], DataSourceInfo.MaxLength, 'Correo Electrónico')
                Required: =false
                Update: =Txt_CorreoElectronico_2.Text
                Width: =582
                X: =2
                Y: =2
                ZIndex: =1

                DataCardKey8_2 As label:
                    AutoHeight: =true
                    DisabledColor: =RGBA(102, 102, 102, 1)
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                Txt_CorreoElectronico_2 As text:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =3
                    Default: |-
                        =If(
                            IsBlank(_VarNuevoIDPErsona),
                            Parent.Default,
                            Cmb_BuscarPersona_3.Selected.Email
                        )
                    DelayOutput: =true
                    DisabledColor: =RGBA(53, 61, 63, 1)
                    DisplayMode: |
                        =DisplayMode.Disabled
                    Height: =50
                    MaxLength: =Parent.MaxLength
                    PaddingLeft: =15
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    Tooltip: =Parent.DisplayName
                    Width: =527
                    X: =13
                    Y: =46
                    ZIndex: =2

                ErrorMessage8_2 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =Txt_CorreoElectronico_2.Y + Txt_CorreoElectronico_2.Height
                    ZIndex: =3

                StarVisible8_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey8_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey8_2.Y
                    ZIndex: =4

            Rol_DataCard2_2 As typedDataCard.allowedValuesStringEditCard:
                AllowedValues: =DataSourceInfo([@Lst_Persona], DataSourceInfo.AllowedValues, Rol)
                BorderStyle: =BorderStyle.Solid
                DataField: ="Rol"
                Default: =ThisItem.Rol
                DisplayMode: |-
                    =If(
                        Dpd_InternoExterno_2.Selected.Value = "Interno",
                        DisplayMode.Disabled,
                        DisplayMode.Edit
                    )
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,Rol)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                Required: =false
                Update: =Cmb_Rol_2.Selected.Roles
                Width: =582
                X: =0
                Y: =3
                ZIndex: =1

                Txt_FondoForm1_204 As text:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =3
                    Default: =""
                    DisplayMode: =Parent.DisplayMode
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    Width: =527
                    X: =13
                    Y: =46
                    ZIndex: =1

                DataCardKey18_2 As label:
                    AutoHeight: =true
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =2

                Cmb_Rol_2 As dropdown:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =0
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
                    ChevronDisabledFill: =RGBA(149, 149, 149, 1)
                    ChevronFill: =RGBA(0, 121, 187, 1)
                    ChevronHoverBackground: =RGBA(0, 121, 187, 1)
                    Default: |-
                        =If(
                            IsBlank(_VarNuevoIDPErsona),
                            Parent.Default,
                            LookUp(Col_BD_Persona, Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_3.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result),Rol)
                        )
                    DisabledColor: =RGBA(53, 61, 63, 1)
                    DisplayMode: =Parent.DisplayMode
                    Height: =Txt_FondoForm1_204.Height - 10
                    HoverBorderColor: =RGBA(0, 121, 187, 1)
                    Items: =Sort(Rol,Roles,SortOrder.Ascending)
                    PressedFill: =RGBA(0, 121, 187, 1)
                    Tooltip: =Parent.DisplayName
                    Width: =Txt_FondoForm1_204.Width - 27
                    X: =30
                    Y: =51
                    ZIndex: =3

                ErrorMessage18_2 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =Cmb_Rol_2.Y + Cmb_Rol_2.Height
                    ZIndex: =4

                StarVisible18_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey18_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey18_2.Y
                    ZIndex: =5

            BuscarJefeDirecto_DataCard1_2 As typedDataCard.comboBoxEditCard:
                BorderStyle: =BorderStyle.Solid
                DataField: ="BuscarJefeDirecto"
                Default: =ThisItem.BuscarJefeDirecto
                DisplayMode: |-
                    =If(
                        Dpd_InternoExterno_2.Selected.Value = "Interno",
                        DisplayMode.Disabled,
                        DisplayMode.Edit
                    )
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,BuscarJefeDirecto)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                Required: =false
                Update: =Cmb_BuscarJefe_2.Selected
                Width: =582
                X: =1
                Y: =3
                ZIndex: =1

                Txt_FondoForm1_205 As text:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =3
                    Default: =""
                    DisabledColor: =RGBA(102, 102, 102, 1)
                    DisabledFill: |-
                        =RGBA(244, 244, 244, 1)
                        /*
                        If(
                            Dpd_InternoExterno.Selected.Value = "Externo";
                            RGBA(255; 255; 255; 1);
                            RGBA(244; 244; 244; 1)
                        )
                        */
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    Width: =527
                    X: =13
                    Y: =46
                    ZIndex: =1

                DataCardKey16_2 As label:
                    AutoHeight: =true
                    DisabledColor: =RGBA(102, 102, 102, 1)
                    Height: =34
                    Text: ="Jefe Directo"
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =2

                Cmb_BuscarJefe_2 As combobox:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =0
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
                    ChevronDisabledFill: =RGBA(116, 116, 116, 1)
                    ChevronFill: =RGBA(0, 121, 187, 1)
                    ChevronHoverBackground: =RGBA(0, 121, 187, 1)
                    DefaultSelectedItems: |-
                        =If(
                            IsBlank(LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario_2.Text))),
                            If(
                                !IsBlank(_VarNuevoIDPErsona) ,
                                Table({DisplayName: LookUp(Lst_Persona, Usuario =_VarUsuarioJefe, Nombre_Persona)}),
                                Table({DisplayName: LookUp(Col_BD_Persona, Usuario =  LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario_2.Text), Jefe_Directo), Nombre_Persona)})
                            ),
                            Table({DisplayName: LookUp(Col_BD_Persona, Usuario =  LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario_2.Text), Jefe_Directo), Nombre_Persona)})
                        )
                    DisabledColor: =RGBA(53, 61, 63, 1)
                    DisplayFields: =["DisplayName","Email","Picture"]
                    DisplayMode: =Parent.DisplayMode.Disabled
                    Height: =Txt_FondoForm1_205.Height - 10
                    HoverBorderColor: =RGBA(0, 121, 187, 1)
                    InputTextPlaceholder: ="Buscar Jefe"
                    Items: =Choices([@Lst_Persona].BuscarJefeDirecto)
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                    PressedFill: =RGBA(0, 121, 187, 1)
                    SearchFields: =["DisplayName"]
                    SearchItems: =Choices(Lst_Persona.BuscarJefeDirecto,Cmb_BuscarJefe_2.SearchText)
                    SelectMultiple: =false
                    Template: =ListItemTemplate.Person
                    Tooltip: =Parent.DisplayName
                    Width: =Txt_FondoForm1_205.Width - 27
                    X: =30
                    Y: =51
                    ZIndex: =3

                ErrorMessage16_2 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =Cmb_BuscarJefe_2.Y + Cmb_BuscarJefe_2.Height
                    ZIndex: =4

                StarVisible16_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey16_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey16_2.Y
                    ZIndex: =5

            Genero_DataCard2_2 As typedDataCard.allowedValuesStringEditCard:
                AllowedValues: =DataSourceInfo([@Lst_Persona], DataSourceInfo.AllowedValues, Genero)
                BorderStyle: =BorderStyle.Solid
                DataField: ="Genero"
                Default: =ThisItem.Genero
                DisplayMode: |-
                    =If(
                        Dpd_InternoExterno_2.Selected.Value = "Interno",
                        DisplayMode.Disabled,
                        DisplayMode.Edit
                    )
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,Genero)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =106
                Required: =false
                Update: =Dpd_Genero_2.Selected.Value
                Width: =582
                X: =2
                Y: =3
                ZIndex: =1

                DataCardKey27_2 As label:
                    AutoHeight: =true
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                ErrorMessage27_2 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =
                    ZIndex: =3

                StarVisible27_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey27_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey27_2.Y
                    ZIndex: =4

                Txt_FondoForm1_206 As text:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =3
                    Default: =""
                    DisabledFill: |-
                        =If(
                            Dpd_InternoExterno_2.Selected.Value = "Externo",
                            RGBA(255, 255, 255, 1),
                            RGBA(244, 244, 244, 1)
                        )
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    Width: =527
                    X: =13
                    Y: =46
                    ZIndex: =5

                Dpd_Genero_2 As combobox:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =1
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
                    ChevronDisabledFill: =RGBA(128, 128, 128, 1)
                    ChevronFill: =RGBA(0, 121, 187, 1)
                    ChevronHoverBackground: =RGBA(0, 121, 187, 1)
                    Default: |-
                        ={Value:ThisItem.Genero}
                    DefaultSelectedItems: |-
                        =Table({Value:ThisItem.Genero})
                    DisabledColor: =RGBA(53, 61, 63, 1)
                    DisplayFields: =["Value"]
                    DisplayMode: =Parent.DisplayMode
                    Height: =Txt_FondoForm1_206.Height -10
                    HoverBorderColor: =RGBA(0, 121, 187, 1)
                    IsSearchable: =false
                    Items: =["M","F"]
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                    PressedFill: =RGBA(0, 121, 187, 1)
                    SearchFields: =["Value"]
                    SearchItems: =[]
                    SelectMultiple: =false
                    Tooltip: =Parent.DisplayName
                    Width: =Txt_FondoForm1_206.Width -27
                    X: =30
                    Y: =51
                    ZIndex: =6

            Categoria_DataCard1_1 As typedDataCard.textualEditCard:
                BorderStyle: =BorderStyle.Solid
                DataField: ="Categoria"
                Default: =ThisItem.Categoria
                DisplayMode: |-
                    =If(
                        Dpd_InternoExterno_2.Selected.Value = "Interno",
                        DisplayMode.Disabled,
                        DisplayMode.Edit
                    )
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,Categoria)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =106
                MaxLength: =DataSourceInfo([@Lst_Persona], DataSourceInfo.MaxLength, Categoria)
                Required: =false
                Update: =DataCardValue162_1.Selected.Value
                Width: =582
                X: =0
                Y: =4
                ZIndex: =1

                DataCardKey186_1 As label:
                    AutoHeight: =true
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                ErrorMessage60_1 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardValue162_1.Y + DataCardValue162_1.Height
                    ZIndex: =3

                StarVisible60_1 As label:
                    Align: =Align.Center
                    Height: =DataCardKey186_1.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey186_1.Y
                    ZIndex: =4

                Txt_FondoForm1_207 As text:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =3
                    Default: =""
                    DisabledFill: |-
                        =If(
                            Dpd_InternoExterno_2.Selected.Value = "Externo",
                            RGBA(255, 255, 255, 1),
                            RGBA(244, 244, 244, 1)
                        )
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    Width: =527
                    X: =13
                    Y: =40
                    ZIndex: =5

                DataCardValue162_1 As combobox:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =0
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
                    ChevronDisabledFill: =RGBA(128, 128, 128, 1)
                    ChevronFill: =RGBA(0, 121, 187, 1)
                    ChevronHoverBackground: =RGBA(0, 121, 187, 1)
                    Default: |-
                        ={Value:Parent.Default}
                        
                        /*
                        If(
                            Dpd_InternoExterno_1.Selected.Value = "Interno";
                            Blank();
                            {Value:Parent.Default}
                        )
                        */
                    DefaultSelectedItems: |-
                        =Table({Value:Parent.Default})
                        
                        /*
                        If(
                            Dpd_InternoExterno_1.Selected.Value = "Interno";
                            Blank();
                            Table({Value:Parent.Default})
                        )
                        */
                        
                        /*
                        If(
                            IsBlank(_VarNuevoIDPErsona);
                            Table({Value:Parent.Default});
                            Table({Value:LookUp(Col_BD_Persona; Usuario = Upper(Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarPersona_2.Selected.Claims;"@"); {Result: ThisRecord.Value})).Result;"|"); {Result: ThisRecord.Value})).Result);Categoria)})
                        )
                        */
                    DisabledColor: =RGBA(53, 61, 63, 1)
                    DisplayFields: =["Value"]
                    DisplayMode: =Parent.DisplayMode
                    HoverBorderColor: =RGBA(0, 121, 187, 1)
                    IsSearchable: =false
                    Items: =["Headcount","Subcontratación Headcount","Subcontratación Servicios"]
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                    PressedFill: =RGBA(0, 121, 187, 1)
                    SearchFields: =["Value"]
                    SearchItems: =[]
                    SelectMultiple: =false
                    Tooltip: =Parent.DisplayName
                    Width: =Txt_FondoForm1_207.Width - 27
                    X: =30
                    Y: =45
                    ZIndex: =6

                "InfoButtonCanvas1_1 As 'Information button'":
                    BasePaletteColor: =
                    Content: |-
                        ="Servicios: contratación de prestación de servicios cuando no se tiene expertiz. Importa el resultado independiente de quienes prestan el servicio. Temporalidad esporadica y específica, aun cuando puede ser recuerrente. No forman parte del negocio, el prestador trabaja independiente, solo solicitud inicial y entregas se tratan directo con equipo WM. Ej: encuesta a fin de mes. 
                        
                        Subcontratación:  externalización de servicios permanentes. Temporalidad permanente, no esporádico o puntual. Colaboradores no forman parte de los equipos ni reciben instrucciones de líderes de WM sino que a traves de un coordinador o supervisor. Ej: Mesa de ayuda.
                        
                        Outsourcing: contratación empresa externa que suministra un trabajador externo que tiene contrato de prestación de servicios. Temporalidad variable. Existen ordenes directas de los trabajadores, forman parte de los equipos y ocupan herramientas de Walmart."
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    FontSize: =15
                    Height: =32
                    Width: =32
                    X: =133
                    Y: =8
                    ZIndex: =7

            "'Considera Head Count_DataCard2_1' As typedDataCard.comboBoxEditCard":
                BorderStyle: =BorderStyle.Solid
                DataField: ="Considera_x0020_Head_x0020_Count"
                Default: =ThisItem.'Considera Head Count'
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,'Considera Head Count')
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                Required: =false
                Update: =DataCardValue174_1.Selected
                Visible: =false
                Width: =582
                X: =1
                Y: =4
                ZIndex: =1

                DataCardKey199_1 As label:
                    AutoHeight: =true
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                DataCardValue174_1 As combobox:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    Default: |-
                        =If(
                            Dpd_InternoExterno_2.Selected.Value = "Externo",
                            If(
                                DataCardValue162_1.Selected.Value = "Subcontratación Outsourcing",
                                {Value:"SI"},
                                {Value:"NO"}
                            ),
                            {Value:"SI"}
                        )
                    DefaultSelectedItems: |-
                        =If(
                            Dpd_InternoExterno_2.Selected.Value = "Externo",
                            If(
                                 DataCardValue162_1.Selected.Value = "Subcontratación Outsourcing",
                                Table({Value:"SI"}),
                                Table({Value:"NO"})
                            ),
                            Table({Value:"SI"})
                        )
                    DisplayFields: =["Value"]
                    DisplayMode: =Parent.DisplayMode
                    Items: =Choices([@Lst_Persona].'Considera Head Count')
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                    SearchFields: =["Value"]
                    SearchItems: =Choices(Lst_Persona.'Considera Head Count',DataCardValue174_1.SearchText)
                    SelectMultiple: =false
                    Tooltip: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardKey199_1.Y + DataCardKey199_1.Height + 5
                    ZIndex: =2

                ErrorMessage193_1 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardValue174_1.Y + DataCardValue174_1.Height
                    ZIndex: =3

                StarVisible193_1 As label:
                    Align: =Align.Center
                    Height: =DataCardKey199_1.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey199_1.Y
                    ZIndex: =4

            IDPersona_DataCard1_2 As typedDataCard.textualEditCard:
                BorderStyle: =BorderStyle.Solid
                DataField: ="IDPersona"
                Default: =ThisItem.IDPersona
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,IDPersona)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                MaxLength: =DataSourceInfo([@Lst_Persona], DataSourceInfo.MaxLength, IDPersona)
                Required: =false
                Update: =DataCardValue1_2.Text
                Visible: =false
                Width: =582
                X: =2
                Y: =4
                ZIndex: =1

                DataCardKey1_2 As label:
                    AutoHeight: =true
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                DataCardValue1_2 As text:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    Default: |-
                        =If(
                            IsBlank(ThisItem.IDPersona),
                            _VarNuevoIDPErsona,
                            ThisItem.IDPersona
                        )
                    DelayOutput: =true
                    DisplayMode: =Parent.DisplayMode
                    MaxLength: =Parent.MaxLength
                    PaddingLeft: =5
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Tooltip: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardKey1_2.Y + DataCardKey1_2.Height + 5
                    ZIndex: =2

                ErrorMessage1_2 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardValue1_2.Y + DataCardValue1_2.Height
                    ZIndex: =3

                StarVisible1_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey1_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey1_2.Y
                    ZIndex: =4

            Jefe_Directo_DataCard1_2 As typedDataCard.textualEditCard:
                BorderStyle: =BorderStyle.Solid
                DataField: ="Jefe_Directo"
                Default: =ThisItem.Jefe_Directo
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,Jefe_Directo)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                MaxLength: =DataSourceInfo([@Lst_Persona], DataSourceInfo.MaxLength, Jefe_Directo)
                Required: =false
                Update: =Txt_JefeDirecto_2.Text
                Visible: =false
                Width: =582
                X: =0
                Y: =5
                ZIndex: =1

                DataCardKey10_2 As label:
                    AutoHeight: =true
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                Txt_JefeDirecto_2 As text:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    Default: |-
                        =If(
                            IsBlank(LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario_2.Text))),
                           _VarUsuarioJefe,
                            LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario_2.Text)).Jefe_Directo
                        )
                        /*
                        If(
                            IsBlank(ThisItem.Jefe_Directo),
                         Last(ForAll(Split(First(ForAll(Split(Cmb_BuscarJefe.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result,
                            ThisItem.Jefe_Directo
                        )
                        */
                    DelayOutput: =true
                    DisplayMode: =Parent.DisplayMode
                    MaxLength: =Parent.MaxLength
                    PaddingLeft: =5
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Tooltip: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =44
                    ZIndex: =2

                ErrorMessage10_2 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =Txt_JefeDirecto_2.Y + Txt_JefeDirecto_2.Height
                    ZIndex: =3

                StarVisible10_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey10_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey10_2.Y
                    ZIndex: =4

            Nombre_Persona_DataCard1_2 As typedDataCard.textualEditCard:
                BorderStyle: =BorderStyle.Solid
                DataField: ="Nombre_Persona"
                Default: =ThisItem.Nombre_Persona
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@Lst_Persona],DataSourceInfo.DisplayName,Nombre_Persona)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                MaxLength: =DataSourceInfo([@Lst_Persona], DataSourceInfo.MaxLength, Nombre_Persona)
                Required: =false
                Update: =Txt_NombrePersona_2.Text
                Visible: =false
                Width: =582
                X: =1
                Y: =5
                ZIndex: =1

                DataCardKey9_2 As label:
                    AutoHeight: =true
                    Height: =34
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                Txt_NombrePersona_2 As text:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    Default: =Cmb_BuscarPersona_3.Selected.DisplayName
                    DelayOutput: =true
                    DisplayMode: =Parent.DisplayMode
                    MaxLength: =Parent.MaxLength
                    PaddingLeft: =5
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Tooltip: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardKey9_2.Y + DataCardKey9_2.Height + 5
                    ZIndex: =2

                ErrorMessage9_2 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =Txt_NombrePersona_2.Y + Txt_NombrePersona_2.Height
                    ZIndex: =3

                StarVisible9_2 As label:
                    Align: =Align.Center
                    Height: =DataCardKey9_2.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey9_2.Y
                    ZIndex: =4

        "'Debes completar info_3' As label":
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Semibold
            Height: =69
            Text: |-
                =If(
                    !IsBlank(LookUp(Col_BD_Persona, Usuario = Upper(Txt_Usuario_2.Text))) && !IsBlank(_VarNuevoIDPErsona),
                    If(Txt_JefeDirecto_2.Text=_VarUsuarioJefe,"",
                    "** Esta persona ya se encuentra asignada a una jefatura, no puedes modificar su información." & 
                    If(Dpd_InternoExterno_2.Selected.Value="Externo","
                    Si este usuario está a tu cargo, puedes moverlo en la opción 'Cambiar Jefatura'.","
                    Si esta información no está actualizada por favor comunicarse con el equipo de Personas.")
                    ),
                    If(
                        Dpd_InternoExterno_2.Selected.Value = "Externo",
                        "** Debes completar toda la información para poder actualizar los datos de la persona.",
                        "** Se debe completar o actualizar el rol del usuario. Se debe considerar que los demás campos son actualizados de manera automática"
                    )
                )
            Width: =1720
            X: =9
            Y: =578
            ZIndex: =2

    Gp_PopUpBorrarEquipoAsignado_2 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =42

        "'rectangulo gris_5' As rectangle":
            Fill: =RGBA(169,169,169,0.75)
            Height: =1050
            Visible: =PopUpBorrar_CasoEspecial
            Width: =1920
            ZIndex: =18

        "'rectangulo blanco_5' As rectangle":
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderThickness: =4
            Fill: =RGBA(255, 255, 255, 1)
            Height: |
                =If(
                    Dpd_SeleccionarAccion_3.Selected.Value = "Movilidad interna",
                    490,
                    363
                )
            Visible: =PopUpBorrar_CasoEspecial
            Width: =843
            X: =599
            Y: =326
            ZIndex: =19

        "'text pop up_18' As label":
            Align: =Align.Right
            Height: =39
            PaddingRight: =15
            Text: |-
                =//"Estas seguro que quieres eliminar a " & PersonaBorrar.'Nombre (Nombre2)'.DisplayName
                " Seleccionar el motivo:"
            Visible: =PopUpBorrar_CasoEspecial
            Width: =305
            X: =683
            Y: =435
            ZIndex: =20

        Borrar_5 As button:
            BorderColor: =Color.Transparent
            DisplayMode: |-
                =If(
                    Dpd_SeleccionarAccion_3.SelectedText.Value = "-- Seleccionar motivo --", 
                    DisplayMode.Disabled,
                    If(
                        Dpd_SeleccionarAccion_3.SelectedText.Value = "Movilidad interna" && ( IsBlank(Cmb_CambioDominio_2.Selected.IDDominio) || IsBlank(Cmb_CambioEquipo_2.Selected.'Equipo/Squad')),
                        DisplayMode.Disabled,
                        DisplayMode.Edit
                    )
                )
            Fill: =RGBA(255, 0, 0, 1)
            Height: =65
            HoverFill: =ColorFade(RGBA(255, 0, 0, 100), -10%)
            OnSelect: |-
                =/*Mostrar Spinner Cargando*/
                Set(_VarMostrarCargando,true);
                
                Patch(
                        Lst_Persona,
                        LookUp(Lst_Persona, Usuario = Txt_Usuario_2.Text && Estado = "Activo"),
                        {
                            Estado: "Inactivo",
                            FechaCese: Dtp_FechaBaja_3.SelectedDate,
                            //CesadoPor: _Perfil.mail;
                            RazondeBaja: Dpd_SeleccionarAccion_3.SelectedText.Value
                        }
                    );
                
                    ClearCollect(Col_EquipodelUsuario,Filter(Ingresos_Ceses_Personas, Usuario = Txt_Usuario_2.Text && Estado = "Activo"));
                
                ForAll(
                    Col_EquipodelUsuario As EquiposAsignados,
                    Patch(
                        Ingresos_Ceses_Personas,
                        LookUp(Ingresos_Ceses_Personas, ID = EquiposAsignados.ID),
                        {
                            Estado: "Inactivo",
                            FechaCese: Dtp_FechaBaja_3.SelectedDate,
                            //CesadoPor: _Perfil.mail;
                            RazondeBaja: Dpd_SeleccionarAccion_3.SelectedText.Value
                        }
                    )
                );
                
                
                UpdateContext({_VarMostrarBarraBloqueo:false});
                Clear(Col_EquiposPersonas);
                Set(_VarNuevoIDPErsona,"");
                Reset(Cmb_BuscarMiEquipo);
                Set(_VarUsuarioSelect,Blank());
                ResetForm(Frm_EditarPersona);
                //Set(_verPopUpNuevoUsuario;false);;
                Set(PopUpBorrar_CasoEspecial,false);
                //UpdateContext({_VarEliminarTodo:false});;
                Reset(Dpd_SeleccionarAccion_1);
                
                /*
                // =======================================
                If(
                    Dpd_SeleccionarAccion_1.Selected.Value = "Movilidad interna";
                    Patch(
                        Lst_Persona;
                        Defaults(Lst_Persona);
                        {
                            Nombre_Persona: _VarUsuarioEliminar.Nombre_Persona;
                            RUT: _VarUsuarioEliminar.RUT;
                            'Interno/Externo': _VarUsuarioEliminar.'Interno/Externo';
                            Jefe_Directo: _VarUsuarioEliminar.Jefe_Directo;
                            'Considera Head Count': _VarUsuarioEliminar.'Considera Head Count';
                            //Dominio: GaleriaDatos.Dominio;
                            Empresa: _VarUsuarioEliminar.Empresa;
                            Usuario: _VarUsuarioEliminar.Usuario;
                            Rol: _VarUsuarioEliminar.Rol;
                            'Correo Electrónico': _VarUsuarioEliminar.'Correo Electrónico';
                            'Ubicación Laboral': _VarUsuarioEliminar.'Ubicación Laboral';
                            'Fecha de Ingreso': _VarUsuarioEliminar.'Fecha de Ingreso';
                            Estado: "Activo"
                        }
                    );;
                    Patch(
                        Ingresos_Ceses_Personas;
                            Defaults(Ingresos_Ceses_Personas);
                        {
                           IDEquipo: Cmb_CambioEquipo.Selected.IDEquipo;
                           Usuario: _VarUsuarioEliminar.Usuario;
                           AsignadoPor: _Perfil.displayName;
                           FechaAsignacion: Today();
                           //EquipoPrincipal: ;
                           Estado: "Activo"
                        }
                    )
                )
                    ;;
                //========================================
                */
                //Clear(Col_EquiposPersonas);;
                //Collect(Col_EquiposPersonas;Filter(Ingresos_Ceses_Personas; Usuario = _VarUsuarioEliminar.Usuario; Estado = "Activo"));;
                //Reset(Cmb_CambioDominio);;
                //Reset(Cmb_CambioEquipo);;
                ClearCollect(Col_MiEquipoWalmart,Filter(Lst_Persona, Jefe_Directo = _VarUsuarioJefe && Estado = "Activo"));
                Notify("Se elimino de manera correcta al usuario.",NotificationType.Success,10000);
                /*Ocultar Spinner Cargando*/
                Set(_VarMostrarCargando,false);
                Reset(Dpd_SeleccionarAccion_1);
                //Set(PopUpBorrar;false);;
                //Set(IconoCargar;false)
            Text: ="SI"
            Visible: =PopUpBorrar_CasoEspecial
            Width: =166.99
            X: =820
            Y: |-
                =If(
                    Dpd_SeleccionarAccion_3.Selected.Value = "Movilidad interna",
                    720,
                    580
                )
            ZIndex: =21

        Cancelar_5 As button:
            BorderColor: =Color.Transparent
            Height: =65
            OnSelect: |-
                =Set(PopUpBorrar_CasoEspecial,false);
                //UpdateContext({_VarEliminarTodo:false});;
                Reset(Dpd_SeleccionarAccion_3);
            Text: ="Cancelar"
            Visible: =PopUpBorrar_CasoEspecial
            Width: =166.99
            X: =1049
            Y: |-
                =If(
                    Dpd_SeleccionarAccion_3.Selected.Value = "Movilidad interna",
                    720,
                    580
                )
            ZIndex: =22

        Txt_FondoForm1_208 As text:
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderThickness: =3
            Default: =""
            DisabledFill: =RGBA(255, 255, 255, 1)
            DisplayMode: =DisplayMode.Disabled
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            RadiusBottomLeft: =25
            RadiusBottomRight: =25
            RadiusTopLeft: =25
            RadiusTopRight: =25
            Visible: =PopUpBorrar_CasoEspecial
            Width: =314
            X: =992
            Y: =427
            ZIndex: =23

        Dpd_SeleccionarAccion_3 As dropdown:
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 121, 187, 1)
            ChevronHoverBackground: =RGBA(0, 121, 187, 1)
            Height: =Txt_FondoForm1_208.Height - 10
            HoverBorderColor: =RGBA(0, 121, 187, 1)
            Items: |-
                =["-- Seleccionar motivo --","Salida Walmart - Desvinculación","Salida Walmart - Voluntaria"]
                
                /*
                If(
                    _VarEliminarTodo || (Txt_ElementosSeleccionados.Text = "true");
                    ["-- Seleccionar motivo --";"Movilidad interna"; "Salida Walmart - Desvinculación";"Salida Walmart - Voluntaria"];
                    ["-- Seleccionar motivo --";"Movilidad interna"; "Salida Walmart - Desvinculación";"Salida Walmart - Voluntaria"]
                )
                */
            PressedFill: =RGBA(0, 121, 187, 1)
            SelectionFill: =RGBA(0, 121, 187, 1)
            Size: =12
            Visible: =PopUpBorrar_CasoEspecial
            Width: =Txt_FondoForm1_208.Width - 27
            X: =1005
            Y: =432
            ZIndex: =24

        "'text pop up_17' As label":
            Align: =Align.Center
            FontWeight: =FontWeight.Bold
            Height: =85
            Size: =18
            Text: |
                ="¿ Estas seguro que quieres eliminar a " & Txt_NombrePersona.Text & " ?"
            Visible: =PopUpBorrar_CasoEspecial
            Width: =843
            X: =599
            Y: =326
            ZIndex: =25

        "'text pop up_19' As label":
            Align: =Align.Right
            PaddingRight: =15
            Text: |-
                =//"Estas seguro que quieres eliminar a " & PersonaBorrar.'Nombre (Nombre2)'.DisplayName
                " Seleccionar fecha:"
            Visible: =PopUpBorrar_CasoEspecial
            Width: =305
            X: =690
            Y: =500
            ZIndex: =26

        Txt_FondoForm1_209 As text:
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderThickness: =3
            Default: =""
            DisabledFill: =RGBA(255, 255, 255, 1)
            DisplayMode: =DisplayMode.Disabled
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            RadiusBottomLeft: =25
            RadiusBottomRight: =25
            RadiusTopLeft: =25
            RadiusTopRight: =25
            Visible: =PopUpBorrar_CasoEspecial
            Width: =314
            X: =992
            Y: =495
            ZIndex: =27

        Dtp_FechaBaja_3 As datepicker:
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            Format: ="dd/mm/yyyy"
            Height: =Txt_FondoForm1_209.Height - 10
            IconBackground: =RGBA(255, 255, 255, 1)
            IconFill: =RGBA(0, 121, 187, 1)
            Size: =12
            Visible: =PopUpBorrar_CasoEspecial
            Width: =Txt_FondoForm1_209.Width - 27
            X: =1005
            Y: =500
            ZIndex: =28

        Txt_FondoForm1_210 As text:
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderThickness: =3
            Default: =""
            DisabledFill: =RGBA(255, 255, 255, 1)
            DisplayMode: =DisplayMode.Disabled
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            RadiusBottomLeft: =25
            RadiusBottomRight: =25
            RadiusTopLeft: =25
            RadiusTopRight: =25
            Visible: =PopUpBorrar_CasoEspecial && Dpd_SeleccionarAccion_3.Selected.Value = "Movilidad interna"
            Width: =314
            X: =992
            Y: =559
            ZIndex: =29

        Cmb_CambioDominio_2 As combobox:
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 121, 187, 1)
            ChevronHoverBackground: =RGBA(0, 121, 187, 1)
            DisplayFields: =["ComplianceAssetId"]
            Height: =Txt_FondoForm1_210.Height - 10
            HoverBorderColor: =RGBA(0, 121, 187, 1)
            Items: =Col_BD_Dominios
            PressedFill: =RGBA(0, 121, 187, 1)
            SearchFields: =["ComplianceAssetId"]
            SearchItems: =Search(Col_BD_Dominios,Cmb_CambioDominio_2.SearchText,ComplianceAssetId)
            SelectMultiple: =false
            Visible: =PopUpBorrar_CasoEspecial && Dpd_SeleccionarAccion_3.Selected.Value = "Movilidad interna"
            Width: =Txt_FondoForm1_210.Width - 27
            X: =1006
            Y: =564
            ZIndex: =30

        Txt_FondoForm1_214 As text:
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderThickness: =3
            Default: =""
            DisabledFill: =RGBA(255, 255, 255, 1)
            DisplayMode: =DisplayMode.Disabled
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            RadiusBottomLeft: =25
            RadiusBottomRight: =25
            RadiusTopLeft: =25
            RadiusTopRight: =25
            Visible: =PopUpBorrar_CasoEspecial && Dpd_SeleccionarAccion_3.Selected.Value = "Movilidad interna"
            Width: =314
            X: =992
            Y: =626
            ZIndex: =31

        Cmb_CambioEquipo_2 As combobox:
            BorderStyle: =BorderStyle.None
            BorderThickness: =0
            ChevronBackground: =RGBA(255, 255, 255, 1)
            ChevronFill: =RGBA(0, 121, 187, 1)
            ChevronHoverBackground: =RGBA(0, 121, 187, 1)
            DisplayFields: =["Equipo_x002f_Squad"]
            Height: =Txt_FondoForm1_214.Height - 10
            HoverBorderColor: =RGBA(0, 121, 187, 1)
            IsSearchable: =false
            Items: =Filter(Col_BD_Equipos, IDDominio = Cmb_CambioDominio_2.Selected.IDDominio)
            PressedFill: =RGBA(0, 121, 187, 1)
            SearchFields: =["Equipo_x002f_Squad"]
            SearchItems: =[]
            SelectMultiple: =false
            Visible: =PopUpBorrar_CasoEspecial && Dpd_SeleccionarAccion_3.Selected.Value = "Movilidad interna"
            Width: =Txt_FondoForm1_214.Width - 27
            X: =1006
            Y: =631
            ZIndex: =32

        "'text pop up_20' As label":
            Align: =Align.Right
            Height: =39
            PaddingRight: =15
            Text: |-
                =" Seleccionar el Gerencia/Viaje:"
            Visible: =PopUpBorrar_CasoEspecial && Dpd_SeleccionarAccion_3.Selected.Value = "Movilidad interna"
            Width: =305
            X: =687
            Y: =566
            ZIndex: =33

        "'text pop up_21' As label":
            Align: =Align.Right
            Height: =39
            PaddingRight: =15
            Text: |-
                =" Seleccionar el equipo:"
            Visible: =PopUpBorrar_CasoEspecial && Dpd_SeleccionarAccion_3.Selected.Value = "Movilidad interna"
            Width: =305
            X: =683
            Y: =635
            ZIndex: =34

        Html_CabeceraEliminarUsuario_2 As htmlViewer:
            Height: =83
            HtmlText: |-
                ="
                <div style='background: linear-gradient(90deg, #7EC9F5, #0079BB); color: white; width: 830px; height: 65px; display: flex; align-items: center; justify-content: center; border-radius: 20px;'>
                  <h1 style='text-indent: 240px; text-align: center;'> Eliminar Usuario/Equipo</h1>
                </div>
                "
                /*
                "<div style = 'background: linear-gradient( 90deg, #7EC9F5, #0079BB)'>
                 <p style='text-align: center;' data-mce-style='text-align: center;'>
                 <span style='color: rgb(236, 240, 241); font-size: 20pt' data-mce-style='color: #ecf0f1;; font-size: 20pt'>
                 <strong>Información Personal</strong></span></p>
                 </div>
                "
                */
            Visible: =PopUpBorrar_CasoEspecial
            Width: =843
            X: =599
            Y: =251
            ZIndex: =35

    Txt_BuscadorPersona_3 As text:
        BorderColor: =RGBA(53, 61, 63, 1)
        Default: =""
        Height: =46
        HintText: ="Buscar Persona, Rol o Tipo"
        RadiusBottomLeft: =20
        RadiusBottomRight: =20
        RadiusTopLeft: =20
        RadiusTopRight: =20
        Width: |-
            =If(
                _VarMostrarBuscar,
                597,
                -1
            )
        X: =529
        Y: =219
        ZIndex: =43

    Gp_Buscador_1 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =43

        Txt_BuscadorPersona_2 As text:
            BorderColor: =RGBA(53, 61, 63, 1)
            Default: =""
            Height: =46
            HintText: ="Buscar Persona, Rol o Tipo"
            RadiusBottomLeft: =20
            RadiusBottomRight: =20
            RadiusTopLeft: =20
            RadiusTopRight: =20
            Width: |-
                =If(
                    _VarMostrarBuscar,
                    597,
                    -1
                )
            X: =106
            Y: =217
            ZIndex: =12

        Icon1_4 As icon.Search:
            BorderStyle: =BorderStyle.None
            Color: =RGBA(53, 61, 63, 1)
            Height: =40
            Icon: =Icon.Search
            OnSelect: =Set(_VarMostrarBuscar, !_VarMostrarBuscar)
            Tooltip: ="Buscar Persona"
            X: |-
                =If(
                    _VarMostrarBuscar,
                    628,
                    110
                )
            Y: =221
            ZIndex: =13

        Label27_2 As label:
            Color: =RGBA(79, 90, 94, 1)
            Font: =Font.Lato
            FontWeight: =FontWeight.Lighter
            Height: =46
            OnSelect: =Set(_VarMostrarBuscar, !_VarMostrarBuscar)
            Size: =15
            Text: ="Buscar Persona, Rol o Tipo"
            Visible: |-
                =If(
                    _VarMostrarBuscar,
                    false,
                    true
                )
            Width: =300
            X: =163
            Y: =217
            ZIndex: =14

    Cmb_BuscarPersona_5 As combobox:
        AccessibleLabel: ="."
        BorderColor: =
        BorderStyle: =BorderStyle.None
        BorderThickness: =0
        ChevronBackground: =RGBA(255, 255, 255, 1)
        ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
        ChevronDisabledFill: =RGBA(116, 116, 116, 1)
        ChevronFill: =RGBA(0, 121, 187, 1)
        ChevronHoverBackground: =RGBA(0, 121, 187, 1)
        DefaultSelectedItems: =
        DisabledColor: =RGBA(53, 61, 63, 1)
        DisplayFields: =["Razon_Social"]
        Height: |
            =40
        HoverBorderColor: =RGBA(0, 121, 187, 1)
        InputTextPlaceholder: ="Seleccionar proveedor"
        Items: =SortByColumns(Lst_Proveedores,"Razon_Social",SortOrder.Ascending)
        OnChange: =
        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
        PressedFill: =RGBA(0, 121, 187, 1)
        SearchFields: =["Razon_Social"]
        SearchItems: =Search(SortByColumns(Lst_Proveedores,"Razon_Social",SortOrder.Ascending),Cmb_BuscarPersona_5.SearchText,Razon_Social)
        SelectionFill: =RGBA(0, 121, 187, 1)
        SelectMultiple: =false
        Size: =15
        Tooltip: =
        Width: =450
        X: =540
        Y: =219
        ZIndex: =45

