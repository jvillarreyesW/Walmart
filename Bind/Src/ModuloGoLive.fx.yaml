ModuloGoLive As screen:

    Txt_Gl_FondoRegistro As text:
        BorderColor: =RGBA(102, 102, 102, 1)
        Default: =""
        DisabledBorderColor: =RGBA(202, 202, 202, 1)
        DisabledFill: =RGBA(0, 0, 0, 0)
        DisplayMode: =DisplayMode.Disabled
        Height: =769
        RadiusBottomLeft: =20
        RadiusBottomRight: =20
        RadiusTopLeft: =20
        RadiusTopRight: =20
        Width: =1900
        X: =6
        Y: =266
        ZIndex: =1

    Txt_Gl_ComentarioGolive As text:
        BorderColor: =RGBA(128, 128, 128, 1)
        BorderThickness: =3
        Default: |+
            =    If(
                    !(First(ProyectoSeleccionado).FechaGolive = Dtp_Gl_FechaGolive.SelectedDate),
                    "",
                    First(ProyectoSeleccionado).ComentariosGolive        
                )
            
        DelayOutput: =true
        DisabledColor: =RGBA(77, 77, 77, 1)
        DisplayMode: |
            =If(
                CountRows(Filter(Lst_HistoricoGoLive,IDProducto = First(ProyectoSeleccionado).IDProducto))=0,
                DisplayMode.Edit,
                If(
                    !(First(ProyectoSeleccionado).FechaGolive = Dtp_Gl_FechaGolive.SelectedDate),
                    DisplayMode.Edit,
                    DisplayMode.Disabled      
                )
            )
        Height: =160
        HintText: ="Agregar Comentario GoLive"
        HoverBorderColor: =RGBA(128, 128, 128, 1)
        HoverFill: =RGBA(255, 255, 255, 1)
        Mode: =TextMode.MultiLine
        PaddingLeft: =10
        PaddingTop: =15
        RadiusBottomLeft: =25
        RadiusBottomRight: =25
        RadiusTopLeft: =25
        RadiusTopRight: =25
        Reset: =ResetearControlPry
        Tooltip: =
        Width: =759
        X: =151
        Y: =526
        ZIndex: =2

    Lbl_Gl_FechaGoLive As label:
        AutoHeight: =true
        FontWeight: =FontWeight.Semibold
        Height: =59
        OnSelect: =
        Text: |-
            ="Fecha de finalización GoLive:"
        Width: =263
        X: =151
        Y: =393
        ZIndex: =3

    Txt_Gl_ComoVamos As text:
        BorderColor: =RGBA(128, 128, 128, 1)
        BorderThickness: =3
        Default: =First(ProyectoSeleccionado).ComoVamos
        DelayOutput: =true
        DisplayMode: |
            =DisplayMode.Edit
        Height: =160
        HoverBorderColor: =RGBA(128, 128, 128, 1)
        HoverFill: =RGBA(255, 255, 255, 1)
        Mode: =TextMode.MultiLine
        PaddingLeft: =10
        PaddingTop: =10
        RadiusBottomLeft: =25
        RadiusBottomRight: =25
        RadiusTopLeft: =25
        RadiusTopRight: =25
        Reset: =ResetearControlPry
        Tooltip: =
        Width: =759
        X: =1047
        Y: =526
        ZIndex: =4

    Lbl_Gl_ComoVamos As label:
        AutoHeight: =true
        FontWeight: =FontWeight.Semibold
        OnSelect: =
        Text: |-
            ="Siguientes Pasos:"
        Width: =287
        X: =1047
        Y: =487
        ZIndex: =5

    Txt_Gl_FondoFecha As text:
        BorderColor: =RGBA(128, 128, 128, 1)
        BorderThickness: =3
        Default: =""
        DisabledFill: =RGBA(255, 255, 255, 1)
        DisplayMode: =DisplayMode.Disabled
        Fill: =RGBA(0, 0, 0, 0)
        Height: =50
        RadiusBottomLeft: =25
        RadiusBottomRight: =25
        RadiusTopLeft: =25
        RadiusTopRight: =25
        Width: =300
        X: =151
        Y: =428
        ZIndex: =6

    Dtp_Gl_FechaGolive As datepicker:
        BorderColor: =
        BorderStyle: =BorderStyle.None
        BorderThickness: =0
        DefaultDate: =First(ProyectoSeleccionado).FechaGolive
        EndYear: =Year(Today())+100
        Format: ="dd/mm/y"
        Height: =Txt_Gl_FondoFecha.Height - 10
        IconBackground: =Color.White
        IconFill: =RGBA(0, 121, 187, 1)
        IsEditable: =true
        PaddingBottom: =0
        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
        Reset: =ResetearControlPry
        StartYear: =1899
        Tooltip: =
        Width: =Txt_Gl_FondoFecha.Width - 27
        X: =168
        Y: =433
        ZIndex: =7

    Lbl_Gl_Titulo As label:
        Color: =_VarColoresApp.AzulparaCabeceras
        FontWeight: =FontWeight.Semibold
        Height: =53
        OnSelect: =
        Size: =21
        Text: |-
            ="Gestión " & If(First(ProyectoSeleccionado).Iniciativa,"Iniciativa","Proyecto")& ": " & First(ProyectoSeleccionado).'Nombre Producto/Proyecto'
        Width: =1118
        X: =174
        Y: =272
        ZIndex: =17

    Image8_9 As image:
        Height: =56
        Image: ='SP Gestión productos'
        OnSelect: =
        Width: =82
        X: =108
        Y: =276
        ZIndex: =18

    Gl_LineaTitulo As rectangle:
        Fill: =RGBA(179, 179, 179, 1)
        Height: =1
        OnSelect: =
        Width: =1750
        X: =124
        Y: =369
        ZIndex: =19

    Gl_Separador0 As rectangle:
        Fill: =RGBA(230, 230, 230, 1)
        Height: =620
        Width: =2
        X: =89
        Y: =369
        ZIndex: =20

    Lbl_Gl_Comentario As label:
        AutoHeight: =true
        Color: |-
            =If(
                    First(ProyectoSeleccionado).FechaGolive = Dtp_Gl_FechaGolive.SelectedDate,
                    RGBA(0, 0, 0, 1),
                    If(
                        CountRows(Filter(Lst_HistoricoGoLive,IDProducto = First(ProyectoSeleccionado).IDProducto))=0,
                        RGBA(0, 0, 0, 1),
                        If(
                            IsBlank(Txt_Gl_ComentarioGolive.Text),
                            Color.Red,
                            RGBA(0, 0, 0, 1)
                        )
                    )
                )
        FontWeight: =FontWeight.Semibold
        Height: =59
        OnSelect: =
        Text: |-
            =If(
                CountRows(Filter(Lst_HistoricoGoLive,IDProducto = First(ProyectoSeleccionado).IDProducto))=0,
                "Información de GoLive",
             "¿Por qué cambió la fecha de GoLive?"
            )
        Width: =350
        X: =151
        Y: =487
        ZIndex: =21

    Lbl_Gl_Estado As label:
        AutoHeight: =true
        FontWeight: =FontWeight.Semibold
        OnSelect: =
        Text: |-
            ="Estado:"
        X: =1047
        Y: =393
        ZIndex: =22

    Gl_Separador2 As rectangle:
        Fill: =RGBA(230, 230, 230, 1)
        Height: =580
        Width: =2
        X: =1007
        Y: =393
        ZIndex: =23

    Icn_Gl_Guardar As icon.CheckBadge:
        Color: =RGBA(54, 176, 75, 1)
        DisabledColor: =RGBA(128, 128, 128, 1)
        DisplayMode: |-
            =If(IsBlank(Txt_Gl_ComentarioGolive.Text)&& First(ProyectoSeleccionado).FechaGolive <> Dtp_Gl_FechaGolive.SelectedDate,
               DisplayMode.Disabled,
                            DisplayMode.Edit
                        )
                        /*
            If(
                Icn_Pry_Guardar_9.DisplayMode = DisplayMode.Edit;
                If(
                    First(ProyectoSeleccionado).FechaGolive = Dtp_Gl_FechaGolive.SelectedDate;
                    DisplayMode.Edit;
                    If(
                        CountRows(Filter(Lst_HistoricoGoLive;IDProducto = First(ProyectoSeleccionado).IDProducto))=0;
                        DisplayMode.Edit;
                        If(
                            IsBlank(Txt_Gl_ComentarioGolive.Text);
                            DisplayMode.Disabled;
                            DisplayMode.Edit
                        )
                    )
                );
                DisplayMode.Disabled
            )
            
            /*
            If(
                First(ProyectoSeleccionado).FechaGolive = Dtp_Gl_FechaGolive.SelectedDate;
                DisplayMode.Edit;
                If(
                    CountRows(Filter(Lst_HistoricoGoLive;IDProducto = First(ProyectoSeleccionado).IDProducto))=0;
                    DisplayMode.Edit;
                    If(
                        IsBlank(Txt_Gl_ComentarioGolive.Text);
                        DisplayMode.Disabled;
                        DisplayMode.Edit
                    )
                )
            )
            */
            
            /*
            If(
                Rd_RequiereFinanciamiento_2.Selected.Value = "SI";
                If(
                    IsBlank(Txt_NombreProyectoProducto_3) Or
                    Txt_NombreProyectoProducto_3.Text = "NUEVO PRODUCTO / PROYECTO" Or
                    IsBlank(Cmb_BBB_2.SelectedItems.Value) Or
                    IsBlank(Dpd_Dominio_3.SelectedText) Or 
                    IsBlank(Rd_LeverageWM_4.Selected.Value) Or 
                    IsBlank(Rd_RegistradoenAPM_2.Selected.Value) Or 
                    IsBlank(Rd_ProvieneOA_2.Selected.Value) Or
                    IsBlank(Rd_RequiereFinanciamiento_2.Selected.Value) Or
                    IsBlank(Cmb_JefeProyecto_3.Selected.DisplayName);
                    DisplayMode.Disabled;
                    DisplayMode.Edit
                );
                If(
                    IsBlank(Txt_NombreProyectoProducto_3) Or
                    Txt_NombreProyectoProducto_3.Text = "NUEVO PRODUCTO / PROYECTO" Or
                    IsBlank(Cmb_BBB_2.SelectedItems.Value) Or
                    IsBlank(Dpd_Dominio_3.SelectedText) Or 
                    IsBlank(Rd_LeverageWM_4.Selected.Value) Or 
                    IsBlank(Rd_RegistradoenAPM_2.Selected.Value) Or 
                    IsBlank(Rd_ProvieneOA_2.Selected.Value) Or
                    IsBlank(Rd_RequiereFinanciamiento_2.Selected.Value) Or
                    (Dpd_DetalleMotivo_2.Selected.Value = "Seleccionar Motivo") Or
                    IsBlank(Cmb_JefeProyecto_3.Selected.DisplayName);
                    DisplayMode.Disabled;
                    DisplayMode.Edit
                )
            )
            */
        Height: =45
        Icon: =Icon.CheckBadge
        OnSelect: |-
            =/*Si es Iniciativa*/
            If(
                First(ProyectoSeleccionado).Iniciativa && Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Finalizado" && First(ProyectoSeleccionado).Estado<>"Finalizado" && First(ProyectoSeleccionado).Estado<>"Solicitud de finalización",
                UpdateContext({_Popup: true}),
            /*Mostrar Spinner Cargando*/
                Set(
                    _VarMostrarCargando,
                    true
                );
                Set(
                    IDRegistro,
                    Patch(
                        'Dominio - Proyecto/Producto',
                        If(
                            IsBlank(
                                LookUp(
                                    'Dominio - Proyecto/Producto',
                                    IDProducto = First(ProyectoSeleccionado).IDProducto
                                )
                            ),
                            Defaults('Dominio - Proyecto/Producto'),
                            LookUp(
                                'Dominio - Proyecto/Producto',
                                IDProducto = First(ProyectoSeleccionado).IDProducto
                            )
                        ),
                        {
                            Fecha_Finalizacion_Iniciativa:
                                    If( Text(Dtp_Gl_FechaGolive_4.SelectedDate,"dd/mm/yyyy")<>Mid(First(Split(First(ProyectoSeleccionado).Fecha_Finalizacion_Iniciativa,"|")).Value,1,10),
                                    Text(Dtp_Gl_FechaGolive_4.SelectedDate,"dd/mm/yyyy")&","&Text(Today(),"dd/mm/yyyy")&"|"&First(ProyectoSeleccionado).Fecha_Finalizacion_Iniciativa,First(ProyectoSeleccionado).Fecha_Finalizacion_Iniciativa),
                            'Categoría Iniciativa': {Value: Dpd_Pry_ProductoProyecto.Selected.Value},
                            IDDominio: Dpd_Pry_Dominio.Selected.IDDominio,
                            IDSubDominio: Dpd_Pry_SubDominio.Selected.IDSubDominio,
                            IDProducto: First(ProyectoSeleccionado).IDProducto,
                            IDEquipo: Cmb_Gl_Equipo.Selected.IDEquipo,
                            'Nombre Producto/Proyecto': "CL - " & Txt_Pry_NombreProyectoProducto.Text,
                            'Proviene de OA': If(
                                Rd_Pry_ProvieneOA.Selected.Value = "SI",
                                true,
                                false
                            ),
                            'Registrado en APM': Rd_Pry_RegistradoenAPM.Selected,
                            'Nombre APM': Txt_Pry_NombreAPM.Text,
                            'Codigo APM': Txt_Pry_CodigoAPM.Text,
                            'Nombre Necesidad': If(
                                Rd_Pry_ProvieneOA.Selected.Value = "SI",
                                Dpd_Pry_NombreNecesidad.Selected.Nombre_x0020_de_x0020_Necesidad,
                                ""
                            ),
                            //'Leverage con WM Internacional (BTV)': Rd_Pry_LeverageWM.Selected ;
                            TipoProyecto: Dpd_Pry_TipoPry.Selected.Value,
                            Tamano: Dpd_Pry_TamanoPry.Selected.Value,
                            RequiereFinanciamiento: Rd_Pry_RequiereFinanciamiento.Selected.Value,
                            Desc_Financiamiento: If(
                                Rd_Pry_RequiereFinanciamiento.Selected.Value = "NO",
                                Dpd_Pry_DetalleMotivo.Selected.Value,
                                ""
                            ),
                            ID_Jefe_Poyecto: If(
                                Chk_AplicaPO.Checked,
                                Blank(),
                                Upper(
                                    If(
                                        IsBlank(Cmb_Gl_JefeProyecto.Selected.Claims),
                                        First(ProyectoSeleccionado).ID_Jefe_Poyecto,
                                        Last(
                                            ForAll(
                                                Split(
                                                    First(
                                                        ForAll(
                                                            Split(
                                                                Cmb_Gl_JefeProyecto.Selected.Claims,
                                                                "@"
                                                            ),
                                                            {Result: ThisRecord.Value}
                                                        )
                                                    ).Result,
                                                    "|"
                                                ),
                                                {Result: ThisRecord.Value}
                                            )
                                        ).Result
                                    )
                                )
                            ),
                            ID_Responsable_Tecnologia: If(
                                Chk_AplicaEM.Checked,
                                Blank(),
                                Upper(
                                    If(
                                        IsBlank(Cmb_Gl_ResponsableTecnologia.Selected.Claims),
                                        First(ProyectoSeleccionado).ID_Responsable_Tecnologia,
                                        Last(
                                            ForAll(
                                                Split(
                                                    First(
                                                        ForAll(
                                                            Split(
                                                                Cmb_Gl_ResponsableTecnologia.Selected.Claims,
                                                                "@"
                                                            ),
                                                            {Result: ThisRecord.Value}
                                                        )
                                                    ).Result,
                                                    "|"
                                                ),
                                                {Result: ThisRecord.Value}
                                            )
                                        ).Result
                                    )
                                )
                            ),
                            ID_ResponsableNegocio: If(
                                Chk_AplicaNegocio.Checked,
                                Blank(),
                                Upper(
                                    If(
                                        IsBlank(Cmb_Gl_Negocio.Selected.Claims),
                                        First(ProyectoSeleccionado).ID_ResponsableNegocio,
                                        Last(
                                            ForAll(
                                                Split(
                                                    First(
                                                        ForAll(
                                                            Split(
                                                                Cmb_Gl_Negocio.Selected.Claims,
                                                                "@"
                                                            ),
                                                            {Result: ThisRecord.Value}
                                                        )
                                                    ).Result,
                                                    "|"
                                                ),
                                                {Result: ThisRecord.Value}
                                            )
                                        ).Result
                                    )
                                )
                            ),
                            ID_Sponsor: Upper(
                                If(
                                    IsBlank(Cmb_Gl_Sponsor.Selected.Claims),
                                    First(ProyectoSeleccionado).ID_Sponsor,
                                    Last(
                                        ForAll(
                                            Split(
                                                First(
                                                    ForAll(
                                                        Split(
                                                            Cmb_Gl_Sponsor.Selected.Claims,
                                                            "@"
                                                        ),
                                                        {Result: ThisRecord.Value}
                                                    )
                                                ).Result,
                                                "|"
                                            ),
                                            {Result: ThisRecord.Value}
                                        )
                                    ).Result
                                )
                            ),
                            ID_Datos: If(
                                Chk_AplicaDatos.Checked,
                                Blank(),
                                Upper(
                                    If(
                                        IsBlank(Cmb_Gl_Datos.Selected.Claims),
                                        First(ProyectoSeleccionado).ID_Datos,
                                        Last(
                                            ForAll(
                                                Split(
                                                    First(
                                                        ForAll(
                                                            Split(
                                                                Cmb_Gl_Datos.Selected.Claims,
                                                                "@"
                                                            ),
                                                            {Result: ThisRecord.Value}
                                                        )
                                                    ).Result,
                                                    "|"
                                                ),
                                                {Result: ThisRecord.Value}
                                            )
                                        ).Result
                                    )
                                )
                            ),
                            ID_Ux: If(
                                Chk_AplicaUx.Checked,
                                Blank(),
                                Upper(
                                    If(
                                        IsBlank(Cmb_Gl_Ux.Selected.Claims),
                                        First(ProyectoSeleccionado).ID_Ux,
                                        Last(
                                            ForAll(
                                                Split(
                                                    First(
                                                        ForAll(
                                                            Split(
                                                                Cmb_Gl_Ux.Selected.Claims,
                                                                "@"
                                                            ),
                                                            {Result: ThisRecord.Value}
                                                        )
                                                    ).Result,
                                                    "|"
                                                ),
                                                {Result: ThisRecord.Value}
                                            )
                                        ).Result
                                    )
                                )
                            ),
                            AplicaJefeProyecto: Chk_AplicaPO.Checked,
                            AplicaEM: Chk_AplicaEM.Checked,
                            AplicaNegocio: Chk_AplicaNegocio.Checked,
                            AplicaDatos: Chk_AplicaDatos.Checked,
                            AplicaUx: Chk_AplicaUx.Checked,
                            Estado_Iniciativa: If(
                                First(ProyectoSeleccionado).Iniciativa,
                                Dpd_Gl_EstadoProductoProyecto.Selected.Value,
                                ""
                            ),
                            Estado:If(First(ProyectoSeleccionado).Estado="Finalizado" , "Finalizado",
                                If(First(ProyectoSeleccionado).Iniciativa && (First(ProyectoSeleccionado).Estado="Solicitud de finalización" || Dpd_Gl_EstadoProductoProyecto.Selected.Value ="Finalizado"),"Solicitud de finalización",
                                Dpd_Gl_EstadoProductoProyecto.Selected.Value)),
                            'Bring Buy Build': Cmb_Pry_BBB.SelectedItems,
                            LabelJira: Txt_Pry_LabelJira.Text,
                            //BigRock:If( Rd_Pry_BigRock.Selected.Value = "SI";true;false);
                            MatrizStakeholders: Rd_Gl_MatrizStakeholders.Selected.Value,
                            LinkDocumentario: If(
                                !IsBlank(Txt_Gl_LinkDocumentario.Text),
                                Lower(
                                    If(
                                        (Lower(
                                            Left(
                                                Txt_Gl_LinkDocumentario.Text,
                                                8
                                            )
                                        ) = "https://" || Lower(
                                            Left(
                                                Txt_Gl_LinkDocumentario.Text,
                                                7
                                            )
                                        ) = "http://"),
                                        Txt_Gl_LinkDocumentario.Text,
                                        "https://" & Txt_Gl_LinkDocumentario.Text
                                    )
                                ),
                                ""
                            ),
                            FechaGolive: Dtp_Gl_FechaGolive.SelectedDate,
                            ComentariosGolive: Txt_Gl_ComentarioGolive.Text,
                            ComoVamos: Txt_Gl_ComoVamos.Text,
                            FechaUltimoEstado: If(
                                Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Ejecución" || Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Descontinuado",
                                If(
                                    First(ProyectoSeleccionado).Estado <> Dpd_Gl_SubEstadoProductoProyecto.Selected.Value,
                                    Text(
                                        Today(),
                                        "dd/mm/yyyy"
                                    ),
                                    First(ProyectoSeleccionado).FechaUltimoEstado
                                ),
                                If(
                                    First(ProyectoSeleccionado).Estado <> Dpd_Gl_EstadoProductoProyecto.Selected.Value,
                                    Text(
                                        Today(),
                                        "dd/mm/yyyy"
                                    ),
                                    First(ProyectoSeleccionado).FechaUltimoEstado
                                )
                            ),
                            AreadeImpacto: Dpd_Pry_AreadeImpacto.Selected.Value
                        },
                        Frm_Pry_AdjArchivo.Updates
                    ).ID
                );
                /* Gestion de Errores */
            ClearCollect(
                    Col_ErroresGuardarProyecto,
                    Errors(
                        'Dominio - Proyecto/Producto',
                        First(ProyectoSeleccionado)
                    )
                );
                If(
                    IsEmpty(Col_ErroresGuardarProyecto),
                    Patch(
                        Col_DominiosGestion,
                        If(
                            IsBlank(
                                LookUp(
                                    Col_DominiosGestion,
                                    IDProducto = First(ProyectoSeleccionado).IDProducto
                                )
                            ),
                            Defaults(Col_DominiosGestion),
                            LookUp(
                                Col_DominiosGestion,
                                IDProducto = First(ProyectoSeleccionado).IDProducto
                            )
                        ),
                        {
                            Fecha_Finalizacion_Iniciativa:
                                    If(Text(Dtp_Gl_FechaGolive_4.SelectedDate,"dd/mm/yyyy")<>Mid(First(Split(First(ProyectoSeleccionado).Fecha_Finalizacion_Iniciativa,"|")).Value,1,10),
                                           Text(Dtp_Gl_FechaGolive_4.SelectedDate,"dd/mm/yyyy")&","&Text(Today(),"dd/mm/yyyy")&"|"&First(ProyectoSeleccionado).Fecha_Finalizacion_Iniciativa,First(ProyectoSeleccionado).Fecha_Finalizacion_Iniciativa),
                            'Categoría Iniciativa': {Value: Dpd_Pry_ProductoProyecto.Selected.Value},
                            IDDominio: Dpd_Pry_Dominio.Selected.IDDominio,
                            IDSubDominio: Dpd_Pry_SubDominio.Selected.IDSubDominio,
                            IDProducto: First(ProyectoSeleccionado).IDProducto,
                            IDEquipo: Cmb_Gl_Equipo.Selected.IDEquipo,
                            'Nombre Producto/Proyecto': "CL - " & Txt_Pry_NombreProyectoProducto.Text,
                            'Proviene de OA': If(
                                Rd_Pry_ProvieneOA.Selected.Value = "SI",
                                true,
                                false
                            ),
                            'Registrado en APM': Rd_Pry_RegistradoenAPM.Selected,
                            'Nombre APM': Txt_Pry_NombreAPM.Text,
                            'Codigo APM': Txt_Pry_CodigoAPM.Text,
                            'Nombre Necesidad': If(
                                Rd_Pry_ProvieneOA.Selected.Value = "SI",
                                Dpd_Pry_NombreNecesidad.Selected.Nombre_x0020_de_x0020_Necesidad,
                                ""
                            ),
                            //'Leverage con WM Internacional (BTV)': Rd_Pry_LeverageWM.Selected ;
                            TipoProyecto: Dpd_Pry_TipoPry.Selected.Value,
                            Tamano: Dpd_Pry_TamanoPry.Selected.Value,
                            RequiereFinanciamiento: Rd_Pry_RequiereFinanciamiento.Selected.Value,
                            Desc_Financiamiento: If(
                                Rd_Pry_RequiereFinanciamiento.Selected.Value = "NO",
                                Dpd_Pry_DetalleMotivo.Selected.Value,
                                ""
                            ),
                            ID_Jefe_Poyecto: If(
                                Chk_AplicaPO.Checked,
                                Blank(),
                                Upper(
                                    If(
                                        IsBlank(Cmb_Gl_JefeProyecto.Selected.Claims),
                                        First(ProyectoSeleccionado).ID_Jefe_Poyecto,
                                        Last(
                                            ForAll(
                                                Split(
                                                    First(
                                                        ForAll(
                                                            Split(
                                                                Cmb_Gl_JefeProyecto.Selected.Claims,
                                                                "@"
                                                            ),
                                                            {Result: ThisRecord.Value}
                                                        )
                                                    ).Result,
                                                    "|"
                                                ),
                                                {Result: ThisRecord.Value}
                                            )
                                        ).Result
                                    )
                                )
                            ),
                            ID_Responsable_Tecnologia: If(
                                Chk_AplicaEM.Checked,
                                Blank(),
                                Upper(
                                    If(
                                        IsBlank(Cmb_Gl_ResponsableTecnologia.Selected.Claims),
                                        First(ProyectoSeleccionado).ID_Responsable_Tecnologia,
                                        Last(
                                            ForAll(
                                                Split(
                                                    First(
                                                        ForAll(
                                                            Split(
                                                                Cmb_Gl_ResponsableTecnologia.Selected.Claims,
                                                                "@"
                                                            ),
                                                            {Result: ThisRecord.Value}
                                                        )
                                                    ).Result,
                                                    "|"
                                                ),
                                                {Result: ThisRecord.Value}
                                            )
                                        ).Result
                                    )
                                )
                            ),
                            ID_ResponsableNegocio: If(
                                Chk_AplicaNegocio.Checked,
                                Blank(),
                                Upper(
                                    If(
                                        IsBlank(Cmb_Gl_Negocio.Selected.Claims),
                                        First(ProyectoSeleccionado).ID_ResponsableNegocio,
                                        Last(
                                            ForAll(
                                                Split(
                                                    First(
                                                        ForAll(
                                                            Split(
                                                                Cmb_Gl_Negocio.Selected.Claims,
                                                                "@"
                                                            ),
                                                            {Result: ThisRecord.Value}
                                                        )
                                                    ).Result,
                                                    "|"
                                                ),
                                                {Result: ThisRecord.Value}
                                            )
                                        ).Result
                                    )
                                )
                            ),
                            ID_Sponsor: Upper(
                                If(
                                    IsBlank(Cmb_Gl_Sponsor.Selected.Claims),
                                    First(ProyectoSeleccionado).ID_Sponsor,
                                    Last(
                                        ForAll(
                                            Split(
                                                First(
                                                    ForAll(
                                                        Split(
                                                            Cmb_Gl_Sponsor.Selected.Claims,
                                                            "@"
                                                        ),
                                                        {Result: ThisRecord.Value}
                                                    )
                                                ).Result,
                                                "|"
                                            ),
                                            {Result: ThisRecord.Value}
                                        )
                                    ).Result
                                )
                            ),
                            ID_Datos: If(
                                Chk_AplicaDatos.Checked,
                                Blank(),
                                Upper(
                                    If(
                                        IsBlank(Cmb_Gl_Datos.Selected.Claims),
                                        First(ProyectoSeleccionado).ID_Datos,
                                        Last(
                                            ForAll(
                                                Split(
                                                    First(
                                                        ForAll(
                                                            Split(
                                                                Cmb_Gl_Datos.Selected.Claims,
                                                                "@"
                                                            ),
                                                            {Result: ThisRecord.Value}
                                                        )
                                                    ).Result,
                                                    "|"
                                                ),
                                                {Result: ThisRecord.Value}
                                            )
                                        ).Result
                                    )
                                )
                            ),
                            ID_Ux: If(
                                Chk_AplicaUx.Checked,
                                Blank(),
                                Upper(
                                    If(
                                        IsBlank(Cmb_Gl_Ux.Selected.Claims),
                                        First(ProyectoSeleccionado).ID_Ux,
                                        Last(
                                            ForAll(
                                                Split(
                                                    First(
                                                        ForAll(
                                                            Split(
                                                                Cmb_Gl_Ux.Selected.Claims,
                                                                "@"
                                                            ),
                                                            {Result: ThisRecord.Value}
                                                        )
                                                    ).Result,
                                                    "|"
                                                ),
                                                {Result: ThisRecord.Value}
                                            )
                                        ).Result
                                    )
                                )
                            ),
                            AplicaJefeProyecto: Chk_AplicaPO.Checked,
                            AplicaEM: Chk_AplicaEM.Checked,
                            AplicaNegocio: Chk_AplicaNegocio.Checked,
                            AplicaDatos: Chk_AplicaDatos.Checked,
                            AplicaUx: Chk_AplicaUx.Checked,
                            Estado_Iniciativa: If(
                                First(ProyectoSeleccionado).Iniciativa,
                                Dpd_Gl_EstadoProductoProyecto.Selected.Value,
                                ""
                            ),
                            Estado:If(First(ProyectoSeleccionado).Estado="Finalizado" , "Finalizado",
                                If(First(ProyectoSeleccionado).Iniciativa && (First(ProyectoSeleccionado).Estado="Solicitud de finalización" || Dpd_Gl_EstadoProductoProyecto.Selected.Value ="Finalizado"),"Solicitud de finalización",
                                Dpd_Gl_EstadoProductoProyecto.Selected.Value)),
                            'Bring Buy Build': Cmb_Pry_BBB.SelectedItems,
                            LabelJira: Txt_Pry_LabelJira.Text,
                            //BigRock:If( Rd_Pry_BigRock.Selected.Value = "SI";true;false);
                            MatrizStakeholders: Rd_Gl_MatrizStakeholders.Selected.Value,
                            LinkDocumentario: If(
                                !IsBlank(Txt_Gl_LinkDocumentario.Text),
                                Lower(
                                    If(
                                        (Lower(
                                            Left(
                                                Txt_Gl_LinkDocumentario.Text,
                                                8
                                            )
                                        ) = "https://" || Lower(
                                            Left(
                                                Txt_Gl_LinkDocumentario.Text,
                                                7
                                            )
                                        ) = "http://"),
                                        Txt_Gl_LinkDocumentario.Text,
                                        "https://" & Txt_Gl_LinkDocumentario.Text
                                    )
                                ),
                                ""
                            ),
                            FechaGolive: Dtp_Gl_FechaGolive.SelectedDate,
                            ComentariosGolive: Txt_Gl_ComentarioGolive.Text,
                            ComoVamos: Txt_Gl_ComoVamos.Text,
                            FechaUltimoEstado: If(
                                Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Ejecución" || Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Descontinuado",
                                If(
                                    First(ProyectoSeleccionado).Estado <> Dpd_Gl_SubEstadoProductoProyecto.Selected.Value,
                                    Text(
                                        Today(),
                                        "dd/mm/yyyy"
                                    ),
                                    First(ProyectoSeleccionado).FechaUltimoEstado
                                ),
                                If(
                                    First(ProyectoSeleccionado).Estado <> Dpd_Gl_EstadoProductoProyecto.Selected.Value,
                                    Text(
                                        Today(),
                                        "dd/mm/yyyy"
                                    ),
                                    First(ProyectoSeleccionado).FechaUltimoEstado
                                )
                            ),
                            AreadeImpacto: Dpd_Pry_AreadeImpacto.Selected.Value
                        },
                        Frm_Pry_AdjArchivo.Updates
                    );
                //Guardar el Historial de GoLive
            If(
                        !(First(ProyectoSeleccionado).FechaGolive = Dtp_Gl_FechaGolive.SelectedDate) && !(First(ProyectoSeleccionado).ComentariosGolive = Txt_Gl_ComentarioGolive.Text),
                        Patch(
                            Lst_HistoricoGoLive,
                            Defaults(Lst_HistoricoGoLive),
                            {
                                IDProducto: First(ProyectoSeleccionado).IDProducto,
                                FechaGolive: Dtp_Gl_FechaGolive.SelectedDate,
                                ComentarioGoLive: Txt_Gl_ComentarioGolive.Text,
                                Version: _VarVersionGoLive + 1
                            }
                        )
                    );
                //Guardar el Historial de ComoVamos
            If(
                        !(First(ProyectoSeleccionado).ComoVamos = Txt_Gl_ComoVamos.Text) && !IsBlank(Txt_Gl_ComoVamos.Text),
                        Patch(
                            Lst_HistorialComoVamos,
                            Defaults(Lst_HistorialComoVamos),
                            {
                                IDProducto: First(ProyectoSeleccionado).IDProducto,
                                FechaRegistro: Today(),
                                ComoVamos: Txt_Gl_ComoVamos.Text,
                                Estado: Dpd_Gl_EstadoProductoProyecto.Selected.Value,
                                /*If(
                                    Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Ejecución" || Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Descontinuado";
                                    Dpd_Gl_SubEstadoProductoProyecto.Selected.Value;
                                    Dpd_Gl_EstadoProductoProyecto.Selected.Value
                                );*/
                                Version: _VarVersionComoVamos + 1
                            }
                        )
                    );
                    Patch(
                        Lst_LabelsJira,
                        If(
                            IsBlank(
                                LookUp(
                                    Lst_LabelsJira,
                                    CodigoAsociado = First(ProyectoSeleccionado).IDProducto
                                )
                            ),
                            Defaults(Lst_LabelsJira),
                            LookUp(
                                Lst_LabelsJira,
                                CodigoAsociado = First(ProyectoSeleccionado).IDProducto
                            )
                        ),
                        {
                            Herramienta: "Bind",
                            CodigoAsociado: First(ProyectoSeleccionado).IDProducto,
                            EtiquetaJira: If(
                                Dpd_Pry_ProductoProyecto.Selected.Value = "Proyecto Tecnológico",
                                "cl_pry",
                                "cl_prd"
                            ),
                            //Epica: Txt_CodigoJira.Text;
                            LabelJira: Txt_Pry_LabelJira.Text
                        }
                    );
                        /*----------------------------------------------------------*/
            Refresh('Dominio - Proyecto/Producto');
                    ClearCollect(
                        Col_BD_Portafolio,
                        'Dominio - Proyecto/Producto'
                    );
                    Refresh(Lst_HistorialComoVamos);
                    /*If(
                        !(First(ProyectoSeleccionado).Estado = Dpd_EstadoProductoProyecto_2.Selected.Value) || !(First(ProyectoSeleccionado).'Categoría Iniciativa'.Value = Dpd_Pry_ProductoProyecto.Selected.Value);
                        ClearCollect(
                            Col_DominiosGestion;
                            Filter(
                                Col_BD_Portafolio;
                                IDDominio in Col_IDDOminios.IDDominio
                            )
                        );;
                        UpdateContext({_VarMostrarCuadroBloqueo: false})
                    );;*/
                    If(
                        First(ProyectoSeleccionado).'Nombre Producto/Proyecto' = "NUEVO PROYECTO",
                        Notify(
                            "Se guardo correctamente el proyecto.",
                            NotificationType.Success,
                            10000
                        ),
                        Notify(
                            "Se actualizo correctamente el la información del proyecto.",
                            NotificationType.Success,
                            10000
                        )
                    );
                    // Cargar nuevamente la coleccion del proyecto Seleccionado
            ClearCollect(
                        ProyectoSeleccionado,
                        LookUp(
                            'Dominio - Proyecto/Producto',
                            ID = IDRegistro
                        )
                    ),// En caso tire algun error
                    Patch(
                        Lst_GestionErrores,
                        Defaults(Lst_GestionErrores),
                        {
                            Modulo: "Proyecto",
                            Usuario: _Perfil.displayName,
                            FechaError: Today(),
                            MensajeError: First(Col_ErroresGuardarProyecto).Message,
                            IDError: First(Col_ErroresGuardarProyecto).Error,
                            HoraError: Hour(Now()) & ":" & Minute(Now()),
                            CampoError: First(Col_ErroresGuardarProyecto).Column
                        }
                    );
                    Notify(
                        First(Col_ErroresGuardarProyecto).Message,
                        NotificationType.Error,
                        4000
                    )
                );
                
            /*Mostrar Spinner Cargando*/
            Set(
                    _VarMostrarCargando,
                    false
                )
            /* ------------------ */
            )
        Tooltip: ="Guardar Datos del Proyecto"
        Width: =50
        X: =1781
        Y: =977
        ZIndex: =24

    Icn_Gl_Cancelar As icon.CancelBadge:
        Color: =RGBA(255, 0, 0, 1)
        Height: =45
        Icon: =Icon.CancelBadge
        OnSelect: |-
            =/*
            Reset(Txt_Pry_NombreProyectoProducto);;
            Reset(Cmb_Pry_BBB);;
            Reset(Dpd_Pry_Dominio);;
            Reset(Rd_Pry_LeverageWM);;
            Reset(Rd_Pry_RegistradoenAPM);;
            Reset(Rd_Pry_ProvieneOA);;
            Reset(Rd_Pry_RequiereFinanciamiento);;
            Reset(Txt_Pry_NombreAPM);;
            Reset(Txt_Pry_CodigoAPM);;
            Reset(Dpd_Pry_NombreNecesidad);;
            Reset(Dpd_Pry_DetalleMotivo);;
            
            Reset(Dtp_Gl_FechaGolive);;
            Reset(Txt_Gl_ComentarioGolive);;
            Reset(Cmb_Gl_JefeProyecto);;
            Reset(Cmb_Gl_Equipo);;
            */
            Set(ResetearControlPry,true);
            
            Clear(ProyectoSeleccionado);
            If(Valor1="Proyecto",
            Navigate(ListadoProductoProyecto,ScreenTransition.Fade,{Valor:"Proyecto"}),
            Navigate(ListadoIniciativas,ScreenTransition.Fade,{Valor:"Iniciativa"})
            );
        Tooltip: ="Limpiar Controles"
        Width: =50
        X: =1842
        Y: =977
        ZIndex: =25

    Lbl_Gl_MensajeValidacion As label:
        Align: =Align.Right
        Color: |
            =If(
                Icn_Pry_Guardar.DisplayMode = DisplayMode.Edit,
                If(
                    First(ProyectoSeleccionado).FechaGolive = Dtp_Gl_FechaGolive.SelectedDate,
                    RGBA(102, 102, 102, 1),
                    If(
                        CountRows(Filter(Lst_HistoricoGoLive,IDProducto = First(ProyectoSeleccionado).IDProducto))=0,
                        RGBA(102, 102, 102, 1),
                        If(
                            IsBlank(Txt_Gl_ComentarioGolive.Text),
                            Color.Red,
                            RGBA(102, 102, 102, 1)
                        )
                    )
                ),
               Color.Red
            )
            
                    
                    
        OnSelect: =
        Text: |+
            =If(
                Icn_Pry_Guardar.DisplayMode = DisplayMode.Edit,
                If(
                    First(ProyectoSeleccionado).FechaGolive = Dtp_Gl_FechaGolive.SelectedDate,
                    "Recuerda guardar los datos del proyecto dando click aqui.",
                    If(
                        CountRows(Filter(Lst_HistoricoGoLive,IDProducto = First(ProyectoSeleccionado).IDProducto))=0,
                        "Recuerda guardar los datos registrados dando click aqui.",
                        If(
                            IsBlank(Txt_Gl_ComentarioGolive.Text),
                            "Para poder guardar debes completar como minimno los titulos en rojo",
                            "Recuerda guardar los datos del proyecto dando click aqui."
                        )
                    )
                ),
               "Para poder guardar debes completar como minimo los titulos en rojo"
            )
            
                    
            
            
        Width: =587
        X: =1197
        Y: =982
        ZIndex: =26

    Btn_Gl_InfoProyecto As button:
        BorderColor: =RGBA(202, 202, 202, 1)
        Color: =RGBA(26, 26, 26, 1)
        Fill: |-
            =If(
                App.ActiveScreen = ModuloProyectos,
                Color.Beige,
                RGBA(255, 255, 255, 1)
            )
        OnSelect: |-
            =Navigate(ModuloProyectosIniciativas,ScreenTransition.Fade)
            //If(Valor="Iniciativa";Navigate(ModuloProyectosIniciativas;ScreenTransition.Fade); Navigate(ModuloProyectos;ScreenTransition.Fade))
        RadiusBottomLeft: =0
        RadiusBottomRight: =0
        Text: ="Características generales"
        Width: =255
        X: =947
        Y: =329
        ZIndex: =27

    Btn_GL_EstatusProyecto As button:
        BorderColor: =RGBA(202, 202, 202, 1)
        Color: =RGBA(26, 26, 26, 1)
        Fill: |-
            =If(
                App.ActiveScreen = ModuloGoLive,
                Color.Beige,
                RGBA(255, 255, 255, 1)
            )
        OnSelect: |-
            =Set(_VarVersionGoLive, CountRows(Filter(Lst_HistoricoGoLive, IDProducto = First(ProyectoSeleccionado).IDProducto)));
            Set(_VarVersionComoVamos, CountRows(Filter(Lst_HistorialComoVamos, IDProducto = First(ProyectoSeleccionado).IDProducto)));              
            Navigate(ModuloGoLive,ScreenTransition.Fade)
        RadiusBottomLeft: =0
        RadiusBottomRight: =0
        Text: ="Status"
        Width: =195
        X: =1206
        Y: =329
        ZIndex: =28

    html_Estado_3 As htmlViewer:
        Height: =67
        HtmlText: |+
            ="<img width=100% src=https://teams.wal-mart.com/:i:/r/sites/NecesidadesWalmartTech/Documentos%20compartidos/Imagenes%20Bind/Herramienta%20nueva/nube-descargar-alt.png?csf=1&web=1&e=VxOLRD>"
            
        OnSelect: |-
            =Set(UrlDescargar, 'Bind-DescargarHistoriales'.Run(First(ProyectoSeleccionado).IDProducto,"GoLive").link);
            Launch(UrlDescargar)
        Width: =61
        X: =914
        Y: =695
        ZIndex: =29

    html_ComoVamos As htmlViewer:
        Height: =67
        HtmlText: |+
            ="<img width=100% src=https://teams.wal-mart.com/:i:/r/sites/NecesidadesWalmartTech/Documentos%20compartidos/Imagenes%20Bind/Herramienta%20nueva/nube-descargar-alt.png?csf=1&web=1&e=VxOLRD>"
            
        OnSelect: |-
            =Set(UrlDescargar, 'Bind-DescargarHistoriales'.Run(First(ProyectoSeleccionado).IDProducto,"ComoVamos").link);
            Launch(UrlDescargar)
        Width: =61
        X: =1812
        Y: =695
        ZIndex: =30

    Icn_Abrir_Cerrar_Registro_Pry_1 As icon.ChevronDown:
        Height: =42
        Icon: |
            =Icon.ChevronUp
        OnSelect: |-
            = /*Mostrar Spinner Cargando*/
            Set(_VarMostrarCargando,true);
            
            Concurrent(
                UpdateContext({_VarMostrarCuadroBloqueo:false}),
                Set(_VarVerPopUpPortafolio,false)
            );
            If(Valor1="Proyecto",
            Navigate(ListadoProductoProyecto,ScreenTransition.Fade,{Valor:"Proyecto"}),
            Navigate(ListadoIniciativas,ScreenTransition.Fade,{Valor:"Iniciativa"})
            );
            
            /*Mostrar Spinner Cargando*/
            Set(_VarMostrarCargando,false)
        Width: =44
        X: =23
        Y: =297
        ZIndex: =31

    Label7_3 As label:
        AutoHeight: =true
        FontWeight: =FontWeight.Semibold
        Height: =37
        Size: =10
        Text: ="No olvides completar la información de tu proyecto en ambas páginas (información y estatus del proyecto)."
        Width: =800
        X: =174
        Y: =340
        ZIndex: =32

    Gallery4 As gallery.variableTemplateHeightGallery:
        BorderColor: =RGBA(255, 255, 255, 1)
        BorderStyle: =BorderStyle.Dotted
        BorderThickness: =2
        DelayItemLoading: =true
        Height: =229
        Items: =FirstN(Sort(Filter(Lst_HistoricoGoLive,IDProducto = First(ProyectoSeleccionado).IDProducto),FechaGolive,SortOrder.Descending),5)
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        TemplateSize: =Label8_2.Height + 5
        Width: =759
        X: =151
        Y: =744
        ZIndex: =33

        Label8_2 As label:
            AutoHeight: =true
            Height: =45
            Size: =10
            Text: =ThisItem.ComentarioGoLive
            Width: =569
            X: =180
            ZIndex: =2

        Label8_3 As label:
            Align: =Align.Center
            Height: =50
            Size: =10
            Text: =ThisItem.FechaGolive
            Width: =180
            ZIndex: =3

        Gl_Separador0_1 As rectangle:
            Fill: =RGBA(230, 230, 230, 1)
            Height: =2
            Width: =750
            Y: |-
                =If( 
                    Label8_3.Height > Label8_2.Height,
                    Label8_3.Height,
                    Label8_2.Height 
                )
            ZIndex: =4

    Label11 As label:
        Align: =Align.Center
        BorderColor: =RGBA(202, 202, 202, 1)
        BorderThickness: =2
        Color: =RGBA(255, 255, 255, 1)
        Fill: =_VarColoresApp.AzulparaCabeceras
        Height: =37
        Text: ="Fecha GoLive"
        Width: =178
        X: =151
        Y: =707
        ZIndex: =34

    Label11_1 As label:
        Align: =Align.Center
        BorderColor: =RGBA(202, 202, 202, 1)
        BorderThickness: =2
        Color: =RGBA(255, 255, 255, 1)
        Fill: =_VarColoresApp.AzulparaCabeceras
        Height: =37
        Text: ="Comentario Historico"
        Width: =580
        X: =330
        Y: =707
        ZIndex: =35

    Txt_FondoDetalleMotivo_1 As text:
        BorderColor: =RGBA(128, 128, 128, 1)
        BorderThickness: =3
        Default: =""
        DisabledFill: =If(First(ProyectoSeleccionado).Estado="Finalizado" || First(ProyectoSeleccionado).Estado ="Solicitud de finalización",RGBA(244, 244, 244, 1),RGBA(0, 0, 0, 0))
        DisplayMode: =DisplayMode.Disabled
        Fill: =If(First(ProyectoSeleccionado).Estado="Finalizado" || First(ProyectoSeleccionado).Estado ="Solicitud de finalización",RGBA(244, 244, 244, 1),RGBA(0, 0, 0, 0))
        Height: =50
        RadiusBottomLeft: =25
        RadiusBottomRight: =25
        RadiusTopLeft: =25
        RadiusTopRight: =25
        Visible: |-
            =true
            //Rd_Pry_RequiereFinanciamiento.Selected.Value = "NO"
        Width: =300
        X: =1047
        Y: =428
        ZIndex: =36

    Dpd_Gl_EstadoProductoProyecto As dropdown:
        BorderColor: =
        BorderStyle: =BorderStyle.None
        ChevronBackground: =RGBA(255, 255, 255, 1)
        ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
        ChevronDisabledFill: =RGBA(102, 102, 102, 1)
        ChevronFill: =RGBA(0, 121, 187, 1)
        ChevronHoverBackground: =RGBA(0, 121, 187, 1)
        Default: |-
            =If(First(ProyectoSeleccionado).Estado="Solicitud de finalización","Solicitud de finalización", First(ProyectoSeleccionado).Estado)
            
            /*If(First(ProyectoSeleccionado).Iniciativa;
                First(ProyectoSeleccionado).Estado_Iniciativa
                    ;
                If(
                    First(ProyectoSeleccionado).Estado in ["Por iniciar";"Discovery";"Requerimientos detallados";"Diseño técnico detallado";"Desarrollo";"Pruebas";"Puesta en marcha";"Roll out";"Hypercare";"Pausado";"Traspaso a Soporte"];
                    "Ejecución";
                    If(
                        First(ProyectoSeleccionado).Estado in ["Tech";"Negocio"];
                        "Descontinuado";
                        First(ProyectoSeleccionado).Estado
                    )
                )
            )*/
        DisplayMode: |-
            =If(First(ProyectoSeleccionado).Estado="Finalizado" || First(ProyectoSeleccionado).Estado="Solicitud de finalización",
            DisplayMode.Disabled,
            DisplayMode.Edit)
        Height: =Txt_FondoDetalleMotivo_1.Height -10
        HoverBorderColor: =RGBA(0, 121, 187, 1)
        Items: |-
            =If( First(ProyectoSeleccionado).Estado="Solicitud de finalización",["Solicitud de finalización"],
             If(Rd_Pry_Discovery.Selected.Value="SI",
                    ["Por iniciar","En Ejecución","Documentando","Finalizado"],
                    ["Por iniciar","On Hold","Preparación","Desarrollo","Pruebas UAT","Piloto","Rollout","Hypercare","Finalizado"]
             ))
              
        PressedFill: =RGBA(0, 121, 187, 1)
        Reset: =ResetearControlPry
        Tooltip: =
        Visible: |-
            =true
            //Rd_Pry_RequiereFinanciamiento.Selected.Value = "NO"
        Width: =Txt_FondoDetalleMotivo_1.Width -27
        X: =1059
        Y: =433
        ZIndex: =37

    Txt_FondoDetalleMotivo_2 As text:
        BorderColor: =RGBA(128, 128, 128, 1)
        BorderThickness: =3
        Default: =""
        DisabledFill: |-
            =RGBA(255, 255, 255, 1)
            /*
            If(
                Rd_Pry_RequiereFinanciamiento.Selected.Value = "NO";
                RGBA(255; 255; 255; 1);
                RGBA(244; 244; 244; 1)
            )
            */
        DisplayMode: =DisplayMode.Disabled
        Fill: =RGBA(0, 0, 0, 0)
        Height: =50
        RadiusBottomLeft: =25
        RadiusBottomRight: =25
        RadiusTopLeft: =25
        RadiusTopRight: =25
        Visible: =Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Ejecución" || Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Descontinuado"
        Width: =300
        X: =1377
        Y: =428
        ZIndex: =38

    Dpd_Gl_SubEstadoProductoProyecto As dropdown:
        BorderColor: =
        BorderStyle: =BorderStyle.None
        ChevronBackground: =RGBA(255, 255, 255, 1)
        ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
        ChevronDisabledFill: =RGBA(102, 102, 102, 1)
        ChevronFill: =RGBA(0, 121, 187, 1)
        ChevronHoverBackground: =RGBA(0, 121, 187, 1)
        Default: |-
            =If(
                First(ProyectoSeleccionado).Estado in ["Por iniciar","Discovery","Requerimientos detallados","Diseño técnico detallado","Desarrollo","Pruebas","Puesta en marcha","Roll out","Hypercare","Pausado","Traspaso a Soporte"],
                First(ProyectoSeleccionado).Estado,
                ""
            )
        Height: =Txt_FondoDetalleMotivo_2.Height -10
        HoverBorderColor: =RGBA(0, 121, 187, 1)
        Items: |-
            =If(
                Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Descontinuado",
                ["Tech","Negocio"],
                ["Por iniciar","Discovery","Requerimientos detallados","Diseño técnico detallado","Desarrollo","Pruebas","Puesta en marcha","Roll out","Hypercare","Pausado","Traspaso a Soporte"]
            )
        PressedFill: =RGBA(0, 121, 187, 1)
        Reset: =ResetearControlPry
        Tooltip: =
        Visible: =Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Ejecución" || Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Descontinuado"
        Width: =Txt_FondoDetalleMotivo_2.Width -27
        X: =1389
        Y: =433
        ZIndex: =39

    Gallery4_1 As gallery.variableTemplateHeightGallery:
        BorderColor: =RGBA(255, 255, 255, 1)
        BorderStyle: =BorderStyle.Dotted
        BorderThickness: =2
        DelayItemLoading: =true
        Height: =229
        Items: =FirstN(Sort(Filter(Lst_HistorialComoVamos,IDProducto = First(ProyectoSeleccionado).IDProducto),Creado,SortOrder.Descending),5)
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        TemplateSize: =Label8_5.Height + 5
        Width: =759
        X: =1049
        Y: =744
        ZIndex: =40

        Label8_5 As label:
            AutoHeight: =true
            Height: =5
            Size: =10
            Text: =ThisItem.ComoVamos
            Width: =569
            X: =180
            ZIndex: =2

        Label8_4 As label:
            Align: =Align.Center
            Height: =50
            Size: =10
            Text: =ThisItem.FechaRegistro
            Width: =180
            ZIndex: =3

        Gl_Separador0_2 As rectangle:
            Fill: =RGBA(230, 230, 230, 1)
            Height: =2
            Width: =749
            Y: |-
                =If( 
                    Label8_4.Height > Label8_5.Height,
                    Label8_4.Height,
                    Label8_5.Height 
                )
            ZIndex: =4

    Label11_2 As label:
        Align: =Align.Center
        BorderColor: =RGBA(202, 202, 202, 1)
        BorderThickness: =2
        Color: =RGBA(255, 255, 255, 1)
        Fill: =_VarColoresApp.AzulparaCabeceras
        Height: =37
        Text: ="Fecha"
        Width: =178
        X: =1049
        Y: =707
        ZIndex: =41

    Label11_7 As label:
        Align: =Align.Center
        BorderColor: =RGBA(202, 202, 202, 1)
        BorderThickness: =2
        Color: =RGBA(255, 255, 255, 1)
        Fill: =_VarColoresApp.AzulparaCabeceras
        Height: =37
        Text: ="Comentario Historico"
        Width: =580
        X: =1228
        Y: =707
        ZIndex: =42

    Gp_CabeceraPortafolio_6 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =55

        Rct_FondoCabecera_Persona_9 As rectangle:
            Fill: =_VarColoresApp.AzulparaCabeceras
            Height: =60
            Width: =1920
            ZIndex: =8

        Img_UsuarioPantallaPersona_9 As image:
            Height: =50
            Image: =_UserFoto
            RadiusBottomLeft: =50
            RadiusBottomRight: =50
            RadiusTopLeft: |
                =50
            RadiusTopRight: =50
            Width: =54
            X: =1772
            Y: =5
            ZIndex: =9

        Btn_Back_7 As button:
            Fill: =_VarColoresApp.VerdeParaBotones
            Height: =60
            HoverFill: =_VarColoresApp.AzulFondo
            OnSelect: |-
                =Reset(Rd_InternoExterno);
                Reset(Cmb_BuscarMiEquipo);
                //UpdateContext({_VarMostrarEdicionEquipo:false});;
                Clear(Col_UsuarioenEquipo);
                ResetForm(Frm_EditarEquipo);
                Reset(Rd_PersonasEquipos);
                Navigate(Portada,ScreenTransition.Fade)
            PaddingTop: =2.5
            PressedFill: =_VarColoresApp.VerdeParaBotones
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Size: =35
            Text: ="⬅"
            Tooltip: ="Regresar"
            Width: =82
            X: =1837
            ZIndex: =10

    Btn_Ris_Riesgos As button:
        BorderColor: =RGBA(202, 202, 202, 1)
        Color: =RGBA(26, 26, 26, 1)
        Fill: =RGBA(255, 255, 255, 1)
        OnSelect: =Navigate(ModuloRiesgos,ScreenTransition.Fade)
        RadiusBottomLeft: =0
        RadiusBottomRight: =0
        Text: ="Riesgos"
        Width: =150
        X: =1405
        Y: =329
        ZIndex: =64

    Gp_Gl_Menu As group:
        Height: =5
        Width: =5
        X: =19
        Y: =29
        ZIndex: =64

        Img_Finanza_6 As image:
            Height: =50
            Image: =Icn_finanzas01
            OnSelect: =
            Width: =50
            X: =20
            Y: =600
            ZIndex: =11

        Img_KPI_6 As image:
            Height: =50
            Image: =Icn_kpi2
            OnSelect: =
            Width: =50
            X: =20
            Y: =518
            ZIndex: =12

        Img_Portafolio_6 As image:
            Height: =50
            Image: ='Icn_gestionar 01'
            OnSelect: =
            Width: =50
            X: =20
            Y: =429
            ZIndex: =13

        Btn_KPIs_6 As button:
            DisabledBorderColor: =RGBA(255, 255, 255, 1)
            DisabledFill: =RGBA(255, 255, 255, 1)
            DisplayMode: |-
                =DisplayMode.Edit
                /*
                If(
                    First(ProyectoSeleccionado).'Nombre Producto/Proyecto' = "NUEVO PRODUCTO / PROYECTO";
                    DisplayMode.Disabled;
                    If(
                        PermisoUsuario.'Acceso Outcome';
                        DisplayMode.Edit;
                        DisplayMode.Disabled
                    )
                )
                */
            Fill: =RGBA(0, 0, 0, 0)
            Height: =60
            HoverColor: =RGBA(255, 255, 0, 0.13)
            HoverFill: =RGBA(255, 255, 0, 0.13)
            OnSelect: |
                =/*
                UpdateContext({_VarVerProductoProyecto:false});;
                //UpdateContext({_VarVerDependencia:false});;
                UpdateContext({_VarVerKpi:true});;
                //UpdateContext({_VarVerDetalleKPI:false});;
                UpdateContext({_VarVerFinanciamiento:false});; 
                UpdateContext({_VarVerDBloqueoI:false});;
                ClearCollect(Col_KPIProducto;Sort(Filter(Col_BD_KPIs; IDProducto = ThisItem.IDProducto);Creado;SortOrder.Descending));;
                Clear(Col_RegistrosPorKPI);;
                */
                
                 /*Mostrar Spinner Cargando*/
                Set(_VarMostrarCargando,true);
                
                ClearCollect(Col_KPIProducto,Sort(Filter(Col_BD_KPIs, IDProducto = First(ProyectoSeleccionado).IDProducto),Creado,SortOrder.Descending));
                Clear(Col_RegistrosPorKPI);
                Set(Var_IDProducto,First(ProyectoSeleccionado).IDProducto);
                Navigate(ModuloKPI,ScreenTransition.None);
                
                 /*Ocultar Spinner Cargando*/
                Set(_VarMostrarCargando,false);
            PressedColor: =RGBA(255, 255, 255, 1)
            Size: =25
            Text: =""
            Tooltip: ="Gestionar KPIs"
            Width: =60
            X: =15
            Y: =511
            ZIndex: =14

        Btn_Financiamiento_6 As button:
            DisabledBorderColor: =RGBA(255, 255, 255, 1)
            DisabledFill: =RGBA(255, 255, 255, 1)
            DisplayMode: |+
                =If(
                    First(ProyectoSeleccionado).'Nombre Producto/Proyecto' = "NUEVO PRODUCTO / PROYECTO",
                    DisplayMode.Disabled,
                    If(
                        First(ProyectoSeleccionado).RequiereFinanciamiento = "NO",
                        DisplayMode.Disabled,
                        DisplayMode.Edit
                    )
                )
                
            Fill: =RGBA(0, 0, 0, 0)
            Height: =60
            HoverFill: =RGBA(153, 207, 236, 0.24)
            OnSelect: |-
                =ClearCollect(Col_FinanciamientoProducto,Filter(Col_BD_Financiamiento, IDProducto = First(ProyectoSeleccionado).IDProducto));
                Set(Var_IDProducto,First(ProyectoSeleccionado).IDProducto);
                Navigate(ModuloFinanciadoNegocio,Transition.None)
                /*
                UpdateContext({_VarVerProductoProyecto:false});;
                //UpdateContext({_VarVerDependencia:false});;
                UpdateContext({_VarVerKpi:false});;
                //UpdateContext({_VarVerDetalleKPI:false});;
                UpdateContext({_VarVerFinanciamiento:true});;
                ClearCollect(Col_FinanciamientoProducto;Filter(Col_BD_Financiamiento; IDProducto = ThisItem.IDProducto))
                */
            PressedColor: =RGBA(153, 207, 236, 0.24)
            Size: =25
            Text: =""
            Tooltip: ="Gestionar Financiamiento"
            Width: =60
            X: =15
            Y: =595
            ZIndex: =15

        Btn_Portafolio_6 As button:
            DisabledBorderColor: =RGBA(255, 255, 255, 1)
            Fill: |
                =RGBA(222, 154, 237, 0.22)
            Height: =60
            HoverColor: =RGBA(222, 154, 237, 0.22)
            HoverFill: =
            OnSelect: |-
                =/*
                UpdateContext({_VarVerProductoProyecto:true});;
                //UpdateContext({_VarVerDependencia:false});;
                UpdateContext({_VarVerKpi:false});;
                //UpdateContext({_VarVerDetalleKPI:false});;
                UpdateContext({_VarVerFinanciamiento:false});;
                */
            PressedFill: =RGBA(222, 154, 237, 0.22)
            Size: =25
            Text: =""
            Tooltip: ="Gestionar Producto / Proyecto"
            Width: =60
            X: =15
            Y: =423
            ZIndex: =16

    Lbl_Pry_ProyectoEspejo_4 As label:
        AutoHeight: =true
        FontWeight: =FontWeight.Semibold
        OnSelect: =
        Text: |-
            =/*
            "Estado: "& If(
                First(ProyectoSeleccionado).Estado in ["Por iniciar";"Discovery";"Requerimientos detallados";"Diseño técnico detallado";"Desarrollo";"Pruebas";"Puesta en marcha";"Roll out";"Hypercare";"Pausado"];
                "Ejecución - ";
                If(
                    First(ProyectoSeleccionado).Estado in ["Tech";"Negocio"];
                    "Descontinuado - " ;
                    Blank() 
                )
            ) &
            */
            "Estado: " & First(ProyectoSeleccionado).Estado
        Width: =326
        X: =1562
        Y: =286
        ZIndex: =65

    Btn_RiesgoProyecto_9 As button:
        BorderColor: =RGBA(202, 202, 202, 1)
        Color: =RGBA(26, 26, 26, 1)
        Fill: =Color.White
        OnSelect: =Navigate(ModuloIniciativasRollOut,ScreenTransition.Fade);Set(_Ver_Iniciativa_Documentos,true)
        RadiusBottomLeft: =0
        RadiusBottomRight: =0
        Text: |-
            ="Documentos
            "
        Width: =200
        X: =1559
        Y: =329
        ZIndex: =66

    Btn_RiesgoProyecto_10 As button:
        BorderColor: =RGBA(202, 202, 202, 1)
        Color: =RGBA(26, 26, 26, 1)
        Fill: =Color.White
        OnSelect: =Navigate(ModuloIniciativasRollOut,ScreenTransition.Fade);Set(_Ver_Iniciativa_Documentos,false)
        RadiusBottomLeft: =0
        RadiusBottomRight: =0
        Text: ="Rollout"
        Width: =130
        X: =1762
        Y: =329
        ZIndex: =67

    Txt_Pry_LabelJira_4 As text:
        BorderColor: =RGBA(128, 128, 128, 1)
        BorderThickness: =3
        Default: |-
            =If(
                 Dpd_Pry_ProductoProyecto_1.Selected.Value = "Producto Tecnológico" ,
                 "",
                If(
                    !IsBlank(First(ProyectoSeleccionado).LabelJira),
                        First(ProyectoSeleccionado).LabelJira,
                        "cl_pry_"& Right(First(ProyectoSeleccionado).IDProducto,5)
                    )
            )
            
            /*
            If(
                IsBlank(ThisItem.LabelJira) && IsBlank(LookUp(Col_CodigoJirapry; CodGuidPortafolio = ThisItem.IDProducto));
                "";
                If(
                    !IsBlank(ThisItem.LabelJira) && !IsBlank(LookUp(Col_CodigoJirapry; CodGuidPortafolio = ThisItem.IDProducto));
                    ThisItem.LabelJira;
                    LookUp(Col_CodigoJirapry; CodGuidPortafolio = ThisItem.IDProducto;Codigo_Jira)
                )
            )
            */
            /*
            If(
                Dpd_ProductoProyecto.Selected.Value = "Producto Tecnológico";
                "";
                If(
                    IsBlank(ThisItem.LabelJira);
                    //Concatenate("cl_prd_";First(Sort(Col_DigitosJiraprd;Value(Digito);SortOrder.Descending)).Digito + 1);
                    Concatenate("cl_pry_";First(Sort(Col_DigitosJirapry;Value(Digito);SortOrder.Descending)).Digito + 1);
                    ThisItem.LabelJira
                ) 
            )
            */
        DelayOutput: =true
        DisabledColor: =RGBA(77, 77, 77, 1)
        DisplayMode: =DisplayMode.Disabled
        Height: =35
        HoverBorderColor: =RGBA(128, 128, 128, 1)
        HoverFill: =RGBA(255, 255, 255, 1)
        PaddingLeft: =15
        RadiusBottomLeft: =25
        RadiusBottomRight: =25
        RadiusTopLeft: =25
        RadiusTopRight: =25
        Reset: =ResetearControlPry
        Tooltip: =
        Visible: |-
            =
                If(
                    Dpd_Pry_ProductoProyecto_1.Selected.Value = "Producto Tecnológico",
                    false,
                    true
                )
        Width: =148
        X: =1302
        Y: =277
        ZIndex: =68

    Lbl_Pry_Jira_6 As label:
        FontWeight: =FontWeight.Semibold
        Height: =33
        OnSelect: =
        Text: |-
            ="Label Jira:"
        Visible: |-
            =    If(
                    Dpd_Pry_ProductoProyecto_1.Selected.Value = "Producto Tecnológico",
                    false,
                    true
                )
        Width: =103
        X: =1199
        Y: =279
        ZIndex: =69

    Lbl_Gl_FechaGoLive_4 As label:
        AutoHeight: =true
        FontWeight: =FontWeight.Semibold
        Height: =59
        OnSelect: =
        Text: |-
            ="Fecha de finalización Iniciativa:"
        Width: =317
        X: =483
        Y: =393
        ZIndex: =70

    Txt_Gl_FondoFecha_7 As text:
        BorderColor: =RGBA(128, 128, 128, 1)
        BorderThickness: =3
        Default: =""
        DisabledFill: =RGBA(255, 255, 255, 1)
        DisplayMode: =DisplayMode.Disabled
        Fill: =RGBA(0, 0, 0, 0)
        Height: =50
        RadiusBottomLeft: =25
        RadiusBottomRight: =25
        RadiusTopLeft: =25
        RadiusTopRight: =25
        Width: =300
        X: =483
        Y: =428
        ZIndex: =71

    Dtp_Gl_FechaGolive_4 As datepicker:
        BorderColor: =
        BorderStyle: =BorderStyle.None
        BorderThickness: =0
        DefaultDate: =Mid(First(Split(First(ProyectoSeleccionado).Fecha_Finalizacion_Iniciativa,"|")).Value,1,10)
        EndYear: =Year(Today())+100
        Format: ="dd/mm/y"
        Height: =Txt_Gl_FondoFecha_7.Height - 10
        IconBackground: =Color.White
        IconFill: =RGBA(0, 121, 187, 1)
        IsEditable: =true
        PaddingBottom: =0
        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
        Reset: =ResetearControlPry
        StartYear: =1899
        Tooltip: =
        Width: =Txt_Gl_FondoFecha_7.Width - 27
        X: =500
        Y: =433
        ZIndex: =72

    Container21 As groupContainer.manualLayoutContainer:
        Fill: =RGBA(122, 138, 143, 0.71)
        Height: =1050
        Visible: =_Popup
        Width: =1920
        ZIndex: =73

        Rectangle32 As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =647
            Width: =1195
            X: =390
            Y: =222
            ZIndex: =1

        HtmlText5_5 As htmlViewer:
            Font: =Font.'Segoe UI'
            Height: =260
            HtmlText: ="<p>Se solicitará el cierre de la iniciativa, asegúrese de tener toda la documentación ingresada y tener sus épicas cerradas. Se notificará a AgilePortfolio que se contactará al staff de tecnología para validar el cierre.</p>"
            Size: =18
            Width: =992
            X: =504
            Y: =306
            ZIndex: =2

        Label47_6 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            Fill: =_VarColoresApp.AzulparaCabeceras
            FontWeight: =FontWeight.Semibold
            Height: =45
            Size: =15
            Text: ="CONFIRMAR CIERRE DE INICIATIVA"
            Width: =1195
            X: =390
            Y: =222
            ZIndex: =3

        Icon39 As icon.CancelBadge:
            Color: =RGBA(255, 255, 255, 1)
            Height: =45
            Icon: =Icon.CancelBadge
            OnSelect: |-
                =UpdateContext({_Popup:false})
            Width: =35
            X: =1548
            Y: =222
            ZIndex: =7

        Button15_25 As button:
            Fill: =_VarColoresApp.AzulFondo
            Height: =45
            HoverFill: =_VarColoresApp.AzulparaCabeceras
            OnSelect: |-
                =UpdateContext({_Popup:false})
                
                /*NewForm(FormContratoProveedor);;Set(Guid_Proveedor;"Prov_" & GUID());;
                NewForm(Form1);;NewForm(Form1_1);;NewForm(Form1_2);;NewForm(Form1_3);;NewForm(Form1_4);;NewForm(Form1_5);;NewForm(Form1_6);;NewForm(Form1_7);;NewForm(Form1_8);;NewForm(Form1_9);;NewForm(Form1_10);;NewForm(Form1_11);;NewForm(Form1_12);;
                Navigate(Proveedor;ScreenTransition.None);;Set(_VarFormEstado;false)*/
            Text: ="Cancelar"
            Width: =254
            X: =647
            Y: =756
            ZIndex: =8

        Button15_26 As button:
            Fill: =_VarColoresApp.VerdeParaBotones
            Height: =45
            HoverFill: =_VarColoresApp.AzulparaCabeceras
            OnSelect: |-
                =/*Mostrar Spinner Cargando*/
                Set(_VarMostrarCargando,true);
                Set(IDRegistro,
                    Patch(
                        'Dominio - Proyecto/Producto',
                        If(
                            IsBlank(LookUp('Dominio - Proyecto/Producto', IDProducto = First(ProyectoSeleccionado).IDProducto)),
                            Defaults('Dominio - Proyecto/Producto'),
                            LookUp('Dominio - Proyecto/Producto', IDProducto = First(ProyectoSeleccionado).IDProducto)
                        ),
                        {
                            'Categoría Iniciativa': {Value:Dpd_Pry_ProductoProyecto.Selected.Value} ,
                            IDDominio: Dpd_Pry_Dominio.Selected.IDDominio ,
                            IDSubDominio: Dpd_Pry_SubDominio.Selected.IDSubDominio,
                            IDProducto:  First(ProyectoSeleccionado).IDProducto,	
                            IDEquipo:  Cmb_Gl_Equipo.Selected.IDEquipo,	
                            'Nombre Producto/Proyecto': "CL - "&Txt_Pry_NombreProyectoProducto.Text ,		
                            'Proviene de OA':  If( Rd_Pry_ProvieneOA.Selected.Value = "SI",true,false) ,		
                            'Registrado en APM': Rd_Pry_RegistradoenAPM.Selected ,		
                            'Nombre APM': Txt_Pry_NombreAPM.Text ,		
                            'Codigo APM': Txt_Pry_CodigoAPM.Text,		
                            'Nombre Necesidad':  If(Rd_Pry_ProvieneOA.Selected.Value = "SI",Dpd_Pry_NombreNecesidad.Selected.Nombre_x0020_de_x0020_Necesidad,""), 	
                            //'Leverage con WM Internacional (BTV)': Rd_Pry_LeverageWM.Selected ;
                            TipoProyecto: Dpd_Pry_TipoPry.Selected.Value,
                            Tamano: Dpd_Pry_TamanoPry.Selected.Value,				
                            RequiereFinanciamiento:  Rd_Pry_RequiereFinanciamiento.Selected.Value ,		
                            Desc_Financiamiento: If( Rd_Pry_RequiereFinanciamiento.Selected.Value = "NO", Dpd_Pry_DetalleMotivo.Selected.Value,""),							
                            ID_Jefe_Poyecto:
                            If(
                                Chk_AplicaPO.Checked,
                                Blank(),   
                                Upper(
                                    If( 
                                        IsBlank(Cmb_Gl_JefeProyecto.Selected.Claims)
                                        ,First(ProyectoSeleccionado).ID_Jefe_Poyecto,
                                        Last(ForAll(Split(First(ForAll(Split(Cmb_Gl_JefeProyecto.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result))
                            ),		
                            ID_Responsable_Tecnologia:
                            If(
                                Chk_AplicaEM.Checked,
                                Blank(), 
                                Upper(
                                    If( 
                                        IsBlank(Cmb_Gl_ResponsableTecnologia.Selected.Claims)
                                        ,First(ProyectoSeleccionado).ID_Responsable_Tecnologia,
                                        Last(ForAll(Split(First(ForAll(Split(Cmb_Gl_ResponsableTecnologia.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result))
                            ),
                            ID_ResponsableNegocio:
                            If(
                                Chk_AplicaNegocio.Checked,
                                Blank(), 
                                Upper(
                                    If( 
                                        IsBlank(Cmb_Gl_Negocio.Selected.Claims)
                                        ,First(ProyectoSeleccionado).ID_ResponsableNegocio,
                                        Last(ForAll(Split(First(ForAll(Split(Cmb_Gl_Negocio.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result))
                            ),
                            ID_Sponsor:
                            Upper(
                                If( 
                                    IsBlank(Cmb_Gl_Sponsor.Selected.Claims)
                                    ,First(ProyectoSeleccionado).ID_Sponsor,
                                    Last(ForAll(Split(First(ForAll(Split(Cmb_Gl_Sponsor.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result)),
                            ID_Datos:
                             If(
                                Chk_AplicaDatos.Checked,
                                Blank(), 
                                Upper(
                                    If( 
                                        IsBlank(Cmb_Gl_Datos.Selected.Claims),
                                        First(ProyectoSeleccionado).ID_Datos,
                                        Last(ForAll(Split(First(ForAll(Split(Cmb_Gl_Datos.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result))
                             ),
                            ID_Ux:
                            If(
                                Chk_AplicaUx.Checked,
                                Blank(), 
                                Upper(
                                    If( 
                                        IsBlank(Cmb_Gl_Ux.Selected.Claims)
                                        ,First(ProyectoSeleccionado).ID_Ux,
                                        Last(ForAll(Split(First(ForAll(Split(Cmb_Gl_Ux.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result))
                            ),
                            AplicaJefeProyecto: Chk_AplicaPO.Checked,    
                            AplicaEM: Chk_AplicaEM.Checked,  
                            AplicaNegocio: Chk_AplicaNegocio.Checked,  
                            AplicaDatos: Chk_AplicaDatos.Checked,  
                            AplicaUx: Chk_AplicaUx.Checked,
                            Estado_Iniciativa:If(First(ProyectoSeleccionado).Iniciativa,Dpd_Gl_EstadoProductoProyecto.Selected.Value,""),
                            Estado:If(First(ProyectoSeleccionado).Estado="Finalizado" , "Finalizado",
                                    If(First(ProyectoSeleccionado).Estado="Solicitud de finalización" || Dpd_Gl_EstadoProductoProyecto.Selected.Value ="Finalizado","Solicitud de finalización",
                                    Dpd_Gl_EstadoProductoProyecto.Selected.Value)),
                            'Bring Buy Build': Cmb_Pry_BBB.SelectedItems,							
                            LabelJira:  Txt_Pry_LabelJira.Text,
                            //BigRock:If( Rd_Pry_BigRock.Selected.Value = "SI";true;false);
                            MatrizStakeholders: Rd_Gl_MatrizStakeholders.Selected.Value,
                            LinkDocumentario: If( !IsBlank(Txt_Gl_LinkDocumentario.Text), Lower(If( ( Lower(Left(Txt_Gl_LinkDocumentario.Text,8)) = "https://" ||  Lower(Left(Txt_Gl_LinkDocumentario.Text,7)) = "http://"),Txt_Gl_LinkDocumentario.Text,"https://" & Txt_Gl_LinkDocumentario.Text)),""),
                            FechaGolive: Dtp_Gl_FechaGolive.SelectedDate,
                            ComentariosGolive: Txt_Gl_ComentarioGolive.Text,
                            ComoVamos: Txt_Gl_ComoVamos.Text,
                            FechaUltimoEstado: If( 		
                                Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Ejecución" || Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Descontinuado",		
                	                If(		
                	                    First(ProyectoSeleccionado).Estado <> Dpd_Gl_SubEstadoProductoProyecto.Selected.Value,		
                	                    Text(Today(),"dd/mm/yyyy"),		
                	                    First(ProyectoSeleccionado).FechaUltimoEstado		
                	                ),		
                	                If(		
                	                    First(ProyectoSeleccionado).Estado <> Dpd_Gl_EstadoProductoProyecto.Selected.Value,		
                	                    Text(Today(),"dd/mm/yyyy"),		
                	                    First(ProyectoSeleccionado).FechaUltimoEstado		
                	                )		
                	            ),
                            AreadeImpacto: Dpd_Pry_AreadeImpacto.Selected.Value
                        },
                        Frm_Pry_AdjArchivo.Updates
                    ).ID
                );
                
                    /* Gestion de Errores */
                    ClearCollect(Col_ErroresGuardarProyecto, Errors('Dominio - Proyecto/Producto',First(ProyectoSeleccionado)));
                    If(
                        IsEmpty(Col_ErroresGuardarProyecto),
                        Patch(
                        Col_DominiosGestion,
                            If(
                                IsBlank(LookUp(Col_DominiosGestion, IDProducto = First(ProyectoSeleccionado).IDProducto)),
                                Defaults(Col_DominiosGestion),
                                LookUp(Col_DominiosGestion, IDProducto = First(ProyectoSeleccionado).IDProducto)
                            ),
                            {
                            'Categoría Iniciativa': {Value:Dpd_Pry_ProductoProyecto.Selected.Value} ,
                            IDDominio: Dpd_Pry_Dominio.Selected.IDDominio ,
                            IDSubDominio: Dpd_Pry_SubDominio.Selected.IDSubDominio,
                            IDProducto:  First(ProyectoSeleccionado).IDProducto,	
                            IDEquipo:  Cmb_Gl_Equipo.Selected.IDEquipo,	
                            'Nombre Producto/Proyecto': "CL - "& Txt_Pry_NombreProyectoProducto.Text ,		
                            'Proviene de OA':  If( Rd_Pry_ProvieneOA.Selected.Value = "SI",true,false) ,		
                            'Registrado en APM': Rd_Pry_RegistradoenAPM.Selected ,		
                            'Nombre APM': Txt_Pry_NombreAPM.Text ,		
                            'Codigo APM': Txt_Pry_CodigoAPM.Text,		
                            'Nombre Necesidad':  If(Rd_Pry_ProvieneOA.Selected.Value = "SI",Dpd_Pry_NombreNecesidad.Selected.Nombre_x0020_de_x0020_Necesidad,""), 	
                            //'Leverage con WM Internacional (BTV)': Rd_Pry_LeverageWM.Selected ;
                            TipoProyecto: Dpd_Pry_TipoPry.Selected.Value,
                            Tamano: Dpd_Pry_TamanoPry.Selected.Value,				
                            RequiereFinanciamiento:  Rd_Pry_RequiereFinanciamiento.Selected.Value ,		
                            Desc_Financiamiento: If( Rd_Pry_RequiereFinanciamiento.Selected.Value = "NO", Dpd_Pry_DetalleMotivo.Selected.Value,""),							
                             ID_Jefe_Poyecto:
                            If(
                                Chk_AplicaPO.Checked,
                                Blank(),   
                                Upper(
                                    If( 
                                        IsBlank(Cmb_Gl_JefeProyecto.Selected.Claims)
                                        ,First(ProyectoSeleccionado).ID_Jefe_Poyecto,
                                        Last(ForAll(Split(First(ForAll(Split(Cmb_Gl_JefeProyecto.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result))
                            ),		
                            ID_Responsable_Tecnologia:
                            If(
                                Chk_AplicaEM.Checked,
                                Blank(), 
                                Upper(
                                    If( 
                                        IsBlank(Cmb_Gl_ResponsableTecnologia.Selected.Claims)
                                        ,First(ProyectoSeleccionado).ID_Responsable_Tecnologia,
                                        Last(ForAll(Split(First(ForAll(Split(Cmb_Gl_ResponsableTecnologia.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result))
                            ),
                            ID_ResponsableNegocio:
                            If(
                                Chk_AplicaNegocio.Checked,
                                Blank(), 
                                Upper(
                                    If( 
                                        IsBlank(Cmb_Gl_Negocio.Selected.Claims)
                                        ,First(ProyectoSeleccionado).ID_ResponsableNegocio,
                                        Last(ForAll(Split(First(ForAll(Split(Cmb_Gl_Negocio.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result))
                            ),
                            ID_Sponsor:
                            Upper(
                                If( 
                                    IsBlank(Cmb_Gl_Sponsor.Selected.Claims)
                                    ,First(ProyectoSeleccionado).ID_Sponsor,
                                    Last(ForAll(Split(First(ForAll(Split(Cmb_Gl_Sponsor.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result)),
                            ID_Datos:
                             If(
                                Chk_AplicaDatos.Checked,
                                Blank(), 
                                Upper(
                                    If( 
                                        IsBlank(Cmb_Gl_Datos.Selected.Claims),
                                        First(ProyectoSeleccionado).ID_Datos,
                                        Last(ForAll(Split(First(ForAll(Split(Cmb_Gl_Datos.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result))
                             ),
                            ID_Ux:
                            If(
                                Chk_AplicaUx.Checked,
                                Blank(), 
                                Upper(
                                    If( 
                                        IsBlank(Cmb_Gl_Ux.Selected.Claims)
                                        ,First(ProyectoSeleccionado).ID_Ux,
                                        Last(ForAll(Split(First(ForAll(Split(Cmb_Gl_Ux.Selected.Claims,"@"), {Result: ThisRecord.Value})).Result,"|"), {Result: ThisRecord.Value})).Result))
                            ),
                            AplicaJefeProyecto: Chk_AplicaPO.Checked,    
                            AplicaEM: Chk_AplicaEM.Checked,  
                            AplicaNegocio: Chk_AplicaNegocio.Checked,  
                            AplicaDatos: Chk_AplicaDatos.Checked,  
                            AplicaUx: Chk_AplicaUx.Checked,      
                            Estado_Iniciativa:If(First(ProyectoSeleccionado).Iniciativa,Dpd_Gl_EstadoProductoProyecto.Selected.Value,""),
                            Estado:If(First(ProyectoSeleccionado).Estado="Finalizado" , "Finalizado",
                                    If(First(ProyectoSeleccionado).Estado="Solicitud de finalización" || Dpd_Gl_EstadoProductoProyecto.Selected.Value ="Finalizado","Solicitud de finalización",
                                    Dpd_Gl_EstadoProductoProyecto.Selected.Value)),
                            'Bring Buy Build': Cmb_Pry_BBB.SelectedItems,							
                            LabelJira:  Txt_Pry_LabelJira.Text,
                            //BigRock:If( Rd_Pry_BigRock.Selected.Value = "SI";true;false);
                            MatrizStakeholders: Rd_Gl_MatrizStakeholders.Selected.Value,
                            LinkDocumentario:  If( !IsBlank(Txt_Gl_LinkDocumentario.Text), Lower(If( ( Lower(Left(Txt_Gl_LinkDocumentario.Text,8)) = "https://" ||  Lower(Left(Txt_Gl_LinkDocumentario.Text,7)) = "http://"),Txt_Gl_LinkDocumentario.Text,"https://" & Txt_Gl_LinkDocumentario.Text)),""),
                            FechaGolive: Dtp_Gl_FechaGolive.SelectedDate,
                            ComentariosGolive: Txt_Gl_ComentarioGolive.Text,
                            ComoVamos: Txt_Gl_ComoVamos.Text,
                            FechaUltimoEstado: If( 		
                                Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Ejecución" || Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Descontinuado",		
                	                If(		
                	                    First(ProyectoSeleccionado).Estado <> Dpd_Gl_SubEstadoProductoProyecto.Selected.Value,		
                	                    Text(Today(),"dd/mm/yyyy"),		
                	                    First(ProyectoSeleccionado).FechaUltimoEstado		
                	                ),		
                	                If(		
                	                    First(ProyectoSeleccionado).Estado <> Dpd_Gl_EstadoProductoProyecto.Selected.Value,		
                	                    Text(Today(),"dd/mm/yyyy"),		
                	                    First(ProyectoSeleccionado).FechaUltimoEstado		
                	                )		
                	            ),
                            AreadeImpacto: Dpd_Pry_AreadeImpacto.Selected.Value
                        },
                        Frm_Pry_AdjArchivo.Updates
                    );
                
                    //Guardar el Historial de GoLive
                    If(
                        !(First(ProyectoSeleccionado).FechaGolive = Dtp_Gl_FechaGolive.SelectedDate) && !(First(ProyectoSeleccionado).ComentariosGolive = Txt_Gl_ComentarioGolive.Text),
                        Patch(
                            Lst_HistoricoGoLive,
                            Defaults(Lst_HistoricoGoLive),
                            {
                                IDProducto: First(ProyectoSeleccionado).IDProducto,
                                FechaGolive: Dtp_Gl_FechaGolive.SelectedDate,
                                ComentarioGoLive: Txt_Gl_ComentarioGolive.Text,
                                Version: _VarVersionGoLive +1
                            }
                        )
                    );
                
                    //Guardar el Historial de ComoVamos
                    If(
                        !(First(ProyectoSeleccionado).ComoVamos = Txt_Gl_ComoVamos.Text) && !IsBlank(Txt_Gl_ComoVamos.Text),
                        Patch(
                            Lst_HistorialComoVamos,
                            Defaults(Lst_HistorialComoVamos),
                            {
                                IDProducto: First(ProyectoSeleccionado).IDProducto,
                                FechaRegistro: Today(),
                                ComoVamos: Txt_Gl_ComoVamos.Text,
                                Estado: If( Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Ejecución" || Dpd_Gl_EstadoProductoProyecto.Selected.Value = "Descontinuado" ,Dpd_Gl_SubEstadoProductoProyecto.Selected.Value,Dpd_Gl_EstadoProductoProyecto.Selected.Value),
                                Version: _VarVersionComoVamos +1
                            }
                        )
                    );
                        
                            Patch(
                                Lst_LabelsJira,
                                If(
                                    IsBlank(LookUp( Lst_LabelsJira, CodigoAsociado = First(ProyectoSeleccionado).IDProducto)),
                                    Defaults(Lst_LabelsJira),
                                    LookUp( Lst_LabelsJira, CodigoAsociado = First(ProyectoSeleccionado).IDProducto)
                                ),
                                {
                                    Herramienta: "Bind",
                                    CodigoAsociado: First(ProyectoSeleccionado).IDProducto,
                                    EtiquetaJira: If( Dpd_Pry_ProductoProyecto.Selected.Value = "Proyecto Tecnológico","cl_pry","cl_prd"),
                                    //Epica: Txt_CodigoJira.Text;
                                    LabelJira: Txt_Pry_LabelJira.Text
                                }
                            );
                            /*----------------------------------------------------------*/
                        Refresh('Dominio - Proyecto/Producto');
                        ClearCollect(Col_BD_Portafolio, 'Dominio - Proyecto/Producto');
                        Refresh(Lst_HistorialComoVamos);
                        
                        If(
                            !(First(ProyectoSeleccionado).Estado = Dpd_EstadoProductoProyecto_2.Selected.Value) || !(First(ProyectoSeleccionado).'Categoría Iniciativa'.Value = Dpd_Pry_ProductoProyecto.Selected.Value),
                            ClearCollect(Col_DominiosGestion, Filter(Col_BD_Portafolio, IDDominio in Col_IDDOminios.IDDominio));
                            UpdateContext({_VarMostrarCuadroBloqueo:false})
                            
                        );
                        
                        If(
                            First(ProyectoSeleccionado).'Nombre Producto/Proyecto' = "NUEVO PROYECTO",
                            Notify("Se guardo correctamente el proyecto.",NotificationType.Success,10000),
                            Notify("Se actualizo correctamente el la información del proyecto.",NotificationType.Success,10000)
                        );
                
                        // Cargar nuevamente la coleccion del proyecto Seleccionado
                        ClearCollect(ProyectoSeleccionado, LookUp('Dominio - Proyecto/Producto',ID = IDRegistro))
                        
                        , // En caso tire algun error
                        
                        Patch(Lst_GestionErrores,
                        Defaults(Lst_GestionErrores),
                            {
                                Modulo: "Proyecto", 
                                Usuario: _Perfil.displayName, 
                                FechaError: Today(), 
                                MensajeError:First(Col_ErroresGuardarProyecto).Message, 
                                IDError: First(Col_ErroresGuardarProyecto).Error, 
                                HoraError: Hour(Now()) & ":" & Minute(Now()), 
                                CampoError: First(Col_ErroresGuardarProyecto).Column
                            }
                        );
                        Notify(First(Col_ErroresGuardarProyecto).Message,NotificationType.Error,4000)
                    );
                    UpdateContext({_Popup:false});
                /*Mostrar Spinner Cargando*/
                Set(_VarMostrarCargando,false)
                /* ------------------ */
            Text: ="Confirmar Cierre de Iniciativa"
            Width: =344
            X: =1051
            Y: =756
            ZIndex: =9

        Image28 As image:
            Height: =295
            Image: =Picture14
            Width: =324
            X: =825
            Y: =431
            ZIndex: =10

    Guardando_2 As Guardando:
        Visible: =_VarMostrarCargando
        ZIndex: =74

    Gp_Filtros_6 As group:
        Height: =5
        Width: =5
        X: =20
        Y: =20
        ZIndex: =117

        Html_FondoNuevoEquipo_25 As htmlViewer:
            Height: =145
            HtmlText: |-
                ="
                <div style='
                    width: 1450px;
                    height: 105px;
                    background: #C4D5E3;
                    border-radius: 20px;
                    box-shadow: 0px 0px 10px #888888;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    padding: 10px;
                '>
                </div>
                "
            PaddingLeft: =10
            Width: =1500
            X: =203
            Y: =97
            ZIndex: =43

        Txt_FondoForm1_57 As text:
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderThickness: =3
            Default: =Dpd_FiltroProyeProd.Selected.Value
            DisabledColor: =RGBA(51, 51, 51, 1)
            DisplayMode: =DisplayMode.Disabled
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            RadiusBottomLeft: =25
            RadiusBottomRight: =25
            RadiusTopLeft: =25
            RadiusTopRight: =25
            Width: =314
            X: =418
            Y: =145
            ZIndex: =44

        Label6_81 As label:
            FontWeight: =FontWeight.Semibold
            Text: |-
                ="Tipo:"
            Width: =287
            X: =419
            Y: =107
            ZIndex: =45

        Label6_82 As label:
            FontWeight: =FontWeight.Semibold
            Text: |-
                ="Nombre del proyecto:" 
            Width: =287
            X: =761
            Y: =105
            ZIndex: =46

        Txt_FondoForm1_102 As text:
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderThickness: =3
            Default: =Cmb_FiltroJefePO.Selected.DisplayName
            DisabledColor: =RGBA(77, 77, 77, 1)
            DisplayMode: =DisplayMode.Disabled
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            RadiusBottomLeft: =25
            RadiusBottomRight: =25
            RadiusTopLeft: =25
            RadiusTopRight: =25
            Width: =314
            X: =1083
            Y: =145
            ZIndex: =47

        DataCardKey15_16 As label:
            AutoHeight: =true
            Color: =RGBA(0, 0, 0, 1)
            FontWeight: =FontWeight.Semibold
            Text: |-
                ="PO / JP:"
            Width: =239
            Wrap: =false
            X: =1093
            Y: =105
            ZIndex: =48

        Txt_FondoForm1_103 As text:
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderThickness: =3
            Default: =Cmb_FiltroNombre.Selected.'Nombre Producto/Proyecto'
            DisabledColor: =RGBA(77, 77, 77, 1)
            DisplayMode: =DisplayMode.Disabled
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            RadiusBottomLeft: =25
            RadiusBottomRight: =25
            RadiusTopLeft: =25
            RadiusTopRight: =25
            Width: =314
            X: =754
            Y: =145
            ZIndex: =49

        Txt_FondoForm1_104 As text:
            BorderColor: =RGBA(128, 128, 128, 1)
            BorderThickness: =3
            Default: =Dpd_FiltroEstado.Selected.Value
            DisabledColor: =RGBA(77, 77, 77, 1)
            DisplayMode: =DisplayMode.Disabled
            Fill: =RGBA(0, 0, 0, 0)
            Height: =50
            RadiusBottomLeft: =25
            RadiusBottomRight: =25
            RadiusTopLeft: =25
            RadiusTopRight: =25
            Width: =192
            X: =1428
            Y: =145
            ZIndex: =50

        Label6_83 As label:
            FontWeight: =FontWeight.Semibold
            Text: |-
                ="Estado:"
            Width: =182
            X: =1428
            Y: =105
            ZIndex: =51

        Label10_30 As label:
            FontWeight: =FontWeight.Bold
            Height: =35
            Text: ="Filtra por"
            Width: =122
            X: =292
            Y: =110
            ZIndex: =52

        Label10_31 As label:
            DisabledColor: =RGBA(128, 128, 128, 1)
            DisplayMode: |-
                =If(
                    _VarVerPopUpPortafolio,
                    DisplayMode.Disabled,
                    DisplayMode.Edit
                )
            FontWeight: =FontWeight.Bold
            Text: ="Agregar"
            Tooltip: ="Agregar nuevo Producto / Proyecto"
            Width: =98
            X: =1730
            Y: =159
            ZIndex: =53

        Label13_6 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Semibold
            Height: =55
            Size: =25
            Text: ="PROYECTO TECNOLOGICO"
            Visible: |-
                =If(
                    _VarVerPopUpPortafolio,
                    false,
                    true
                )
            Width: =611
            X: =647
            ZIndex: =54

        Image5_7 As image:
            Height: =35
            Image: ='filtrar (1)'
            Width: =40
            X: =243
            Y: =110
            ZIndex: =55

        Img_AgregarPrdPry_7 As image:
            DisplayMode: |-
                =If(
                    _VarVerPopUpPortafolio,
                    DisplayMode.Disabled,
                    DisplayMode.Edit
                )
            Height: =40
            Image: ='nuevo agregar '
            Tooltip: ="Agregar nuevo Producto / Proyecto"
            Width: =40
            X: =1692
            Y: =159
            ZIndex: =56

        Image20_7 As image:
            Height: =35
            Image: =borrarnose
            Tooltip: ="Limpiar Filtros"
            Width: =40
            X: =248
            Y: =159
            ZIndex: =57

        Label10_32 As label:
            FontWeight: =FontWeight.Bold
            Height: =38
            Text: ="Limpiar"
            Width: =122
            X: =292
            Y: =161
            ZIndex: =58

        Label10_33 As label:
            DisabledColor: =RGBA(128, 128, 128, 1)
            DisplayMode: |-
                =If(
                    _VarVerPopUpPortafolio,
                    DisplayMode.Disabled,
                    DisplayMode.Edit
                )
            FontWeight: =FontWeight.Bold
            OnSelect: |-
                =Concurrent(
                ClearCollect(Col_BD_Portafolio,'Dominio - Proyecto/Producto'),
                ClearCollect(Col_BD_Financiamiento,Portafolio),
                ClearCollect(Col_BD_OA,'Necesidades Walmart Tech'),
                ClearCollect(Col_BD_KPIs,'Outcome - Galería Indice Producto/Métrica'),
                ClearCollect(Col_BD_DetalleKPIs,OUTCOME)
                //ClearCollect(Col_BD_Dependencias;Lst_DependenciasPortafolio)
                );
                
                ClearCollect(Col_IDDOminios, Filter(Col_BD_Dominios, Title in Col_DominiosAsignados.Value).IDDominio);
                ClearCollect(Col_DominiosGestion, Filter(Col_BD_Portafolio, IDDominio in Col_IDDOminios.IDDominio));
                UpdateContext({_VarMostrarCuadroBloqueo:false})
            Text: ="Actualizar"
            Tooltip: ="Agregar Producto / Proyecto"
            Width: =98
            X: =1730
            Y: =110
            ZIndex: =59

        Image23_7 As image:
            Height: =40
            Image: ='nuevo actualizar '
            OnSelect: |-
                =Concurrent(
                ClearCollect(Col_BD_Portafolio,'Dominio - Proyecto/Producto'),
                ClearCollect(Col_BD_Financiamiento,Portafolio),
                ClearCollect(Col_BD_OA,'Necesidades Walmart Tech'),
                ClearCollect(Col_BD_KPIs,'Outcome - Galería Indice Producto/Métrica'),
                ClearCollect(Col_BD_DetalleKPIs,OUTCOME)
                );
                
                ClearCollect(Col_IDDOminios, Filter(Col_BD_Dominios, Title in Col_DominiosAsignados.Value).IDDominio);
                ClearCollect(Col_DominiosGestion, Filter(Col_BD_Portafolio, IDDominio in Col_IDDOminios.IDDominio));
                UpdateContext({_VarMostrarCuadroBloqueo:false})
            Tooltip: ="Actualizar datos"
            Width: =35
            X: =1692
            Y: =110
            ZIndex: =60

        Btn_Pry_LimpiarFiltros_3 As button:
            Fill: =RGBA(0, 0, 0, 0)
            Height: =43
            HoverFill: =RGBA(255, 255, 255, 0.5)
            OnSelect: =Notify("No puede usar este control en este momento, termine de editar el proyecto.",NotificationType.Information,5000)
            PressedFill: =RGBA(255, 255, 255, 0.7)
            Text: =""
            Width: =136
            X: =243
            Y: =156
            ZIndex: =61

        Btn_Pry_AgregarProyecto_3 As button:
            DisabledBorderColor: =RGBA(255, 255, 255, 1)
            DisabledFill: =RGBA(244, 244, 244, 0.4)
            DisplayMode: |-
                =If(
                    _VarVerPopUpPortafolio,
                    DisplayMode.Disabled,
                    DisplayMode.Edit
                )
            Fill: =RGBA(0, 0, 0, 0)
            Height: =43
            HoverFill: =RGBA(255, 255, 255, 0.5)
            OnSelect: =Notify("No puede usar este control en este momento, termine de editar el proyecto.",NotificationType.Information,5000)
            PressedFill: =RGBA(255, 255, 255, 0.7)
            Text: =""
            Width: =136
            X: =1690
            Y: =157
            ZIndex: =62

        Btn_Pry_ActualizarDatos_3 As button:
            Fill: =RGBA(0, 0, 0, 0)
            Height: =43
            HoverFill: =RGBA(255, 255, 255, 0.5)
            OnSelect: =Notify("No puede usar este control en este momento, termine de editar el proyecto.",NotificationType.Information,5000)
            PressedFill: =RGBA(255, 255, 255, 0.7)
            Text: =""
            Width: =136
            X: =1690
            Y: =107
            ZIndex: =63

